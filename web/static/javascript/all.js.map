{
  "version": 3,
  "sources": ["../../../node_modules/govuk-frontend/src/govuk/common/normalise-string.mjs", "../../../node_modules/govuk-frontend/src/govuk/common/index.mjs", "../../../node_modules/govuk-frontend/src/govuk/common/normalise-dataset.mjs", "../../../node_modules/govuk-frontend/src/govuk/errors/index.mjs", "../../../node_modules/govuk-frontend/src/govuk/govuk-frontend-component.mjs", "../../../node_modules/govuk-frontend/src/govuk/i18n.mjs", "../../../node_modules/govuk-frontend/src/govuk/components/accordion/accordion.mjs", "../../../node_modules/govuk-frontend/src/govuk/components/button/button.mjs", "../../../node_modules/govuk-frontend/src/govuk/common/closest-attribute-value.mjs", "../../../node_modules/govuk-frontend/src/govuk/components/character-count/character-count.mjs", "../../../node_modules/govuk-frontend/src/govuk/components/checkboxes/checkboxes.mjs", "../../../node_modules/govuk-frontend/src/govuk/components/error-summary/error-summary.mjs", "../../../node_modules/govuk-frontend/src/govuk/components/exit-this-page/exit-this-page.mjs", "../../../node_modules/govuk-frontend/src/govuk/components/header/header.mjs", "../../../node_modules/govuk-frontend/src/govuk/components/notification-banner/notification-banner.mjs", "../../../node_modules/govuk-frontend/src/govuk/components/password-input/password-input.mjs", "../../../node_modules/govuk-frontend/src/govuk/components/radios/radios.mjs", "../../../node_modules/govuk-frontend/src/govuk/components/skip-link/skip-link.mjs", "../../../node_modules/govuk-frontend/src/govuk/components/tabs/tabs.mjs", "../../../node_modules/govuk-frontend/src/govuk/init.mjs", "../../../node_modules/opg-sirius-header/sirius-header.js", "../../../node_modules/htmx.org/dist/htmx.esm.js", "../../assets/main.js"],
  "sourcesContent": ["/**\n * Normalise string\n *\n * 'If it looks like a duck, and it quacks like a duckâ€¦' ðŸ¦†\n *\n * If the passed value looks like a boolean or a number, convert it to a boolean\n * or number.\n *\n * Designed to be used to convert config passed via data attributes (which are\n * always strings) into something sensible.\n *\n * @internal\n * @param {DOMStringMap[string]} value - The value to normalise\n * @param {SchemaProperty} [property] - Component schema property\n * @returns {string | boolean | number | undefined} Normalised data\n */\nexport function normaliseString(value, property) {\n  const trimmedValue = value ? value.trim() : ''\n\n  let output\n  let outputType = property?.type\n\n  // No schema type set? Determine automatically\n  if (!outputType) {\n    if (['true', 'false'].includes(trimmedValue)) {\n      outputType = 'boolean'\n    }\n\n    // Empty / whitespace-only strings are considered finite so we need to check\n    // the length of the trimmed string as well\n    if (trimmedValue.length > 0 && isFinite(Number(trimmedValue))) {\n      outputType = 'number'\n    }\n  }\n\n  switch (outputType) {\n    case 'boolean':\n      output = trimmedValue === 'true'\n      break\n\n    case 'number':\n      output = Number(trimmedValue)\n      break\n\n    default:\n      output = value\n  }\n\n  return output\n}\n\n/**\n * @typedef {import('./index.mjs').SchemaProperty} SchemaProperty\n */\n", "import { normaliseString } from './normalise-string.mjs'\n\n/**\n * Common helpers which do not require polyfill.\n *\n * IMPORTANT: If a helper require a polyfill, please isolate it in its own module\n * so that the polyfill can be properly tree-shaken and does not burden\n * the components that do not need that helper\n */\n\n/**\n * Config merging function\n *\n * Takes any number of objects and combines them together, with\n * greatest priority on the LAST item passed in.\n *\n * @internal\n * @param {...{ [key: string]: unknown }} configObjects - Config objects to merge\n * @returns {{ [key: string]: unknown }} A merged config object\n */\nexport function mergeConfigs(...configObjects) {\n  // Start with an empty object as our base\n  /** @type {{ [key: string]: unknown }} */\n  const formattedConfigObject = {}\n\n  // Loop through each of the passed objects\n  for (const configObject of configObjects) {\n    for (const key of Object.keys(configObject)) {\n      const option = formattedConfigObject[key]\n      const override = configObject[key]\n\n      // Push their keys one-by-one into formattedConfigObject. Any duplicate\n      // keys with object values will be merged, otherwise the new value will\n      // override the existing value.\n      if (isObject(option) && isObject(override)) {\n        // @ts-expect-error Index signature for type 'string' is missing\n        formattedConfigObject[key] = mergeConfigs(option, override)\n      } else {\n        // Apply override\n        formattedConfigObject[key] = override\n      }\n    }\n  }\n\n  return formattedConfigObject\n}\n\n/**\n * Extracts keys starting with a particular namespace from dataset ('data-*')\n * object, removing the namespace in the process, normalising all values\n *\n * @internal\n * @param {{ schema: Schema }} Component - Component class\n * @param {DOMStringMap} dataset - The object to extract key-value pairs from\n * @param {string} namespace - The namespace to filter keys with\n * @returns {ObjectNested | undefined} Nested object with dot-separated key namespace removed\n */\nexport function extractConfigByNamespace(Component, dataset, namespace) {\n  const property = Component.schema.properties[namespace]\n\n  // Only extract configs for object schema properties\n  if (property?.type !== 'object') {\n    return\n  }\n\n  // Add default empty config\n  const newObject = {\n    [namespace]: /** @type {ObjectNested} */ ({})\n  }\n\n  for (const [key, value] of Object.entries(dataset)) {\n    /** @type {ObjectNested | ObjectNested[NestedKey]} */\n    let current = newObject\n\n    // Split the key into parts, using . as our namespace separator\n    const keyParts = key.split('.')\n\n    /**\n     * Create new level per part\n     *\n     * e.g. 'i18n.textareaDescription.other' becomes\n     * `{ i18n: { textareaDescription: { other } } }`\n     */\n    for (const [index, name] of keyParts.entries()) {\n      if (typeof current === 'object') {\n        // Drop down to nested object until the last part\n        if (index < keyParts.length - 1) {\n          // New nested object (optionally) replaces existing value\n          if (!isObject(current[name])) {\n            current[name] = {}\n          }\n\n          // Drop down into new or existing nested object\n          current = current[name]\n        } else if (key !== namespace) {\n          // Normalised value (optionally) replaces existing value\n          current[name] = normaliseString(value)\n        }\n      }\n    }\n  }\n\n  return newObject[namespace]\n}\n\n/**\n * Get hash fragment from URL\n *\n * Extract the hash fragment (everything after the hash) from a URL,\n * but not including the hash symbol\n *\n * @private\n * @param {string} url - URL\n * @returns {string | undefined} Fragment from URL, without the hash\n */\nexport function getFragmentFromUrl(url) {\n  if (!url.includes('#')) {\n    return undefined\n  }\n\n  return url.split('#').pop()\n}\n\n/**\n * Get GOV.UK Frontend breakpoint value from CSS custom property\n *\n * @private\n * @param {string} name - Breakpoint name\n * @returns {{ property: string, value?: string }} Breakpoint object\n */\nexport function getBreakpoint(name) {\n  const property = `--govuk-frontend-breakpoint-${name}`\n\n  // Get value from `<html>` with breakpoints on CSS :root\n  const value = window\n    .getComputedStyle(document.documentElement)\n    .getPropertyValue(property)\n\n  return {\n    property,\n    value: value || undefined\n  }\n}\n\n/**\n * Move focus to element\n *\n * Sets tabindex to -1 to make the element programmatically focusable,\n * but removes it on blur as the element doesn't need to be focused again.\n *\n * @private\n * @template {HTMLElement} FocusElement\n * @param {FocusElement} $element - HTML element\n * @param {object} [options] - Handler options\n * @param {function(this: FocusElement): void} [options.onBeforeFocus] - Callback before focus\n * @param {function(this: FocusElement): void} [options.onBlur] - Callback on blur\n */\nexport function setFocus($element, options = {}) {\n  const isFocusable = $element.getAttribute('tabindex')\n\n  if (!isFocusable) {\n    $element.setAttribute('tabindex', '-1')\n  }\n\n  /**\n   * Handle element focus\n   */\n  function onFocus() {\n    $element.addEventListener('blur', onBlur, { once: true })\n  }\n\n  /**\n   * Handle element blur\n   */\n  function onBlur() {\n    options.onBlur?.call($element)\n\n    if (!isFocusable) {\n      $element.removeAttribute('tabindex')\n    }\n  }\n\n  // Add listener to reset element on blur, after focus\n  $element.addEventListener('focus', onFocus, { once: true })\n\n  // Focus element\n  options.onBeforeFocus?.call($element)\n  $element.focus()\n}\n\n/**\n * Checks if GOV.UK Frontend is supported on this page\n *\n * Some browsers will load and run our JavaScript but GOV.UK Frontend\n * won't be supported.\n *\n * @internal\n * @param {HTMLElement | null} [$scope] - HTML element `<body>` checked for browser support\n * @returns {boolean} Whether GOV.UK Frontend is supported on this page\n */\nexport function isSupported($scope = document.body) {\n  if (!$scope) {\n    return false\n  }\n\n  return $scope.classList.contains('govuk-frontend-supported')\n}\n\n/**\n * Validate component config by schema\n *\n * Follows limited examples in JSON schema for wider support in future\n *\n * {@link https://ajv.js.org/json-schema.html#compound-keywords}\n * {@link https://ajv.js.org/packages/ajv-errors.html#single-message}\n *\n * @internal\n * @param {Schema} schema - Config schema\n * @param {{ [key: string]: unknown }} config - Component config\n * @returns {string[]} List of validation errors\n */\nexport function validateConfig(schema, config) {\n  const validationErrors = []\n\n  // Check errors for each schema\n  for (const [name, conditions] of Object.entries(schema)) {\n    const errors = []\n\n    // Check errors for each schema condition\n    if (Array.isArray(conditions)) {\n      for (const { required, errorMessage } of conditions) {\n        if (!required.every((key) => !!config[key])) {\n          errors.push(errorMessage) // Missing config key value\n        }\n      }\n\n      // Check one condition passes or add errors\n      if (name === 'anyOf' && !(conditions.length - errors.length >= 1)) {\n        validationErrors.push(...errors)\n      }\n    }\n  }\n\n  return validationErrors\n}\n\n/**\n * Check for an array\n *\n * @internal\n * @param {unknown} option - Option to check\n * @returns {boolean} Whether the option is an array\n */\nfunction isArray(option) {\n  return Array.isArray(option)\n}\n\n/**\n * Check for an object\n *\n * @internal\n * @param {unknown} option - Option to check\n * @returns {boolean} Whether the option is an object\n */\nfunction isObject(option) {\n  return !!option && typeof option === 'object' && !isArray(option)\n}\n\n/**\n * Schema for component config\n *\n * @typedef {object} Schema\n * @property {{ [field: string]: SchemaProperty | undefined }} properties - Schema properties\n * @property {SchemaCondition[]} [anyOf] - List of schema conditions\n */\n\n/**\n * Schema property for component config\n *\n * @typedef {object} SchemaProperty\n * @property {'string' | 'boolean' | 'number' | 'object'} type - Property type\n */\n\n/**\n * Schema condition for component config\n *\n * @typedef {object} SchemaCondition\n * @property {string[]} required - List of required config fields\n * @property {string} errorMessage - Error message when required config fields not provided\n */\n\n/**\n * @internal\n * @typedef {keyof ObjectNested} NestedKey\n * @typedef {{ [key: string]: string | boolean | number | ObjectNested | undefined }} ObjectNested\n */\n", "import { extractConfigByNamespace } from './index.mjs'\nimport { normaliseString } from './normalise-string.mjs'\n\n/**\n * Normalise dataset\n *\n * Loop over an object and normalise each value using {@link normaliseString},\n * optionally expanding nested `i18n.field`\n *\n * @internal\n * @param {{ schema: Schema }} Component - Component class\n * @param {DOMStringMap} dataset - HTML element dataset\n * @returns {ObjectNested} Normalised dataset\n */\nexport function normaliseDataset(Component, dataset) {\n  const out = /** @type {ReturnType<typeof normaliseDataset>} */ ({})\n\n  // Normalise top-level dataset ('data-*') values using schema types\n  for (const [field, property] of Object.entries(Component.schema.properties)) {\n    if (field in dataset) {\n      out[field] = normaliseString(dataset[field], property)\n    }\n\n    /**\n     * Extract and normalise nested object values automatically using\n     * {@link normaliseString} but only schema object types are allowed\n     */\n    if (property?.type === 'object') {\n      out[field] = extractConfigByNamespace(Component, dataset, field)\n    }\n  }\n\n  return out\n}\n\n/**\n * @internal\n * @typedef {import('./index.mjs').ObjectNested} ObjectNested\n * @typedef {import('./index.mjs').Schema} Schema\n */\n", "/**\n * GOV.UK Frontend error\n *\n * A base class for `Error`s thrown by GOV.UK Frontend.\n *\n * It is meant to be extended into specific types of errors\n * to be thrown by our code.\n *\n * @example\n * ```js\n * class MissingRootError extends GOVUKFrontendError {\n *   // Setting an explicit name is important as extending the class will not\n *   // set a new `name` on the subclass. The `name` property is important\n *   // to ensure intelligible error names even if the class name gets\n *   // mangled by a minifier\n *   name = \"MissingRootError\"\n * }\n * ```\n * @abstract\n */\nexport class GOVUKFrontendError extends Error {\n  name = 'GOVUKFrontendError'\n}\n\n/**\n * Indicates that GOV.UK Frontend is not supported\n */\nexport class SupportError extends GOVUKFrontendError {\n  name = 'SupportError'\n\n  /**\n   * Checks if GOV.UK Frontend is supported on this page\n   *\n   * @param {HTMLElement | null} [$scope] - HTML element `<body>` checked for browser support\n   */\n  constructor($scope = document.body) {\n    const supportMessage =\n      'noModule' in HTMLScriptElement.prototype\n        ? 'GOV.UK Frontend initialised without `<body class=\"govuk-frontend-supported\">` from template `<script>` snippet'\n        : 'GOV.UK Frontend is not supported in this browser'\n\n    super(\n      $scope\n        ? supportMessage\n        : 'GOV.UK Frontend initialised without `<script type=\"module\">`'\n    )\n  }\n}\n\n/**\n * Indicates that a component has received an illegal configuration\n */\nexport class ConfigError extends GOVUKFrontendError {\n  name = 'ConfigError'\n}\n\n/**\n * Indicates an issue with an element (possibly `null` or `undefined`)\n */\nexport class ElementError extends GOVUKFrontendError {\n  name = 'ElementError'\n\n  /**\n   * @internal\n   * @overload\n   * @param {string} message - Element error message\n   */\n\n  /**\n   * @internal\n   * @overload\n   * @param {ElementErrorOptions} options - Element error options\n   */\n\n  /**\n   * @internal\n   * @param {string | ElementErrorOptions} messageOrOptions - Element error message or options\n   */\n  constructor(messageOrOptions) {\n    let message = typeof messageOrOptions === 'string' ? messageOrOptions : ''\n\n    // Build message from options\n    if (typeof messageOrOptions === 'object') {\n      const { componentName, identifier, element, expectedType } =\n        messageOrOptions\n\n      // Add prefix and identifier\n      message = `${componentName}: ${identifier}`\n\n      // Append reason\n      message += element\n        ? ` is not of type ${expectedType ?? 'HTMLElement'}`\n        : ' not found'\n    }\n\n    super(message)\n  }\n}\n\n/**\n * Element error options\n *\n * @internal\n * @typedef {object} ElementErrorOptions\n * @property {string} componentName - The name of the component throwing the error\n * @property {string} identifier - An identifier that'll let the user understand which element has an error. This is whatever makes the most sense\n * @property {Element | null} [element] - The element in error\n * @property {string} [expectedType] - The type that was expected for the identifier\n */\n", "import { isSupported } from './common/index.mjs'\nimport { SupportError } from './errors/index.mjs'\n\n/**\n * Base Component class\n *\n * Centralises the behaviours shared by our components\n *\n * @internal\n * @abstract\n */\nexport class GOVUKFrontendComponent {\n  /**\n   * Constructs a new component, validating that GOV.UK Frontend is supported\n   *\n   * @internal\n   */\n  constructor() {\n    this.checkSupport()\n  }\n\n  /**\n   * Validates whether GOV.UK Frontend is supported\n   *\n   * @private\n   * @throws {SupportError} when GOV.UK Frontend is not supported\n   */\n  checkSupport() {\n    if (!isSupported()) {\n      throw new SupportError()\n    }\n  }\n}\n", "/**\n * Internal support for selecting messages to render, with placeholder\n * interpolation and locale-aware number formatting and pluralisation\n *\n * @internal\n */\nexport class I18n {\n  translations\n  locale\n\n  /**\n   * @internal\n   * @param {{ [key: string]: string | TranslationPluralForms }} translations - Key-value pairs of the translation strings to use.\n   * @param {object} [config] - Configuration options for the function.\n   * @param {string | null} [config.locale] - An overriding locale for the PluralRules functionality.\n   */\n  constructor(translations = {}, config = {}) {\n    // Make list of translations available throughout function\n    this.translations = translations\n\n    // The locale to use for PluralRules and NumberFormat\n    this.locale = config.locale ?? (document.documentElement.lang || 'en')\n  }\n\n  /**\n   * The most used function - takes the key for a given piece of UI text and\n   * returns the appropriate string.\n   *\n   * @internal\n   * @param {string} lookupKey - The lookup key of the string to use.\n   * @param {{ [key: string]: unknown }} [options] - Any options passed with the translation string, e.g: for string interpolation.\n   * @returns {string} The appropriate translation string.\n   * @throws {Error} Lookup key required\n   * @throws {Error} Options required for `${}` placeholders\n   */\n  t(lookupKey, options) {\n    if (!lookupKey) {\n      // Print a console error if no lookup key has been provided\n      throw new Error('i18n: lookup key missing')\n    }\n\n    // Fetch the translation for that lookup key\n    let translation = this.translations[lookupKey]\n\n    // If the `count` option is set, determine which plural suffix is needed and\n    // change the lookupKey to match. We check to see if it's numeric instead of\n    // falsy, as this could legitimately be 0.\n    if (typeof options?.count === 'number' && typeof translation === 'object') {\n      const translationPluralForm =\n        translation[this.getPluralSuffix(lookupKey, options.count)]\n\n      // Update translation with plural suffix\n      if (translationPluralForm) {\n        translation = translationPluralForm\n      }\n    }\n\n    if (typeof translation === 'string') {\n      // Check for ${} placeholders in the translation string\n      if (translation.match(/%{(.\\S+)}/)) {\n        if (!options) {\n          throw new Error(\n            'i18n: cannot replace placeholders in string if no option data provided'\n          )\n        }\n\n        return this.replacePlaceholders(translation, options)\n      }\n\n      return translation\n    }\n\n    // If the key wasn't found in our translations object,\n    // return the lookup key itself as the fallback\n    return lookupKey\n  }\n\n  /**\n   * Takes a translation string with placeholders, and replaces the placeholders\n   * with the provided data\n   *\n   * @internal\n   * @param {string} translationString - The translation string\n   * @param {{ [key: string]: unknown }} options - Any options passed with the translation string, e.g: for string interpolation.\n   * @returns {string} The translation string to output, with $\\{\\} placeholders replaced\n   */\n  replacePlaceholders(translationString, options) {\n    const formatter = Intl.NumberFormat.supportedLocalesOf(this.locale).length\n      ? new Intl.NumberFormat(this.locale)\n      : undefined\n\n    return translationString.replace(\n      /%{(.\\S+)}/g,\n\n      /**\n       * Replace translation string placeholders\n       *\n       * @internal\n       * @param {string} placeholderWithBraces - Placeholder with braces\n       * @param {string} placeholderKey - Placeholder key\n       * @returns {string} Placeholder value\n       */\n      function (placeholderWithBraces, placeholderKey) {\n        if (Object.prototype.hasOwnProperty.call(options, placeholderKey)) {\n          const placeholderValue = options[placeholderKey]\n\n          // If a user has passed `false` as the value for the placeholder\n          // treat it as though the value should not be displayed\n          if (\n            placeholderValue === false ||\n            (typeof placeholderValue !== 'number' &&\n              typeof placeholderValue !== 'string')\n          ) {\n            return ''\n          }\n\n          // If the placeholder's value is a number, localise the number formatting\n          if (typeof placeholderValue === 'number') {\n            return formatter\n              ? formatter.format(placeholderValue)\n              : `${placeholderValue}`\n          }\n\n          return placeholderValue\n        }\n\n        throw new Error(\n          `i18n: no data found to replace ${placeholderWithBraces} placeholder in string`\n        )\n      }\n    )\n  }\n\n  /**\n   * Check to see if the browser supports Intl.PluralRules\n   *\n   * It requires all conditions to be met in order to be supported:\n   * - The implementation of Intl supports PluralRules (NOT true in Safari 10â€“12)\n   * - The browser/OS has plural rules for the current locale (browser dependent)\n   *\n   * {@link https://browsersl.ist/#q=supports+es6-module+and+not+supports+intl-pluralrules}\n   *\n   * @internal\n   * @returns {boolean} Returns true if all conditions are met. Returns false otherwise.\n   */\n  hasIntlPluralRulesSupport() {\n    return Boolean(\n      'PluralRules' in window.Intl &&\n        Intl.PluralRules.supportedLocalesOf(this.locale).length\n    )\n  }\n\n  /**\n   * Get the appropriate suffix for the plural form.\n   *\n   * Uses Intl.PluralRules (or our own fallback implementation) to get the\n   * 'preferred' form to use for the given count.\n   *\n   * Checks that a translation has been provided for that plural form â€“ if it\n   * hasn't, it'll fall back to the 'other' plural form (unless that doesn't exist\n   * either, in which case an error will be thrown)\n   *\n   * @internal\n   * @param {string} lookupKey - The lookup key of the string to use.\n   * @param {number} count - Number used to determine which pluralisation to use.\n   * @returns {PluralRule} The suffix associated with the correct pluralisation for this locale.\n   * @throws {Error} Plural form `.other` required when preferred plural form is missing\n   */\n  getPluralSuffix(lookupKey, count) {\n    // Validate that the number is actually a number.\n    //\n    // Number(count) will turn anything that can't be converted to a Number type\n    // into 'NaN'. isFinite filters out NaN, as it isn't a finite number.\n    count = Number(count)\n    if (!isFinite(count)) {\n      return 'other'\n    }\n\n    // Fetch the translation for that lookup key\n    const translation = this.translations[lookupKey]\n\n    // Check to verify that all the requirements for Intl.PluralRules are met.\n    // If so, we can use that instead of our custom implementation. Otherwise,\n    // use the hardcoded fallback.\n    const preferredForm = this.hasIntlPluralRulesSupport()\n      ? new Intl.PluralRules(this.locale).select(count)\n      : this.selectPluralFormUsingFallbackRules(count)\n\n    // Use the correct plural form if provided\n    if (typeof translation === 'object') {\n      if (preferredForm in translation) {\n        return preferredForm\n        // Fall back to `other` if the plural form is missing, but log a warning\n        // to the console\n      } else if ('other' in translation) {\n        console.warn(\n          `i18n: Missing plural form \".${preferredForm}\" for \"${this.locale}\" locale. Falling back to \".other\".`\n        )\n\n        return 'other'\n      }\n    }\n\n    // If the required `other` plural form is missing, all we can do is error\n    throw new Error(\n      `i18n: Plural form \".other\" is required for \"${this.locale}\" locale`\n    )\n  }\n\n  /**\n   * Get the plural form using our fallback implementation\n   *\n   * This is split out into a separate function to make it easier to test the\n   * fallback behaviour in an environment where Intl.PluralRules exists.\n   *\n   * @internal\n   * @param {number} count - Number used to determine which pluralisation to use.\n   * @returns {PluralRule} The pluralisation form for count in this locale.\n   */\n  selectPluralFormUsingFallbackRules(count) {\n    // Currently our custom code can only handle positive integers, so let's\n    // make sure our number is one of those.\n    count = Math.abs(Math.floor(count))\n\n    const ruleset = this.getPluralRulesForLocale()\n\n    if (ruleset) {\n      return I18n.pluralRules[ruleset](count)\n    }\n\n    return 'other'\n  }\n\n  /**\n   * Work out which pluralisation rules to use for the current locale\n   *\n   * The locale may include a regional indicator (such as en-GB), but we don't\n   * usually care about this part, as pluralisation rules are usually the same\n   * regardless of region. There are exceptions, however, (e.g. Portuguese) so\n   * this searches by both the full and shortened locale codes, just to be sure.\n   *\n   * @internal\n   * @returns {string | undefined} The name of the pluralisation rule to use (a key for one\n   *   of the functions in this.pluralRules)\n   */\n  getPluralRulesForLocale() {\n    const localeShort = this.locale.split('-')[0]\n\n    // Look through the plural rules map to find which `pluralRule` is\n    // appropriate for our current `locale`.\n    for (const pluralRule in I18n.pluralRulesMap) {\n      const languages = I18n.pluralRulesMap[pluralRule]\n      if (languages.includes(this.locale) || languages.includes(localeShort)) {\n        return pluralRule\n      }\n    }\n  }\n\n  /**\n   * Map of plural rules to languages where those rules apply.\n   *\n   * Note: These groups are named for the most dominant or recognisable language\n   * that uses each system. The groupings do not imply that the languages are\n   * related to one another. Many languages have evolved the same systems\n   * independently of one another.\n   *\n   * Code to support more languages can be found in the i18n spike:\n   * {@link https://github.com/alphagov/govuk-frontend/blob/spike-i18n-support/src/govuk/i18n.mjs}\n   *\n   * Languages currently supported:\n   *\n   * Arabic: Arabic (ar)\n   * Chinese: Burmese (my), Chinese (zh), Indonesian (id), Japanese (ja),\n   *   Javanese (jv), Korean (ko), Malay (ms), Thai (th), Vietnamese (vi)\n   * French: Armenian (hy), Bangla (bn), French (fr), Gujarati (gu), Hindi (hi),\n   *   Persian Farsi (fa), Punjabi (pa), Zulu (zu)\n   * German: Afrikaans (af), Albanian (sq), Azerbaijani (az), Basque (eu),\n   *   Bulgarian (bg), Catalan (ca), Danish (da), Dutch (nl), English (en),\n   *   Estonian (et), Finnish (fi), Georgian (ka), German (de), Greek (el),\n   *   Hungarian (hu), Luxembourgish (lb), Norwegian (no), Somali (so),\n   *   Swahili (sw), Swedish (sv), Tamil (ta), Telugu (te), Turkish (tr),\n   *   Urdu (ur)\n   * Irish: Irish Gaelic (ga)\n   * Russian: Russian (ru), Ukrainian (uk)\n   * Scottish: Scottish Gaelic (gd)\n   * Spanish: European Portuguese (pt-PT), Italian (it), Spanish (es)\n   * Welsh: Welsh (cy)\n   *\n   * @internal\n   * @type {{ [key: string]: string[] }}\n   */\n  static pluralRulesMap = {\n    arabic: ['ar'],\n    chinese: ['my', 'zh', 'id', 'ja', 'jv', 'ko', 'ms', 'th', 'vi'],\n    french: ['hy', 'bn', 'fr', 'gu', 'hi', 'fa', 'pa', 'zu'],\n    german: [\n      'af',\n      'sq',\n      'az',\n      'eu',\n      'bg',\n      'ca',\n      'da',\n      'nl',\n      'en',\n      'et',\n      'fi',\n      'ka',\n      'de',\n      'el',\n      'hu',\n      'lb',\n      'no',\n      'so',\n      'sw',\n      'sv',\n      'ta',\n      'te',\n      'tr',\n      'ur'\n    ],\n    irish: ['ga'],\n    russian: ['ru', 'uk'],\n    scottish: ['gd'],\n    spanish: ['pt-PT', 'it', 'es'],\n    welsh: ['cy']\n  }\n\n  /**\n   * Different pluralisation rule sets\n   *\n   * Returns the appropriate suffix for the plural form associated with `n`.\n   * Possible suffixes: 'zero', 'one', 'two', 'few', 'many', 'other' (the actual\n   * meaning of each differs per locale). 'other' should always exist, even in\n   * languages without plurals, such as Chinese.\n   * {@link https://cldr.unicode.org/index/cldr-spec/plural-rules}\n   *\n   * The count must be a positive integer. Negative numbers and decimals aren't accounted for\n   *\n   * @internal\n   * @type {{ [key: string]: (count: number) => PluralRule }}\n   */\n  static pluralRules = {\n    arabic(n) {\n      if (n === 0) {\n        return 'zero'\n      }\n      if (n === 1) {\n        return 'one'\n      }\n      if (n === 2) {\n        return 'two'\n      }\n      if (n % 100 >= 3 && n % 100 <= 10) {\n        return 'few'\n      }\n      if (n % 100 >= 11 && n % 100 <= 99) {\n        return 'many'\n      }\n      return 'other'\n    },\n    chinese() {\n      return 'other'\n    },\n    french(n) {\n      return n === 0 || n === 1 ? 'one' : 'other'\n    },\n    german(n) {\n      return n === 1 ? 'one' : 'other'\n    },\n    irish(n) {\n      if (n === 1) {\n        return 'one'\n      }\n      if (n === 2) {\n        return 'two'\n      }\n      if (n >= 3 && n <= 6) {\n        return 'few'\n      }\n      if (n >= 7 && n <= 10) {\n        return 'many'\n      }\n      return 'other'\n    },\n    russian(n) {\n      const lastTwo = n % 100\n      const last = lastTwo % 10\n      if (last === 1 && lastTwo !== 11) {\n        return 'one'\n      }\n      if (last >= 2 && last <= 4 && !(lastTwo >= 12 && lastTwo <= 14)) {\n        return 'few'\n      }\n      if (\n        last === 0 ||\n        (last >= 5 && last <= 9) ||\n        (lastTwo >= 11 && lastTwo <= 14)\n      ) {\n        return 'many'\n      }\n      // Note: The 'other' suffix is only used by decimal numbers in Russian.\n      // We don't anticipate it being used, but it's here for consistency.\n      return 'other'\n    },\n    scottish(n) {\n      if (n === 1 || n === 11) {\n        return 'one'\n      }\n      if (n === 2 || n === 12) {\n        return 'two'\n      }\n      if ((n >= 3 && n <= 10) || (n >= 13 && n <= 19)) {\n        return 'few'\n      }\n      return 'other'\n    },\n    spanish(n) {\n      if (n === 1) {\n        return 'one'\n      }\n      if (n % 1000000 === 0 && n !== 0) {\n        return 'many'\n      }\n      return 'other'\n    },\n    welsh(n) {\n      if (n === 0) {\n        return 'zero'\n      }\n      if (n === 1) {\n        return 'one'\n      }\n      if (n === 2) {\n        return 'two'\n      }\n      if (n === 3) {\n        return 'few'\n      }\n      if (n === 6) {\n        return 'many'\n      }\n      return 'other'\n    }\n  }\n}\n\n/**\n * Plural rule category mnemonic tags\n *\n * @internal\n * @typedef {'zero' | 'one' | 'two' | 'few' | 'many' | 'other'} PluralRule\n */\n\n/**\n * Translated message by plural rule they correspond to.\n *\n * Allows to group pluralised messages under a single key when passing\n * translations to a component's constructor\n *\n * @internal\n * @typedef {object} TranslationPluralForms\n * @property {string} [other] - General plural form\n * @property {string} [zero] - Plural form used with 0\n * @property {string} [one] - Plural form used with 1\n * @property {string} [two] - Plural form used with 2\n * @property {string} [few] - Plural form used for a few\n * @property {string} [many] - Plural form used for many\n */\n", "import { mergeConfigs } from '../../common/index.mjs'\nimport { normaliseDataset } from '../../common/normalise-dataset.mjs'\nimport { ElementError } from '../../errors/index.mjs'\nimport { GOVUKFrontendComponent } from '../../govuk-frontend-component.mjs'\nimport { I18n } from '../../i18n.mjs'\n\n/**\n * Accordion component\n *\n * This allows a collection of sections to be collapsed by default, showing only\n * their headers. Sections can be expanded or collapsed individually by clicking\n * their headers. A \"Show all sections\" button is also added to the top of the\n * accordion, which switches to \"Hide all sections\" when all the sections are\n * expanded.\n *\n * The state of each section is saved to the DOM via the `aria-expanded`\n * attribute, which also provides accessibility.\n *\n * @preserve\n */\nexport class Accordion extends GOVUKFrontendComponent {\n  /** @private */\n  $module\n\n  /**\n   * @private\n   * @type {AccordionConfig}\n   */\n  config\n\n  /** @private */\n  i18n\n\n  /** @private */\n  controlsClass = 'govuk-accordion__controls'\n\n  /** @private */\n  showAllClass = 'govuk-accordion__show-all'\n\n  /** @private */\n  showAllTextClass = 'govuk-accordion__show-all-text'\n\n  /** @private */\n  sectionClass = 'govuk-accordion__section'\n\n  /** @private */\n  sectionExpandedClass = 'govuk-accordion__section--expanded'\n\n  /** @private */\n  sectionButtonClass = 'govuk-accordion__section-button'\n\n  /** @private */\n  sectionHeaderClass = 'govuk-accordion__section-header'\n\n  /** @private */\n  sectionHeadingClass = 'govuk-accordion__section-heading'\n\n  /** @private */\n  sectionHeadingDividerClass = 'govuk-accordion__section-heading-divider'\n\n  /** @private */\n  sectionHeadingTextClass = 'govuk-accordion__section-heading-text'\n\n  /** @private */\n  sectionHeadingTextFocusClass = 'govuk-accordion__section-heading-text-focus'\n\n  /** @private */\n  sectionShowHideToggleClass = 'govuk-accordion__section-toggle'\n\n  /** @private */\n  sectionShowHideToggleFocusClass = 'govuk-accordion__section-toggle-focus'\n\n  /** @private */\n  sectionShowHideTextClass = 'govuk-accordion__section-toggle-text'\n\n  /** @private */\n  upChevronIconClass = 'govuk-accordion-nav__chevron'\n\n  /** @private */\n  downChevronIconClass = 'govuk-accordion-nav__chevron--down'\n\n  /** @private */\n  sectionSummaryClass = 'govuk-accordion__section-summary'\n\n  /** @private */\n  sectionSummaryFocusClass = 'govuk-accordion__section-summary-focus'\n\n  /** @private */\n  sectionContentClass = 'govuk-accordion__section-content'\n\n  /** @private */\n  $sections\n\n  /**\n   * @private\n   * @type {HTMLButtonElement | null}\n   */\n  $showAllButton = null\n\n  /**\n   * @private\n   * @type {HTMLElement | null}\n   */\n  $showAllIcon = null\n\n  /**\n   * @private\n   * @type {HTMLElement | null}\n   */\n  $showAllText = null\n\n  /**\n   * @param {Element | null} $module - HTML element to use for accordion\n   * @param {AccordionConfig} [config] - Accordion config\n   */\n  constructor($module, config = {}) {\n    super()\n\n    if (!($module instanceof HTMLElement)) {\n      throw new ElementError({\n        componentName: 'Accordion',\n        element: $module,\n        identifier: 'Root element (`$module`)'\n      })\n    }\n\n    this.$module = $module\n\n    this.config = mergeConfigs(\n      Accordion.defaults,\n      config,\n      normaliseDataset(Accordion, $module.dataset)\n    )\n\n    this.i18n = new I18n(this.config.i18n)\n\n    const $sections = this.$module.querySelectorAll(`.${this.sectionClass}`)\n    if (!$sections.length) {\n      throw new ElementError({\n        componentName: 'Accordion',\n        identifier: `Sections (\\`<div class=\"${this.sectionClass}\">\\`)`\n      })\n    }\n\n    this.$sections = $sections\n\n    this.initControls()\n    this.initSectionHeaders()\n\n    this.updateShowAllButton(this.areAllSectionsOpen())\n  }\n\n  /**\n   * Initialise controls and set attributes\n   *\n   * @private\n   */\n  initControls() {\n    // Create \"Show all\" button and set attributes\n    this.$showAllButton = document.createElement('button')\n    this.$showAllButton.setAttribute('type', 'button')\n    this.$showAllButton.setAttribute('class', this.showAllClass)\n    this.$showAllButton.setAttribute('aria-expanded', 'false')\n\n    // Create icon, add to element\n    this.$showAllIcon = document.createElement('span')\n    this.$showAllIcon.classList.add(this.upChevronIconClass)\n    this.$showAllButton.appendChild(this.$showAllIcon)\n\n    // Create control wrapper and add controls to it\n    const $accordionControls = document.createElement('div')\n    $accordionControls.setAttribute('class', this.controlsClass)\n    $accordionControls.appendChild(this.$showAllButton)\n    this.$module.insertBefore($accordionControls, this.$module.firstChild)\n\n    // Build additional wrapper for Show all toggle text and place after icon\n    this.$showAllText = document.createElement('span')\n    this.$showAllText.classList.add(this.showAllTextClass)\n    this.$showAllButton.appendChild(this.$showAllText)\n\n    // Handle click events on the show/hide all button\n    this.$showAllButton.addEventListener('click', () =>\n      this.onShowOrHideAllToggle()\n    )\n\n    // Handle 'beforematch' events, if the user agent supports them\n    if ('onbeforematch' in document) {\n      document.addEventListener('beforematch', (event) =>\n        this.onBeforeMatch(event)\n      )\n    }\n  }\n\n  /**\n   * Initialise section headers\n   *\n   * @private\n   */\n  initSectionHeaders() {\n    this.$sections.forEach(($section, i) => {\n      const $header = $section.querySelector(`.${this.sectionHeaderClass}`)\n      if (!$header) {\n        throw new ElementError({\n          componentName: 'Accordion',\n          identifier: `Section headers (\\`<div class=\"${this.sectionHeaderClass}\">\\`)`\n        })\n      }\n\n      // Set header attributes\n      this.constructHeaderMarkup($header, i)\n      this.setExpanded(this.isExpanded($section), $section)\n\n      // Handle events\n      $header.addEventListener('click', () => this.onSectionToggle($section))\n\n      // See if there is any state stored in sessionStorage and set the sections\n      // to open or closed.\n      this.setInitialState($section)\n    })\n  }\n\n  /**\n   * Construct section header\n   *\n   * @private\n   * @param {Element} $header - Section header\n   * @param {number} index - Section index\n   */\n  constructHeaderMarkup($header, index) {\n    const $span = $header.querySelector(`.${this.sectionButtonClass}`)\n    const $heading = $header.querySelector(`.${this.sectionHeadingClass}`)\n    const $summary = $header.querySelector(`.${this.sectionSummaryClass}`)\n\n    if (!$heading) {\n      throw new ElementError({\n        componentName: 'Accordion',\n        identifier: `Section heading (\\`.${this.sectionHeadingClass}\\`)`\n      })\n    }\n\n    if (!$span) {\n      throw new ElementError({\n        componentName: 'Accordion',\n        identifier: `Section button placeholder (\\`<span class=\"${this.sectionButtonClass}\">\\`)`\n      })\n    }\n\n    // Create a button element that will replace the\n    // '.govuk-accordion__section-button' span\n    const $button = document.createElement('button')\n    $button.setAttribute('type', 'button')\n    $button.setAttribute(\n      'aria-controls',\n      `${this.$module.id}-content-${index + 1}`\n    )\n\n    // Copy all attributes from $span to $button (except `id`, which gets added\n    // to the `$headingText` element)\n    for (const attr of Array.from($span.attributes)) {\n      if (attr.name !== 'id') {\n        $button.setAttribute(attr.name, attr.value)\n      }\n    }\n\n    // Create container for heading text so it can be styled\n    const $headingText = document.createElement('span')\n    $headingText.classList.add(this.sectionHeadingTextClass)\n    // Copy the span ID to the heading text to allow it to be referenced by\n    // `aria-labelledby` on the hidden content area without \"Show this section\"\n    $headingText.id = $span.id\n\n    // Create an inner heading text container to limit the width of the focus\n    // state\n    const $headingTextFocus = document.createElement('span')\n    $headingTextFocus.classList.add(this.sectionHeadingTextFocusClass)\n    $headingText.appendChild($headingTextFocus)\n    // span could contain HTML elements\n    // (see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#phrasing-content)\n    Array.from($span.childNodes).forEach(($child) =>\n      $headingTextFocus.appendChild($child)\n    )\n\n    // Create container for show / hide icons and text.\n    const $showHideToggle = document.createElement('span')\n    $showHideToggle.classList.add(this.sectionShowHideToggleClass)\n    // Tell Google not to index the 'show' text as part of the heading. Must be\n    // set on the element before it's added to the DOM.\n    // See https://developers.google.com/search/docs/advanced/robots/robots_meta_tag#data-nosnippet-attr\n    $showHideToggle.setAttribute('data-nosnippet', '')\n    // Create an inner container to limit the width of the focus state\n    const $showHideToggleFocus = document.createElement('span')\n    $showHideToggleFocus.classList.add(this.sectionShowHideToggleFocusClass)\n    $showHideToggle.appendChild($showHideToggleFocus)\n    // Create wrapper for the show / hide text. Append text after the show/hide icon\n    const $showHideText = document.createElement('span')\n    const $showHideIcon = document.createElement('span')\n    $showHideIcon.classList.add(this.upChevronIconClass)\n    $showHideToggleFocus.appendChild($showHideIcon)\n    $showHideText.classList.add(this.sectionShowHideTextClass)\n    $showHideToggleFocus.appendChild($showHideText)\n\n    // Append elements to the button:\n    // 1. Heading text\n    // 2. Punctuation\n    // 3. (Optional: Summary line followed by punctuation)\n    // 4. Show / hide toggle\n    $button.appendChild($headingText)\n    $button.appendChild(this.getButtonPunctuationEl())\n\n    // If summary content exists add to DOM in correct order\n    if ($summary) {\n      // Create a new `span` element and copy the summary line content from the\n      // original `div` to the new `span`. This is because the summary line text\n      // is now inside a button element, which can only contain phrasing\n      // content.\n      const $summarySpan = document.createElement('span')\n      // Create an inner summary container to limit the width of the summary\n      // focus state\n      const $summarySpanFocus = document.createElement('span')\n      $summarySpanFocus.classList.add(this.sectionSummaryFocusClass)\n      $summarySpan.appendChild($summarySpanFocus)\n\n      // Get original attributes, and pass them to the replacement\n      for (const attr of Array.from($summary.attributes)) {\n        $summarySpan.setAttribute(attr.name, attr.value)\n      }\n\n      // Copy original contents of summary to the new summary span\n      Array.from($summary.childNodes).forEach(($child) =>\n        $summarySpanFocus.appendChild($child)\n      )\n\n      // Replace the original summary `div` with the new summary `span`\n      $summary.remove()\n\n      $button.appendChild($summarySpan)\n      $button.appendChild(this.getButtonPunctuationEl())\n    }\n\n    $button.appendChild($showHideToggle)\n\n    $heading.removeChild($span)\n    $heading.appendChild($button)\n  }\n\n  /**\n   * When a section is opened by the user agent via the 'beforematch' event\n   *\n   * @private\n   * @param {Event} event - Generic event\n   */\n  onBeforeMatch(event) {\n    const $fragment = event.target\n\n    // Handle elements with `.closest()` support only\n    if (!($fragment instanceof Element)) {\n      return\n    }\n\n    // Handle when fragment is inside section\n    const $section = $fragment.closest(`.${this.sectionClass}`)\n    if ($section) {\n      this.setExpanded(true, $section)\n    }\n  }\n\n  /**\n   * When section toggled, set and store state\n   *\n   * @private\n   * @param {Element} $section - Section element\n   */\n  onSectionToggle($section) {\n    const nowExpanded = !this.isExpanded($section)\n    this.setExpanded(nowExpanded, $section)\n\n    // Store the state in sessionStorage when a change is triggered\n    this.storeState($section, nowExpanded)\n  }\n\n  /**\n   * When Open/Close All toggled, set and store state\n   *\n   * @private\n   */\n  onShowOrHideAllToggle() {\n    const nowExpanded = !this.areAllSectionsOpen()\n\n    this.$sections.forEach(($section) => {\n      this.setExpanded(nowExpanded, $section)\n      this.storeState($section, nowExpanded)\n    })\n\n    this.updateShowAllButton(nowExpanded)\n  }\n\n  /**\n   * Set section attributes when opened/closed\n   *\n   * @private\n   * @param {boolean} expanded - Section expanded\n   * @param {Element} $section - Section element\n   */\n  setExpanded(expanded, $section) {\n    const $showHideIcon = $section.querySelector(`.${this.upChevronIconClass}`)\n    const $showHideText = $section.querySelector(\n      `.${this.sectionShowHideTextClass}`\n    )\n    const $button = $section.querySelector(`.${this.sectionButtonClass}`)\n    const $content = $section.querySelector(`.${this.sectionContentClass}`)\n\n    if (!$content) {\n      throw new ElementError({\n        componentName: 'Accordion',\n        identifier: `Section content (\\`<div class=\"${this.sectionContentClass}\">\\`)`\n      })\n    }\n\n    if (!$showHideIcon || !$showHideText || !$button) {\n      // Return early for elements we create\n      return\n    }\n\n    const newButtonText = expanded\n      ? this.i18n.t('hideSection')\n      : this.i18n.t('showSection')\n\n    $showHideText.textContent = newButtonText\n    $button.setAttribute('aria-expanded', `${expanded}`)\n\n    // Update aria-label combining\n    const ariaLabelParts = []\n\n    const $headingText = $section.querySelector(\n      `.${this.sectionHeadingTextClass}`\n    )\n    if ($headingText) {\n      ariaLabelParts.push(`${$headingText.textContent}`.trim())\n    }\n\n    const $summary = $section.querySelector(`.${this.sectionSummaryClass}`)\n    if ($summary) {\n      ariaLabelParts.push(`${$summary.textContent}`.trim())\n    }\n\n    const ariaLabelMessage = expanded\n      ? this.i18n.t('hideSectionAriaLabel')\n      : this.i18n.t('showSectionAriaLabel')\n    ariaLabelParts.push(ariaLabelMessage)\n\n    /*\n     * Join with a comma to add pause for assistive technology.\n     * Example: [heading]Section A ,[pause] Show this section.\n     * https://accessibility.blog.gov.uk/2017/12/18/what-working-on-gov-uk-navigation-taught-us-about-accessibility/\n     */\n    $button.setAttribute('aria-label', ariaLabelParts.join(' , '))\n\n    // Swap icon, change class\n    if (expanded) {\n      $content.removeAttribute('hidden')\n      $section.classList.add(this.sectionExpandedClass)\n      $showHideIcon.classList.remove(this.downChevronIconClass)\n    } else {\n      $content.setAttribute('hidden', 'until-found')\n      $section.classList.remove(this.sectionExpandedClass)\n      $showHideIcon.classList.add(this.downChevronIconClass)\n    }\n\n    // See if \"Show all sections\" button text should be updated\n    this.updateShowAllButton(this.areAllSectionsOpen())\n  }\n\n  /**\n   * Get state of section\n   *\n   * @private\n   * @param {Element} $section - Section element\n   * @returns {boolean} True if expanded\n   */\n  isExpanded($section) {\n    return $section.classList.contains(this.sectionExpandedClass)\n  }\n\n  /**\n   * Check if all sections are open\n   *\n   * @private\n   * @returns {boolean} True if all sections are open\n   */\n  areAllSectionsOpen() {\n    return Array.from(this.$sections).every(($section) =>\n      this.isExpanded($section)\n    )\n  }\n\n  /**\n   * Update \"Show all sections\" button\n   *\n   * @private\n   * @param {boolean} expanded - Section expanded\n   */\n  updateShowAllButton(expanded) {\n    if (!this.$showAllButton || !this.$showAllText || !this.$showAllIcon) {\n      return\n    }\n\n    this.$showAllButton.setAttribute('aria-expanded', expanded.toString())\n    this.$showAllText.textContent = expanded\n      ? this.i18n.t('hideAllSections')\n      : this.i18n.t('showAllSections')\n    this.$showAllIcon.classList.toggle(this.downChevronIconClass, !expanded)\n  }\n\n  /**\n   * Get the identifier for a section\n   *\n   * We need a unique way of identifying each content in the Accordion.\n   * Since an `#id` should be unique and an `id` is required for `aria-`\n   * attributes `id` can be safely used.\n   *\n   * @param {Element} $section - Section element\n   * @returns {string | undefined | null} Identifier for section\n   */\n  getIdentifier($section) {\n    const $button = $section.querySelector(`.${this.sectionButtonClass}`)\n\n    return $button?.getAttribute('aria-controls')\n  }\n\n  /**\n   * Set the state of the accordions in sessionStorage\n   *\n   * @private\n   * @param {Element} $section - Section element\n   * @param {boolean} isExpanded - Whether the section is expanded\n   */\n  storeState($section, isExpanded) {\n    if (!this.config.rememberExpanded) {\n      return\n    }\n\n    const id = this.getIdentifier($section)\n\n    if (id) {\n      try {\n        window.sessionStorage.setItem(id, isExpanded.toString())\n      } catch (exception) {}\n    }\n  }\n\n  /**\n   * Read the state of the accordions from sessionStorage\n   *\n   * @private\n   * @param {Element} $section - Section element\n   */\n  setInitialState($section) {\n    if (!this.config.rememberExpanded) {\n      return\n    }\n\n    const id = this.getIdentifier($section)\n\n    if (id) {\n      try {\n        const state = window.sessionStorage.getItem(id)\n\n        if (state !== null) {\n          this.setExpanded(state === 'true', $section)\n        }\n      } catch (exception) {}\n    }\n  }\n\n  /**\n   * Create an element to improve semantics of the section button with\n   * punctuation\n   *\n   * Adding punctuation to the button can also improve its general semantics by\n   * dividing its contents into thematic chunks. See\n   * https://github.com/alphagov/govuk-frontend/issues/2327#issuecomment-922957442\n   *\n   * @private\n   * @returns {Element} DOM element\n   */\n  getButtonPunctuationEl() {\n    const $punctuationEl = document.createElement('span')\n    $punctuationEl.classList.add(\n      'govuk-visually-hidden',\n      this.sectionHeadingDividerClass\n    )\n    $punctuationEl.textContent = ', '\n    return $punctuationEl\n  }\n\n  /**\n   * Name for the component used when initialising using data-module attributes.\n   */\n  static moduleName = 'govuk-accordion'\n\n  /**\n   * Accordion default config\n   *\n   * @see {@link AccordionConfig}\n   * @constant\n   * @type {AccordionConfig}\n   */\n  static defaults = Object.freeze({\n    i18n: {\n      hideAllSections: 'Hide all sections',\n      hideSection: 'Hide',\n      hideSectionAriaLabel: 'Hide this section',\n      showAllSections: 'Show all sections',\n      showSection: 'Show',\n      showSectionAriaLabel: 'Show this section'\n    },\n    rememberExpanded: true\n  })\n\n  /**\n   * Accordion config schema\n   *\n   * @constant\n   * @satisfies {Schema}\n   */\n  static schema = Object.freeze({\n    properties: {\n      i18n: { type: 'object' },\n      rememberExpanded: { type: 'boolean' }\n    }\n  })\n}\n\n/**\n * Accordion config\n *\n * @see {@link Accordion.defaults}\n * @typedef {object} AccordionConfig\n * @property {AccordionTranslations} [i18n=Accordion.defaults.i18n] - Accordion translations\n * @property {boolean} [rememberExpanded] - Whether the expanded and collapsed\n *   state of each section is remembered and restored when navigating.\n */\n\n/**\n * Accordion translations\n *\n * @see {@link Accordion.defaults.i18n}\n * @typedef {object} AccordionTranslations\n *\n * Messages used by the component for the labels of its buttons. This includes\n * the visible text shown on screen, and text to help assistive technology users\n * for the buttons toggling each section.\n * @property {string} [hideAllSections] - The text content for the 'Hide all\n *   sections' button, used when at least one section is expanded.\n * @property {string} [hideSection] - The text content for the 'Hide'\n *   button, used when a section is expanded.\n * @property {string} [hideSectionAriaLabel] - The text content appended to the\n *   'Hide' button's accessible name when a section is expanded.\n * @property {string} [showAllSections] - The text content for the 'Show all\n *   sections' button, used when all sections are collapsed.\n * @property {string} [showSection] - The text content for the 'Show'\n *   button, used when a section is collapsed.\n * @property {string} [showSectionAriaLabel] - The text content appended to the\n *   'Show' button's accessible name when a section is expanded.\n */\n\n/**\n * @typedef {import('../../common/index.mjs').Schema} Schema\n */\n", "import { mergeConfigs } from '../../common/index.mjs'\nimport { normaliseDataset } from '../../common/normalise-dataset.mjs'\nimport { ElementError } from '../../errors/index.mjs'\nimport { GOVUKFrontendComponent } from '../../govuk-frontend-component.mjs'\n\nconst DEBOUNCE_TIMEOUT_IN_SECONDS = 1\n\n/**\n * JavaScript enhancements for the Button component\n *\n * @preserve\n */\nexport class Button extends GOVUKFrontendComponent {\n  /** @private */\n  $module\n\n  /**\n   * @private\n   * @type {ButtonConfig}\n   */\n  config\n\n  /**\n   * @private\n   * @type {number | null}\n   */\n  debounceFormSubmitTimer = null\n\n  /**\n   * @param {Element | null} $module - HTML element to use for button\n   * @param {ButtonConfig} [config] - Button config\n   */\n  constructor($module, config = {}) {\n    super()\n\n    if (!($module instanceof HTMLElement)) {\n      throw new ElementError({\n        componentName: 'Button',\n        element: $module,\n        identifier: 'Root element (`$module`)'\n      })\n    }\n\n    this.$module = $module\n\n    this.config = mergeConfigs(\n      Button.defaults,\n      config,\n      normaliseDataset(Button, $module.dataset)\n    )\n\n    this.$module.addEventListener('keydown', (event) =>\n      this.handleKeyDown(event)\n    )\n    this.$module.addEventListener('click', (event) => this.debounce(event))\n  }\n\n  /**\n   * Trigger a click event when the space key is pressed\n   *\n   * Some screen readers tell users they can use the space bar to activate\n   * things with the 'button' role, so we need to match the functionality of\n   * native HTML buttons.\n   *\n   * See https://github.com/alphagov/govuk_elements/pull/272#issuecomment-233028270\n   *\n   * @private\n   * @param {KeyboardEvent} event - Keydown event\n   */\n  handleKeyDown(event) {\n    const $target = event.target\n\n    // Handle space bar only\n    if (event.key !== ' ') {\n      return\n    }\n\n    // Handle elements with [role=\"button\"] only\n    if (\n      $target instanceof HTMLElement &&\n      $target.getAttribute('role') === 'button'\n    ) {\n      event.preventDefault() // prevent the page from scrolling\n      $target.click()\n    }\n  }\n\n  /**\n   * Debounce double-clicks\n   *\n   * If the click quickly succeeds a previous click then nothing will happen.\n   * This stops people accidentally causing multiple form submissions by double\n   * clicking buttons.\n   *\n   * @private\n   * @param {MouseEvent} event - Mouse click event\n   * @returns {undefined | false} Returns undefined, or false when debounced\n   */\n  debounce(event) {\n    // Check the button that was clicked has preventDoubleClick enabled\n    if (!this.config.preventDoubleClick) {\n      return\n    }\n\n    // If the timer is still running, prevent the click from submitting the form\n    if (this.debounceFormSubmitTimer) {\n      event.preventDefault()\n      return false\n    }\n\n    this.debounceFormSubmitTimer = window.setTimeout(() => {\n      this.debounceFormSubmitTimer = null\n    }, DEBOUNCE_TIMEOUT_IN_SECONDS * 1000)\n  }\n\n  /**\n   * Name for the component used when initialising using data-module attributes.\n   */\n  static moduleName = 'govuk-button'\n\n  /**\n   * Button default config\n   *\n   * @see {@link ButtonConfig}\n   * @constant\n   * @type {ButtonConfig}\n   */\n  static defaults = Object.freeze({\n    preventDoubleClick: false\n  })\n\n  /**\n   * Button config schema\n   *\n   * @constant\n   * @satisfies {Schema}\n   */\n  static schema = Object.freeze({\n    properties: {\n      preventDoubleClick: { type: 'boolean' }\n    }\n  })\n}\n\n/**\n * Button config\n *\n * @typedef {object} ButtonConfig\n * @property {boolean} [preventDoubleClick=false] - Prevent accidental double\n *   clicks on submit buttons from submitting forms multiple times.\n */\n\n/**\n * @typedef {import('../../common/index.mjs').Schema} Schema\n */\n", "/**\n * Returns the value of the given attribute closest to the given element (including itself)\n *\n * @internal\n * @param {Element} $element - The element to start walking the DOM tree up\n * @param {string} attributeName - The name of the attribute\n * @returns {string | null} Attribute value\n */\nexport function closestAttributeValue($element, attributeName) {\n  const $closestElementWithAttribute = $element.closest(`[${attributeName}]`)\n  return $closestElementWithAttribute\n    ? $closestElementWithAttribute.getAttribute(attributeName)\n    : null\n}\n", "import { closestAttributeValue } from '../../common/closest-attribute-value.mjs'\nimport { mergeConfigs, validateConfig } from '../../common/index.mjs'\nimport { normaliseDataset } from '../../common/normalise-dataset.mjs'\nimport { ConfigError, ElementError } from '../../errors/index.mjs'\nimport { GOVUKFrontendComponent } from '../../govuk-frontend-component.mjs'\nimport { I18n } from '../../i18n.mjs'\n\n/**\n * Character count component\n *\n * Tracks the number of characters or words in the `.govuk-js-character-count`\n * `<textarea>` inside the element. Displays a message with the remaining number\n * of characters/words available, or the number of characters/words in excess.\n *\n * You can configure the message to only appear after a certain percentage\n * of the available characters/words has been entered.\n *\n * @preserve\n */\nexport class CharacterCount extends GOVUKFrontendComponent {\n  /** @private */\n  $module\n\n  /** @private */\n  $textarea\n\n  /** @private */\n  $visibleCountMessage\n\n  /** @private */\n  $screenReaderCountMessage\n\n  /**\n   * @private\n   * @type {number | null}\n   */\n  lastInputTimestamp = null\n\n  /** @private */\n  lastInputValue = ''\n\n  /**\n   * @private\n   * @type {number | null}\n   */\n  valueChecker = null\n\n  /**\n   * @private\n   * @type {CharacterCountConfig}\n   */\n  config\n\n  /** @private */\n  i18n\n\n  /** @private */\n  maxLength\n\n  /**\n   * @param {Element | null} $module - HTML element to use for character count\n   * @param {CharacterCountConfig} [config] - Character count config\n   */\n  constructor($module, config = {}) {\n    super()\n\n    if (!($module instanceof HTMLElement)) {\n      throw new ElementError({\n        componentName: 'Character count',\n        element: $module,\n        identifier: 'Root element (`$module`)'\n      })\n    }\n\n    const $textarea = $module.querySelector('.govuk-js-character-count')\n    if (\n      !(\n        $textarea instanceof HTMLTextAreaElement ||\n        $textarea instanceof HTMLInputElement\n      )\n    ) {\n      throw new ElementError({\n        componentName: 'Character count',\n        element: $textarea,\n        expectedType: 'HTMLTextareaElement or HTMLInputElement',\n        identifier: 'Form field (`.govuk-js-character-count`)'\n      })\n    }\n\n    // Read config set using dataset ('data-' values)\n    const datasetConfig = normaliseDataset(CharacterCount, $module.dataset)\n\n    // To ensure data-attributes take complete precedence, even if they change\n    // the type of count, we need to reset the `maxlength` and `maxwords` from\n    // the JavaScript config.\n    //\n    // We can't mutate `config`, though, as it may be shared across multiple\n    // components inside `initAll`.\n    /** @type {CharacterCountConfig} */\n    let configOverrides = {}\n    if ('maxwords' in datasetConfig || 'maxlength' in datasetConfig) {\n      configOverrides = {\n        maxlength: undefined,\n        maxwords: undefined\n      }\n    }\n\n    this.config = mergeConfigs(\n      CharacterCount.defaults,\n      config,\n      configOverrides,\n      datasetConfig\n    )\n\n    // Check for valid config\n    const errors = validateConfig(CharacterCount.schema, this.config)\n    if (errors[0]) {\n      throw new ConfigError(`Character count: ${errors[0]}`)\n    }\n\n    this.i18n = new I18n(this.config.i18n, {\n      // Read the fallback if necessary rather than have it set in the defaults\n      locale: closestAttributeValue($module, 'lang')\n    })\n\n    // Determine the limit attribute (characters or words)\n    this.maxLength = this.config.maxwords ?? this.config.maxlength ?? Infinity\n\n    this.$module = $module\n    this.$textarea = $textarea\n\n    const textareaDescriptionId = `${this.$textarea.id}-info`\n    const $textareaDescription = document.getElementById(textareaDescriptionId)\n    if (!$textareaDescription) {\n      throw new ElementError({\n        componentName: 'Character count',\n        element: $textareaDescription,\n        identifier: `Count message (\\`id=\"${textareaDescriptionId}\"\\`)`\n      })\n    }\n\n    // Inject a description for the textarea if none is present already\n    // for when the component was rendered with no maxlength, maxwords\n    // nor custom textareaDescriptionText\n    if (`${$textareaDescription.textContent}`.match(/^\\s*$/)) {\n      $textareaDescription.textContent = this.i18n.t('textareaDescription', {\n        count: this.maxLength\n      })\n    }\n\n    // Move the textarea description to be immediately after the textarea\n    // Kept for backwards compatibility\n    this.$textarea.insertAdjacentElement('afterend', $textareaDescription)\n\n    // Create the *screen reader* specific live-updating counter\n    // This doesn't need any styling classes, as it is never visible\n    const $screenReaderCountMessage = document.createElement('div')\n    $screenReaderCountMessage.className =\n      'govuk-character-count__sr-status govuk-visually-hidden'\n    $screenReaderCountMessage.setAttribute('aria-live', 'polite')\n    this.$screenReaderCountMessage = $screenReaderCountMessage\n    $textareaDescription.insertAdjacentElement(\n      'afterend',\n      $screenReaderCountMessage\n    )\n\n    // Create our live-updating counter element, copying the classes from the\n    // textarea description for backwards compatibility as these may have been\n    // configured\n    const $visibleCountMessage = document.createElement('div')\n    $visibleCountMessage.className = $textareaDescription.className\n    $visibleCountMessage.classList.add('govuk-character-count__status')\n    $visibleCountMessage.setAttribute('aria-hidden', 'true')\n    this.$visibleCountMessage = $visibleCountMessage\n    $textareaDescription.insertAdjacentElement('afterend', $visibleCountMessage)\n\n    // Hide the textarea description\n    $textareaDescription.classList.add('govuk-visually-hidden')\n\n    // Remove hard limit if set\n    this.$textarea.removeAttribute('maxlength')\n\n    this.bindChangeEvents()\n\n    // When the page is restored after navigating 'back' in some browsers the\n    // state of form controls is not restored until *after* the DOMContentLoaded\n    // event is fired, so we need to sync after the pageshow event.\n    window.addEventListener('pageshow', () => this.updateCountMessage())\n\n    // Although we've set up handlers to sync state on the pageshow event, init\n    // could be called after those events have fired, for example if they are\n    // added to the page dynamically, so update now too.\n    this.updateCountMessage()\n  }\n\n  /**\n   * Bind change events\n   *\n   * Set up event listeners on the $textarea so that the count messages update\n   * when the user types.\n   *\n   * @private\n   */\n  bindChangeEvents() {\n    this.$textarea.addEventListener('keyup', () => this.handleKeyUp())\n\n    // Bind focus/blur events to start/stop polling\n    this.$textarea.addEventListener('focus', () => this.handleFocus())\n    this.$textarea.addEventListener('blur', () => this.handleBlur())\n  }\n\n  /**\n   * Handle key up event\n   *\n   * Update the visible character counter and keep track of when the last update\n   * happened for each keypress\n   *\n   * @private\n   */\n  handleKeyUp() {\n    this.updateVisibleCountMessage()\n    this.lastInputTimestamp = Date.now()\n  }\n\n  /**\n   * Handle focus event\n   *\n   * Speech recognition software such as Dragon NaturallySpeaking will modify\n   * the fields by directly changing its `value`. These changes don't trigger\n   * events in JavaScript, so we need to poll to handle when and if they occur.\n   *\n   * Once the keyup event hasn't been detected for at least 1000 ms (1s), check\n   * if the textarea value has changed and update the count message if it has.\n   *\n   * This is so that the update triggered by the manual comparison doesn't\n   * conflict with debounced KeyboardEvent updates.\n   *\n   * @private\n   */\n  handleFocus() {\n    this.valueChecker = window.setInterval(() => {\n      if (\n        !this.lastInputTimestamp ||\n        Date.now() - 500 >= this.lastInputTimestamp\n      ) {\n        this.updateIfValueChanged()\n      }\n    }, 1000)\n  }\n\n  /**\n   * Handle blur event\n   *\n   * Stop checking the textarea value once the textarea no longer has focus\n   *\n   * @private\n   */\n  handleBlur() {\n    // Cancel value checking on blur\n    if (this.valueChecker) {\n      window.clearInterval(this.valueChecker)\n    }\n  }\n\n  /**\n   * Update count message if textarea value has changed\n   *\n   * @private\n   */\n  updateIfValueChanged() {\n    if (this.$textarea.value !== this.lastInputValue) {\n      this.lastInputValue = this.$textarea.value\n      this.updateCountMessage()\n    }\n  }\n\n  /**\n   * Update count message\n   *\n   * Helper function to update both the visible and screen reader-specific\n   * counters simultaneously (e.g. on init)\n   *\n   * @private\n   */\n  updateCountMessage() {\n    this.updateVisibleCountMessage()\n    this.updateScreenReaderCountMessage()\n  }\n\n  /**\n   * Update visible count message\n   *\n   * @private\n   */\n  updateVisibleCountMessage() {\n    const remainingNumber = this.maxLength - this.count(this.$textarea.value)\n    const isError = remainingNumber < 0\n\n    // If input is over the threshold, remove the disabled class which renders\n    // the counter invisible.\n    this.$visibleCountMessage.classList.toggle(\n      'govuk-character-count__message--disabled',\n      !this.isOverThreshold()\n    )\n\n    // Update styles\n    this.$textarea.classList.toggle('govuk-textarea--error', isError)\n    this.$visibleCountMessage.classList.toggle('govuk-error-message', isError)\n    this.$visibleCountMessage.classList.toggle('govuk-hint', !isError)\n\n    // Update message\n    this.$visibleCountMessage.textContent = this.getCountMessage()\n  }\n\n  /**\n   * Update screen reader count message\n   *\n   * @private\n   */\n  updateScreenReaderCountMessage() {\n    // If over the threshold, remove the aria-hidden attribute, allowing screen\n    // readers to announce the content of the element.\n    if (this.isOverThreshold()) {\n      this.$screenReaderCountMessage.removeAttribute('aria-hidden')\n    } else {\n      this.$screenReaderCountMessage.setAttribute('aria-hidden', 'true')\n    }\n\n    // Update message\n    this.$screenReaderCountMessage.textContent = this.getCountMessage()\n  }\n\n  /**\n   * Count the number of characters (or words, if `config.maxwords` is set)\n   * in the given text\n   *\n   * @private\n   * @param {string} text - The text to count the characters of\n   * @returns {number} the number of characters (or words) in the text\n   */\n  count(text) {\n    if (this.config.maxwords) {\n      const tokens = text.match(/\\S+/g) ?? [] // Matches consecutive non-whitespace chars\n      return tokens.length\n    }\n\n    return text.length\n  }\n\n  /**\n   * Get count message\n   *\n   * @private\n   * @returns {string} Status message\n   */\n  getCountMessage() {\n    const remainingNumber = this.maxLength - this.count(this.$textarea.value)\n    const countType = this.config.maxwords ? 'words' : 'characters'\n    return this.formatCountMessage(remainingNumber, countType)\n  }\n\n  /**\n   * Formats the message shown to users according to what's counted\n   * and how many remain\n   *\n   * @private\n   * @param {number} remainingNumber - The number of words/characaters remaining\n   * @param {string} countType - \"words\" or \"characters\"\n   * @returns {string} Status message\n   */\n  formatCountMessage(remainingNumber, countType) {\n    if (remainingNumber === 0) {\n      return this.i18n.t(`${countType}AtLimit`)\n    }\n\n    const translationKeySuffix =\n      remainingNumber < 0 ? 'OverLimit' : 'UnderLimit'\n\n    return this.i18n.t(`${countType}${translationKeySuffix}`, {\n      count: Math.abs(remainingNumber)\n    })\n  }\n\n  /**\n   * Check if count is over threshold\n   *\n   * Checks whether the value is over the configured threshold for the input.\n   * If there is no configured threshold, it is set to 0 and this function will\n   * always return true.\n   *\n   * @private\n   * @returns {boolean} true if the current count is over the config.threshold\n   *   (or no threshold is set)\n   */\n  isOverThreshold() {\n    // No threshold means we're always above threshold so save some computation\n    if (!this.config.threshold) {\n      return true\n    }\n\n    // Determine the remaining number of characters/words\n    const currentLength = this.count(this.$textarea.value)\n    const maxLength = this.maxLength\n\n    const thresholdValue = (maxLength * this.config.threshold) / 100\n\n    return thresholdValue <= currentLength\n  }\n\n  /**\n   * Name for the component used when initialising using data-module attributes.\n   */\n  static moduleName = 'govuk-character-count'\n\n  /**\n   * Character count default config\n   *\n   * @see {@link CharacterCountConfig}\n   * @constant\n   * @type {CharacterCountConfig}\n   */\n  static defaults = Object.freeze({\n    threshold: 0,\n    i18n: {\n      // Characters\n      charactersUnderLimit: {\n        one: 'You have %{count} character remaining',\n        other: 'You have %{count} characters remaining'\n      },\n      charactersAtLimit: 'You have 0 characters remaining',\n      charactersOverLimit: {\n        one: 'You have %{count} character too many',\n        other: 'You have %{count} characters too many'\n      },\n      // Words\n      wordsUnderLimit: {\n        one: 'You have %{count} word remaining',\n        other: 'You have %{count} words remaining'\n      },\n      wordsAtLimit: 'You have 0 words remaining',\n      wordsOverLimit: {\n        one: 'You have %{count} word too many',\n        other: 'You have %{count} words too many'\n      },\n      textareaDescription: {\n        other: ''\n      }\n    }\n  })\n\n  /**\n   * Character count config schema\n   *\n   * @constant\n   * @satisfies {Schema}\n   */\n  static schema = Object.freeze({\n    properties: {\n      i18n: { type: 'object' },\n      maxwords: { type: 'number' },\n      maxlength: { type: 'number' },\n      threshold: { type: 'number' }\n    },\n    anyOf: [\n      {\n        required: ['maxwords'],\n        errorMessage: 'Either \"maxlength\" or \"maxwords\" must be provided'\n      },\n      {\n        required: ['maxlength'],\n        errorMessage: 'Either \"maxlength\" or \"maxwords\" must be provided'\n      }\n    ]\n  })\n}\n\n/**\n * Character count config\n *\n * @see {@link CharacterCount.defaults}\n * @typedef {object} CharacterCountConfig\n * @property {number} [maxlength] - The maximum number of characters.\n *   If maxwords is provided, the maxlength option will be ignored.\n * @property {number} [maxwords] - The maximum number of words. If maxwords is\n *   provided, the maxlength option will be ignored.\n * @property {number} [threshold=0] - The percentage value of the limit at\n *   which point the count message is displayed. If this attribute is set, the\n *   count message will be hidden by default.\n * @property {CharacterCountTranslations} [i18n=CharacterCount.defaults.i18n] - Character count translations\n */\n\n/**\n * Character count translations\n *\n * @see {@link CharacterCount.defaults.i18n}\n * @typedef {object} CharacterCountTranslations\n *\n * Messages shown to users as they type. It provides feedback on how many words\n * or characters they have remaining or if they are over the limit. This also\n * includes a message used as an accessible description for the textarea.\n * @property {TranslationPluralForms} [charactersUnderLimit] - Message displayed\n *   when the number of characters is under the configured maximum, `maxlength`.\n *   This message is displayed visually and through assistive technologies. The\n *   component will replace the `%{count}` placeholder with the number of\n *   remaining characters. This is a [pluralised list of\n *   messages](https://frontend.design-system.service.gov.uk/localise-govuk-frontend).\n * @property {string} [charactersAtLimit] - Message displayed when the number of\n *   characters reaches the configured maximum, `maxlength`. This message is\n *   displayed visually and through assistive technologies.\n * @property {TranslationPluralForms} [charactersOverLimit] - Message displayed\n *   when the number of characters is over the configured maximum, `maxlength`.\n *   This message is displayed visually and through assistive technologies. The\n *   component will replace the `%{count}` placeholder with the number of\n *   remaining characters. This is a [pluralised list of\n *   messages](https://frontend.design-system.service.gov.uk/localise-govuk-frontend).\n * @property {TranslationPluralForms} [wordsUnderLimit] - Message displayed when\n *   the number of words is under the configured maximum, `maxlength`. This\n *   message is displayed visually and through assistive technologies. The\n *   component will replace the `%{count}` placeholder with the number of\n *   remaining words. This is a [pluralised list of\n *   messages](https://frontend.design-system.service.gov.uk/localise-govuk-frontend).\n * @property {string} [wordsAtLimit] - Message displayed when the number of\n *   words reaches the configured maximum, `maxlength`. This message is\n *   displayed visually and through assistive technologies.\n * @property {TranslationPluralForms} [wordsOverLimit] - Message displayed when\n *   the number of words is over the configured maximum, `maxlength`. This\n *   message is displayed visually and through assistive technologies. The\n *   component will replace the `%{count}` placeholder with the number of\n *   remaining words. This is a [pluralised list of\n *   messages](https://frontend.design-system.service.gov.uk/localise-govuk-frontend).\n * @property {TranslationPluralForms} [textareaDescription] - Message made\n *   available to assistive technologies, if none is already present in the\n *   HTML, to describe that the component accepts only a limited amount of\n *   content. It is visible on the page when JavaScript is unavailable. The\n *   component will replace the `%{count}` placeholder with the value of the\n *   `maxlength` or `maxwords` parameter.\n */\n\n/**\n * @typedef {import('../../common/index.mjs').Schema} Schema\n * @typedef {import('../../i18n.mjs').TranslationPluralForms} TranslationPluralForms\n */\n", "import { ElementError } from '../../errors/index.mjs'\nimport { GOVUKFrontendComponent } from '../../govuk-frontend-component.mjs'\n\n/**\n * Checkboxes component\n *\n * @preserve\n */\nexport class Checkboxes extends GOVUKFrontendComponent {\n  /** @private */\n  $module\n\n  /** @private */\n  $inputs\n\n  /**\n   * Checkboxes can be associated with a 'conditionally revealed' content block\n   * â€“ for example, a checkbox for 'Phone' could reveal an additional form field\n   * for the user to enter their phone number.\n   *\n   * These associations are made using a `data-aria-controls` attribute, which\n   * is promoted to an aria-controls attribute during initialisation.\n   *\n   * We also need to restore the state of any conditional reveals on the page\n   * (for example if the user has navigated back), and set up event handlers to\n   * keep the reveal in sync with the checkbox state.\n   *\n   * @param {Element | null} $module - HTML element to use for checkboxes\n   */\n  constructor($module) {\n    super()\n\n    if (!($module instanceof HTMLElement)) {\n      throw new ElementError({\n        componentName: 'Checkboxes',\n        element: $module,\n        identifier: 'Root element (`$module`)'\n      })\n    }\n\n    const $inputs = $module.querySelectorAll('input[type=\"checkbox\"]')\n    if (!$inputs.length) {\n      throw new ElementError({\n        componentName: 'Checkboxes',\n        identifier: 'Form inputs (`<input type=\"checkbox\">`)'\n      })\n    }\n\n    this.$module = $module\n    this.$inputs = $inputs\n\n    this.$inputs.forEach(($input) => {\n      const targetId = $input.getAttribute('data-aria-controls')\n\n      // Skip radios without data-aria-controls attributes\n      if (!targetId) {\n        return\n      }\n\n      // Throw if target conditional element does not exist.\n      if (!document.getElementById(targetId)) {\n        throw new ElementError({\n          componentName: 'Checkboxes',\n          identifier: `Conditional reveal (\\`id=\"${targetId}\"\\`)`\n        })\n      }\n\n      // Promote the data-aria-controls attribute to a aria-controls attribute\n      // so that the relationship is exposed in the AOM\n      $input.setAttribute('aria-controls', targetId)\n      $input.removeAttribute('data-aria-controls')\n    })\n\n    // When the page is restored after navigating 'back' in some browsers the\n    // state of form controls is not restored until *after* the DOMContentLoaded\n    // event is fired, so we need to sync after the pageshow event.\n    window.addEventListener('pageshow', () => this.syncAllConditionalReveals())\n\n    // Although we've set up handlers to sync state on the pageshow event, init\n    // could be called after those events have fired, for example if they are\n    // added to the page dynamically, so sync now too.\n    this.syncAllConditionalReveals()\n\n    // Handle events\n    this.$module.addEventListener('click', (event) => this.handleClick(event))\n  }\n\n  /**\n   * Sync the conditional reveal states for all checkboxes in this $module.\n   *\n   * @private\n   */\n  syncAllConditionalReveals() {\n    this.$inputs.forEach(($input) =>\n      this.syncConditionalRevealWithInputState($input)\n    )\n  }\n\n  /**\n   * Sync conditional reveal with the input state\n   *\n   * Synchronise the visibility of the conditional reveal, and its accessible\n   * state, with the input's checked state.\n   *\n   * @private\n   * @param {HTMLInputElement} $input - Checkbox input\n   */\n  syncConditionalRevealWithInputState($input) {\n    const targetId = $input.getAttribute('aria-controls')\n    if (!targetId) {\n      return\n    }\n\n    const $target = document.getElementById(targetId)\n    if ($target?.classList.contains('govuk-checkboxes__conditional')) {\n      const inputIsChecked = $input.checked\n\n      $input.setAttribute('aria-expanded', inputIsChecked.toString())\n      $target.classList.toggle(\n        'govuk-checkboxes__conditional--hidden',\n        !inputIsChecked\n      )\n    }\n  }\n\n  /**\n   * Uncheck other checkboxes\n   *\n   * Find any other checkbox inputs with the same name value, and uncheck them.\n   * This is useful for when a â€œNone of these\" checkbox is checked.\n   *\n   * @private\n   * @param {HTMLInputElement} $input - Checkbox input\n   */\n  unCheckAllInputsExcept($input) {\n    const allInputsWithSameName = document.querySelectorAll(\n      `input[type=\"checkbox\"][name=\"${$input.name}\"]`\n    )\n\n    allInputsWithSameName.forEach(($inputWithSameName) => {\n      const hasSameFormOwner = $input.form === $inputWithSameName.form\n      if (hasSameFormOwner && $inputWithSameName !== $input) {\n        $inputWithSameName.checked = false\n        this.syncConditionalRevealWithInputState($inputWithSameName)\n      }\n    })\n  }\n\n  /**\n   * Uncheck exclusive checkboxes\n   *\n   * Find any checkbox inputs with the same name value and the 'exclusive'\n   * behaviour, and uncheck them. This helps prevent someone checking both a\n   * regular checkbox and a \"None of these\" checkbox in the same fieldset.\n   *\n   * @private\n   * @param {HTMLInputElement} $input - Checkbox input\n   */\n  unCheckExclusiveInputs($input) {\n    const allInputsWithSameNameAndExclusiveBehaviour =\n      document.querySelectorAll(\n        `input[data-behaviour=\"exclusive\"][type=\"checkbox\"][name=\"${$input.name}\"]`\n      )\n\n    allInputsWithSameNameAndExclusiveBehaviour.forEach(($exclusiveInput) => {\n      const hasSameFormOwner = $input.form === $exclusiveInput.form\n      if (hasSameFormOwner) {\n        $exclusiveInput.checked = false\n        this.syncConditionalRevealWithInputState($exclusiveInput)\n      }\n    })\n  }\n\n  /**\n   * Click event handler\n   *\n   * Handle a click within the $module â€“ if the click occurred on a checkbox,\n   * sync the state of any associated conditional reveal with the checkbox\n   * state.\n   *\n   * @private\n   * @param {MouseEvent} event - Click event\n   */\n  handleClick(event) {\n    const $clickedInput = event.target\n\n    // Ignore clicks on things that aren't checkbox inputs\n    if (\n      !($clickedInput instanceof HTMLInputElement) ||\n      $clickedInput.type !== 'checkbox'\n    ) {\n      return\n    }\n\n    // If the checkbox conditionally-reveals some content, sync the state\n    const hasAriaControls = $clickedInput.getAttribute('aria-controls')\n    if (hasAriaControls) {\n      this.syncConditionalRevealWithInputState($clickedInput)\n    }\n\n    // No further behaviour needed for unchecking\n    if (!$clickedInput.checked) {\n      return\n    }\n\n    // Handle 'exclusive' checkbox behaviour (ie \"None of these\")\n    const hasBehaviourExclusive =\n      $clickedInput.getAttribute('data-behaviour') === 'exclusive'\n    if (hasBehaviourExclusive) {\n      this.unCheckAllInputsExcept($clickedInput)\n    } else {\n      this.unCheckExclusiveInputs($clickedInput)\n    }\n  }\n\n  /**\n   * Name for the component used when initialising using data-module attributes.\n   */\n  static moduleName = 'govuk-checkboxes'\n}\n", "import {\n  getFragmentFromUrl,\n  mergeConfigs,\n  setFocus\n} from '../../common/index.mjs'\nimport { normaliseDataset } from '../../common/normalise-dataset.mjs'\nimport { ElementError } from '../../errors/index.mjs'\nimport { GOVUKFrontendComponent } from '../../govuk-frontend-component.mjs'\n\n/**\n * Error summary component\n *\n * Takes focus on initialisation for accessible announcement, unless disabled in\n * configuration.\n *\n * @preserve\n */\nexport class ErrorSummary extends GOVUKFrontendComponent {\n  /** @private */\n  $module\n\n  /**\n   * @private\n   * @type {ErrorSummaryConfig}\n   */\n  config\n\n  /**\n   * @param {Element | null} $module - HTML element to use for error summary\n   * @param {ErrorSummaryConfig} [config] - Error summary config\n   */\n  constructor($module, config = {}) {\n    super()\n\n    if (!($module instanceof HTMLElement)) {\n      throw new ElementError({\n        componentName: 'Error summary',\n        element: $module,\n        identifier: 'Root element (`$module`)'\n      })\n    }\n\n    this.$module = $module\n\n    this.config = mergeConfigs(\n      ErrorSummary.defaults,\n      config,\n      normaliseDataset(ErrorSummary, $module.dataset)\n    )\n\n    /**\n     * Focus the error summary\n     */\n    if (!this.config.disableAutoFocus) {\n      setFocus(this.$module)\n    }\n\n    this.$module.addEventListener('click', (event) => this.handleClick(event))\n  }\n\n  /**\n   * Click event handler\n   *\n   * @private\n   * @param {MouseEvent} event - Click event\n   */\n  handleClick(event) {\n    const $target = event.target\n    if ($target && this.focusTarget($target)) {\n      event.preventDefault()\n    }\n  }\n\n  /**\n   * Focus the target element\n   *\n   * By default, the browser will scroll the target into view. Because our\n   * labels or legends appear above the input, this means the user will be\n   * presented with an input without any context, as the label or legend will be\n   * off the top of the screen.\n   *\n   * Manually handling the click event, scrolling the question into view and\n   * then focussing the element solves this.\n   *\n   * This also results in the label and/or legend being announced correctly in\n   * NVDA (as tested in 2018.3.2) - without this only the field type is\n   * announced (e.g. \"Edit, has autocomplete\").\n   *\n   * @private\n   * @param {EventTarget} $target - Event target\n   * @returns {boolean} True if the target was able to be focussed\n   */\n  focusTarget($target) {\n    // If the element that was clicked was not a link, return early\n    if (!($target instanceof HTMLAnchorElement)) {\n      return false\n    }\n\n    const inputId = getFragmentFromUrl($target.href)\n    if (!inputId) {\n      return false\n    }\n\n    const $input = document.getElementById(inputId)\n    if (!$input) {\n      return false\n    }\n\n    const $legendOrLabel = this.getAssociatedLegendOrLabel($input)\n    if (!$legendOrLabel) {\n      return false\n    }\n\n    // Scroll the legend or label into view *before* calling focus on the input\n    // to avoid extra scrolling in browsers that don't support `preventScroll`\n    // (which at time of writing is most of them...)\n    $legendOrLabel.scrollIntoView()\n    $input.focus({ preventScroll: true })\n\n    return true\n  }\n\n  /**\n   * Get associated legend or label\n   *\n   * Returns the first element that exists from this list:\n   *\n   * - The `<legend>` associated with the closest `<fieldset>` ancestor, as long\n   *   as the top of it is no more than half a viewport height away from the\n   *   bottom of the input\n   * - The first `<label>` that is associated with the input using for=\"inputId\"\n   * - The closest parent `<label>`\n   *\n   * @private\n   * @param {Element} $input - The input\n   * @returns {Element | null} Associated legend or label, or null if no\n   *   associated legend or label can be found\n   */\n  getAssociatedLegendOrLabel($input) {\n    const $fieldset = $input.closest('fieldset')\n\n    if ($fieldset) {\n      const $legends = $fieldset.getElementsByTagName('legend')\n\n      if ($legends.length) {\n        const $candidateLegend = $legends[0]\n\n        // If the input type is radio or checkbox, always use the legend if\n        // there is one.\n        if (\n          $input instanceof HTMLInputElement &&\n          ($input.type === 'checkbox' || $input.type === 'radio')\n        ) {\n          return $candidateLegend\n        }\n\n        // For other input types, only scroll to the fieldsetâ€™s legend (instead\n        // of the label associated with the input) if the input would end up in\n        // the top half of the screen.\n        //\n        // This should avoid situations where the input either ends up off the\n        // screen, or obscured by a software keyboard.\n        const legendTop = $candidateLegend.getBoundingClientRect().top\n        const inputRect = $input.getBoundingClientRect()\n\n        // If the browser doesn't support Element.getBoundingClientRect().height\n        // or window.innerHeight (like IE8), bail and just link to the label.\n        if (inputRect.height && window.innerHeight) {\n          const inputBottom = inputRect.top + inputRect.height\n\n          if (inputBottom - legendTop < window.innerHeight / 2) {\n            return $candidateLegend\n          }\n        }\n      }\n    }\n\n    return (\n      document.querySelector(`label[for='${$input.getAttribute('id')}']`) ??\n      $input.closest('label')\n    )\n  }\n\n  /**\n   * Name for the component used when initialising using data-module attributes.\n   */\n  static moduleName = 'govuk-error-summary'\n\n  /**\n   * Error summary default config\n   *\n   * @see {@link ErrorSummaryConfig}\n   * @constant\n   * @type {ErrorSummaryConfig}\n   */\n  static defaults = Object.freeze({\n    disableAutoFocus: false\n  })\n\n  /**\n   * Error summary config schema\n   *\n   * @constant\n   * @satisfies {Schema}\n   */\n  static schema = Object.freeze({\n    properties: {\n      disableAutoFocus: { type: 'boolean' }\n    }\n  })\n}\n\n/**\n * Error summary config\n *\n * @typedef {object} ErrorSummaryConfig\n * @property {boolean} [disableAutoFocus=false] - If set to `true` the error\n *   summary will not be focussed when the page loads.\n */\n\n/**\n * @typedef {import('../../common/index.mjs').Schema} Schema\n */\n", "import { mergeConfigs } from '../../common/index.mjs'\nimport { normaliseDataset } from '../../common/normalise-dataset.mjs'\nimport { ElementError } from '../../errors/index.mjs'\nimport { GOVUKFrontendComponent } from '../../govuk-frontend-component.mjs'\nimport { I18n } from '../../i18n.mjs'\n\n/**\n * Exit this page component\n *\n * @preserve\n */\nexport class ExitThisPage extends GOVUKFrontendComponent {\n  /** @private */\n  $module\n\n  /**\n   * @private\n   * @type {ExitThisPageConfig}\n   */\n  config\n\n  /** @private */\n  i18n\n\n  /** @private */\n  $button\n\n  /**\n   * @private\n   * @type {HTMLAnchorElement | null}\n   */\n  $skiplinkButton = null\n\n  /**\n   * @private\n   * @type {HTMLElement | null}\n   */\n  $updateSpan = null\n\n  /**\n   * @private\n   * @type {HTMLElement | null}\n   */\n  $indicatorContainer = null\n\n  /**\n   * @private\n   * @type {HTMLElement | null}\n   */\n  $overlay = null\n\n  /** @private */\n  keypressCounter = 0\n\n  /** @private */\n  lastKeyWasModified = false\n\n  /** @private */\n  timeoutTime = 5000 // milliseconds\n\n  // Store the timeout events so that we can clear them to avoid user keypresses overlapping\n  // setTimeout returns an id that we can use to clear it with clearTimeout,\n  // hence the 'Id' suffix\n\n  /**\n   * @private\n   * @type {number | null}\n   */\n  keypressTimeoutId = null\n\n  /**\n   * @private\n   * @type {number | null}\n   */\n  timeoutMessageId = null\n\n  /**\n   * @param {Element | null} $module - HTML element that wraps the Exit This Page button\n   * @param {ExitThisPageConfig} [config] - Exit This Page config\n   */\n  constructor($module, config = {}) {\n    super()\n\n    if (!($module instanceof HTMLElement)) {\n      throw new ElementError({\n        componentName: 'Exit this page',\n        element: $module,\n        identifier: 'Root element (`$module`)'\n      })\n    }\n\n    const $button = $module.querySelector('.govuk-exit-this-page__button')\n    if (!($button instanceof HTMLAnchorElement)) {\n      throw new ElementError({\n        componentName: 'Exit this page',\n        element: $button,\n        expectedType: 'HTMLAnchorElement',\n        identifier: 'Button (`.govuk-exit-this-page__button`)'\n      })\n    }\n\n    this.config = mergeConfigs(\n      ExitThisPage.defaults,\n      config,\n      normaliseDataset(ExitThisPage, $module.dataset)\n    )\n\n    this.i18n = new I18n(this.config.i18n)\n    this.$module = $module\n    this.$button = $button\n\n    const $skiplinkButton = document.querySelector(\n      '.govuk-js-exit-this-page-skiplink'\n    )\n    if ($skiplinkButton instanceof HTMLAnchorElement) {\n      this.$skiplinkButton = $skiplinkButton\n    }\n\n    this.buildIndicator()\n    this.initUpdateSpan()\n    this.initButtonClickHandler()\n\n    // Check to see if this has already been done by a previous initialisation of ExitThisPage\n    if (!('govukFrontendExitThisPageKeypress' in document.body.dataset)) {\n      document.addEventListener('keyup', this.handleKeypress.bind(this), true)\n      document.body.dataset.govukFrontendExitThisPageKeypress = 'true'\n    }\n\n    // When the page is restored after navigating 'back' in some browsers the\n    // blank overlay remains present, rendering the page unusable. Here, we check\n    // to see if it's present on page (re)load, and remove it if so.\n    window.addEventListener('pageshow', this.resetPage.bind(this))\n  }\n\n  /**\n   * Create the <span> we use for screen reader announcements.\n   *\n   * @private\n   */\n  initUpdateSpan() {\n    this.$updateSpan = document.createElement('span')\n    this.$updateSpan.setAttribute('role', 'status')\n    this.$updateSpan.className = 'govuk-visually-hidden'\n\n    this.$module.appendChild(this.$updateSpan)\n  }\n\n  /**\n   * Create button click handlers.\n   *\n   * @private\n   */\n  initButtonClickHandler() {\n    // Main EtP button\n    this.$button.addEventListener('click', this.handleClick.bind(this))\n\n    // EtP secondary link\n    if (this.$skiplinkButton) {\n      this.$skiplinkButton.addEventListener(\n        'click',\n        this.handleClick.bind(this)\n      )\n    }\n  }\n\n  /**\n   * Create the HTML for the 'three lights' indicator on the button.\n   *\n   * @private\n   */\n  buildIndicator() {\n    // Build container\n    // Putting `aria-hidden` on it as it won't contain any readable information\n    this.$indicatorContainer = document.createElement('div')\n    this.$indicatorContainer.className = 'govuk-exit-this-page__indicator'\n    this.$indicatorContainer.setAttribute('aria-hidden', 'true')\n\n    // Create three 'lights' and place them within the container\n    for (let i = 0; i < 3; i++) {\n      const $indicator = document.createElement('div')\n      $indicator.className = 'govuk-exit-this-page__indicator-light'\n      this.$indicatorContainer.appendChild($indicator)\n    }\n\n    // Append it all to the module\n    this.$button.appendChild(this.$indicatorContainer)\n  }\n\n  /**\n   * Update whether the lights are visible and which ones are lit up depending on\n   * the value of `keypressCounter`.\n   *\n   * @private\n   */\n  updateIndicator() {\n    if (!this.$indicatorContainer) {\n      return\n    }\n\n    // Show or hide the indicator container depending on keypressCounter value\n    this.$indicatorContainer.classList.toggle(\n      'govuk-exit-this-page__indicator--visible',\n      this.keypressCounter > 0\n    )\n\n    // Turn on only the indicators we want on\n    const $indicators = this.$indicatorContainer.querySelectorAll(\n      '.govuk-exit-this-page__indicator-light'\n    )\n    $indicators.forEach(($indicator, index) => {\n      $indicator.classList.toggle(\n        'govuk-exit-this-page__indicator-light--on',\n        index < this.keypressCounter\n      )\n    })\n  }\n\n  /**\n   * Initiates the redirection away from the current page.\n   * Includes the loading overlay functionality, which covers the current page with a\n   * white overlay so that the contents are not visible during the loading\n   * process. This is particularly important on slow network connections.\n   *\n   * @private\n   */\n  exitPage() {\n    if (!this.$updateSpan) {\n      return\n    }\n\n    this.$updateSpan.textContent = ''\n\n    // Blank the page\n    // As well as creating an overlay with text, we also set the body to hidden\n    // to prevent screen reader and sequential navigation users potentially\n    // navigating through the page behind the overlay during loading\n    document.body.classList.add('govuk-exit-this-page-hide-content')\n    this.$overlay = document.createElement('div')\n    this.$overlay.className = 'govuk-exit-this-page-overlay'\n    this.$overlay.setAttribute('role', 'alert')\n\n    // we do these this way round, thus incurring a second paint, because changing\n    // the element text after adding it means that screen readers pick up the\n    // announcement more reliably.\n    document.body.appendChild(this.$overlay)\n    this.$overlay.textContent = this.i18n.t('activated')\n\n    window.location.href = this.$button.href\n  }\n\n  /**\n   * Pre-activation logic for when the button is clicked/activated via mouse or\n   * pointer.\n   *\n   * We do this to differentiate it from the keyboard activation event because we\n   * need to run `e.preventDefault` as the button or skiplink are both links and we\n   * want to apply some additional logic in `exitPage` before navigating.\n   *\n   * @private\n   * @param {MouseEvent} event - mouse click event\n   */\n  handleClick(event) {\n    event.preventDefault()\n    this.exitPage()\n  }\n\n  /**\n   * Logic for the 'quick escape' keyboard sequence functionality (pressing the\n   * Shift key three times without interruption, within a time limit).\n   *\n   * @private\n   * @param {KeyboardEvent} event - keyup event\n   */\n  handleKeypress(event) {\n    if (!this.$updateSpan) {\n      return\n    }\n\n    // Detect if the 'Shift' key has been pressed. We want to only do things if it\n    // was pressed by itself and not in a combination with another keyâ€”so we keep\n    // track of whether the preceding keyup had shiftKey: true on it, and if it\n    // did, we ignore the next Shift keyup event.\n    //\n    // This works because using Shift as a modifier key (e.g. pressing Shift + A)\n    // will fire TWO keyup events, one for A (with e.shiftKey: true) and the other\n    // for Shift (with e.shiftKey: false).\n    if (event.key === 'Shift' && !this.lastKeyWasModified) {\n      this.keypressCounter += 1\n\n      // Update the indicator before the below if statement can reset it back to 0\n      this.updateIndicator()\n\n      // Clear the timeout for the keypress timeout message clearing itself\n      if (this.timeoutMessageId) {\n        window.clearTimeout(this.timeoutMessageId)\n        this.timeoutMessageId = null\n      }\n\n      if (this.keypressCounter >= 3) {\n        this.keypressCounter = 0\n\n        if (this.keypressTimeoutId) {\n          window.clearTimeout(this.keypressTimeoutId)\n          this.keypressTimeoutId = null\n        }\n\n        this.exitPage()\n      } else {\n        if (this.keypressCounter === 1) {\n          this.$updateSpan.textContent = this.i18n.t('pressTwoMoreTimes')\n        } else {\n          this.$updateSpan.textContent = this.i18n.t('pressOneMoreTime')\n        }\n      }\n\n      this.setKeypressTimer()\n    } else if (this.keypressTimeoutId) {\n      // If the user pressed any key other than 'Shift', after having pressed\n      // 'Shift' and activating the timer, stop and reset the timer.\n      this.resetKeypressTimer()\n    }\n\n    // Keep track of whether the Shift modifier key was held during this keypress\n    this.lastKeyWasModified = event.shiftKey\n  }\n\n  /**\n   * Starts the 'quick escape' keyboard sequence timer.\n   *\n   * This can be invoked several times. We want this to be possible so that the\n   * timer is restarted each time the shortcut key is pressed (e.g. the user has\n   * up to n seconds between each keypress, rather than n seconds to invoke the\n   * entire sequence.)\n   *\n   * @private\n   */\n  setKeypressTimer() {\n    // Clear any existing timeout. This is so only one timer is running even if\n    // there are multiple keypresses in quick succession.\n    if (this.keypressTimeoutId) {\n      window.clearTimeout(this.keypressTimeoutId)\n    }\n\n    // Set a fresh timeout\n    this.keypressTimeoutId = window.setTimeout(\n      this.resetKeypressTimer.bind(this),\n      this.timeoutTime\n    )\n  }\n\n  /**\n   * Stops and resets the 'quick escape' keyboard sequence timer.\n   *\n   * @private\n   */\n  resetKeypressTimer() {\n    if (!this.$updateSpan) {\n      return\n    }\n\n    if (this.keypressTimeoutId) {\n      window.clearTimeout(this.keypressTimeoutId)\n      this.keypressTimeoutId = null\n    }\n\n    const $updateSpan = this.$updateSpan\n\n    this.keypressCounter = 0\n    $updateSpan.textContent = this.i18n.t('timedOut')\n\n    this.timeoutMessageId = window.setTimeout(() => {\n      $updateSpan.textContent = ''\n    }, this.timeoutTime)\n\n    this.updateIndicator()\n  }\n\n  /**\n   * Reset the page using the EtP button\n   *\n   * We use this in situations where a user may re-enter a page using the browser\n   * back button. In these cases, the browser can choose to restore the state of\n   * the page as it was previously, including restoring the 'ghost page' overlay,\n   * the announcement span having it's role set to \"alert\" and the keypress\n   * indicator still active, leaving the page in an unusable state.\n   *\n   * By running this check when the page is shown, we can programatically restore\n   * the page and the component to a \"default\" state\n   *\n   * @private\n   */\n  resetPage() {\n    // If an overlay is set, remove it and reset the value\n    document.body.classList.remove('govuk-exit-this-page-hide-content')\n\n    if (this.$overlay) {\n      this.$overlay.remove()\n      this.$overlay = null\n    }\n\n    // Ensure the announcement span's role is status, not alert and clear any text\n    if (this.$updateSpan) {\n      this.$updateSpan.setAttribute('role', 'status')\n      this.$updateSpan.textContent = ''\n    }\n\n    // Sync the keypress indicator lights\n    this.updateIndicator()\n\n    // If the timeouts are active, clear them\n    if (this.keypressTimeoutId) {\n      window.clearTimeout(this.keypressTimeoutId)\n    }\n\n    if (this.timeoutMessageId) {\n      window.clearTimeout(this.timeoutMessageId)\n    }\n  }\n\n  /**\n   * Name for the component used when initialising using data-module attributes.\n   */\n  static moduleName = 'govuk-exit-this-page'\n\n  /**\n   * Exit this page default config\n   *\n   * @see {@link ExitThisPageConfig}\n   * @constant\n   * @type {ExitThisPageConfig}\n   */\n  static defaults = Object.freeze({\n    i18n: {\n      activated: 'Loading.',\n      timedOut: 'Exit this page expired.',\n      pressTwoMoreTimes: 'Shift, press 2 more times to exit.',\n      pressOneMoreTime: 'Shift, press 1 more time to exit.'\n    }\n  })\n\n  /**\n   * Exit this page config schema\n   *\n   * @constant\n   * @satisfies {Schema}\n   */\n  static schema = Object.freeze({\n    properties: {\n      i18n: { type: 'object' }\n    }\n  })\n}\n\n/**\n * Exit this Page config\n *\n * @see {@link ExitThisPage.defaults}\n * @typedef {object} ExitThisPageConfig\n * @property {ExitThisPageTranslations} [i18n=ExitThisPage.defaults.i18n] - Exit this page translations\n */\n\n/**\n * Exit this Page translations\n *\n * @see {@link ExitThisPage.defaults.i18n}\n * @typedef {object} ExitThisPageTranslations\n *\n * Messages used by the component programatically inserted text, including\n * overlay text and screen reader announcements.\n * @property {string} [activated] - Screen reader announcement for when EtP\n *   keypress functionality has been successfully activated.\n * @property {string} [timedOut] - Screen reader announcement for when the EtP\n *   keypress functionality has timed out.\n * @property {string} [pressTwoMoreTimes] - Screen reader announcement informing\n *   the user they must press the activation key two more times.\n * @property {string} [pressOneMoreTime] - Screen reader announcement informing\n *   the user they must press the activation key one more time.\n */\n\n/**\n * @typedef {import('../../common/index.mjs').Schema} Schema\n */\n", "import { getBreakpoint } from '../../common/index.mjs'\nimport { ElementError } from '../../errors/index.mjs'\nimport { GOVUKFrontendComponent } from '../../govuk-frontend-component.mjs'\n\n/**\n * Header component\n *\n * @preserve\n */\nexport class Header extends GOVUKFrontendComponent {\n  /** @private */\n  $module\n\n  /** @private */\n  $menuButton\n\n  /** @private */\n  $menu\n\n  /**\n   * Save the opened/closed state for the nav in memory so that we can\n   * accurately maintain state when the screen is changed from small to big and\n   * back to small\n   *\n   * @private\n   */\n  menuIsOpen = false\n\n  /**\n   * A global const for storing a matchMedia instance which we'll use to detect\n   * when a screen size change happens. We rely on it being null if the feature\n   * isn't available to initially apply hidden attributes\n   *\n   * @private\n   * @type {MediaQueryList | null}\n   */\n  mql = null\n\n  /**\n   * Apply a matchMedia for desktop which will trigger a state sync if the\n   * browser viewport moves between states.\n   *\n   * @param {Element | null} $module - HTML element to use for header\n   */\n  constructor($module) {\n    super()\n\n    if (!$module) {\n      throw new ElementError({\n        componentName: 'Header',\n        element: $module,\n        identifier: 'Root element (`$module`)'\n      })\n    }\n\n    this.$module = $module\n    const $menuButton = $module.querySelector('.govuk-js-header-toggle')\n\n    // Headers don't necessarily have a navigation. When they don't, the menu\n    // toggle won't be rendered by our macro (or may be omitted when writing\n    // plain HTML)\n    if (!$menuButton) {\n      return this\n    }\n\n    const menuId = $menuButton.getAttribute('aria-controls')\n    if (!menuId) {\n      throw new ElementError({\n        componentName: 'Header',\n        identifier:\n          'Navigation button (`<button class=\"govuk-js-header-toggle\">`) attribute (`aria-controls`)'\n      })\n    }\n\n    const $menu = document.getElementById(menuId)\n    if (!$menu) {\n      throw new ElementError({\n        componentName: 'Header',\n        element: $menu,\n        identifier: `Navigation (\\`<ul id=\"${menuId}\">\\`)`\n      })\n    }\n\n    this.$menu = $menu\n    this.$menuButton = $menuButton\n\n    this.setupResponsiveChecks()\n\n    this.$menuButton.addEventListener('click', () =>\n      this.handleMenuButtonClick()\n    )\n  }\n\n  /**\n   * Setup viewport resize check\n   *\n   * @private\n   */\n  setupResponsiveChecks() {\n    const breakpoint = getBreakpoint('desktop')\n\n    if (!breakpoint.value) {\n      throw new ElementError({\n        componentName: 'Header',\n        identifier: `CSS custom property (\\`${breakpoint.property}\\`) on pseudo-class \\`:root\\``\n      })\n    }\n\n    // Media query list for GOV.UK Frontend desktop breakpoint\n    this.mql = window.matchMedia(`(min-width: ${breakpoint.value})`)\n\n    // MediaQueryList.addEventListener isn't supported by Safari < 14 so we need\n    // to be able to fall back to the deprecated MediaQueryList.addListener\n    if ('addEventListener' in this.mql) {\n      this.mql.addEventListener('change', () => this.checkMode())\n    } else {\n      // @ts-expect-error Property 'addListener' does not exist\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n      this.mql.addListener(() => this.checkMode())\n    }\n\n    this.checkMode()\n  }\n\n  /**\n   * Sync menu state\n   *\n   * Uses the global variable menuIsOpen to correctly set the accessible and\n   * visual states of the menu and the menu button.\n   * Additionally will force the menu to be visible and the menu button to be\n   * hidden if the matchMedia is triggered to desktop.\n   *\n   * @private\n   */\n  checkMode() {\n    if (!this.mql || !this.$menu || !this.$menuButton) {\n      return\n    }\n\n    if (this.mql.matches) {\n      this.$menu.removeAttribute('hidden')\n      this.$menuButton.setAttribute('hidden', '')\n    } else {\n      this.$menuButton.removeAttribute('hidden')\n      this.$menuButton.setAttribute('aria-expanded', this.menuIsOpen.toString())\n\n      if (this.menuIsOpen) {\n        this.$menu.removeAttribute('hidden')\n      } else {\n        this.$menu.setAttribute('hidden', '')\n      }\n    }\n  }\n\n  /**\n   * Handle menu button click\n   *\n   * When the menu button is clicked, change the visibility of the menu and then\n   * sync the accessibility state and menu button state\n   *\n   * @private\n   */\n  handleMenuButtonClick() {\n    this.menuIsOpen = !this.menuIsOpen\n    this.checkMode()\n  }\n\n  /**\n   * Name for the component used when initialising using data-module attributes.\n   */\n  static moduleName = 'govuk-header'\n}\n", "import { mergeConfigs, setFocus } from '../../common/index.mjs'\nimport { normaliseDataset } from '../../common/normalise-dataset.mjs'\nimport { ElementError } from '../../errors/index.mjs'\nimport { GOVUKFrontendComponent } from '../../govuk-frontend-component.mjs'\n\n/**\n * Notification Banner component\n *\n * @preserve\n */\nexport class NotificationBanner extends GOVUKFrontendComponent {\n  /** @private */\n  $module\n\n  /**\n   * @private\n   * @type {NotificationBannerConfig}\n   */\n  config\n\n  /**\n   * @param {Element | null} $module - HTML element to use for notification banner\n   * @param {NotificationBannerConfig} [config] - Notification banner config\n   */\n  constructor($module, config = {}) {\n    super()\n\n    if (!($module instanceof HTMLElement)) {\n      throw new ElementError({\n        componentName: 'Notification banner',\n        element: $module,\n        identifier: 'Root element (`$module`)'\n      })\n    }\n\n    this.$module = $module\n\n    this.config = mergeConfigs(\n      NotificationBanner.defaults,\n      config,\n      normaliseDataset(NotificationBanner, $module.dataset)\n    )\n\n    /**\n     * Focus the notification banner\n     *\n     * If `role=\"alert\"` is set, focus the element to help some assistive\n     * technologies prioritise announcing it.\n     *\n     * You can turn off the auto-focus functionality by setting\n     * `data-disable-auto-focus=\"true\"` in the component HTML. You might wish to\n     * do this based on user research findings, or to avoid a clash with another\n     * element which should be focused when the page loads.\n     */\n    if (\n      this.$module.getAttribute('role') === 'alert' &&\n      !this.config.disableAutoFocus\n    ) {\n      setFocus(this.$module)\n    }\n  }\n\n  /**\n   * Name for the component used when initialising using data-module attributes.\n   */\n  static moduleName = 'govuk-notification-banner'\n\n  /**\n   * Notification banner default config\n   *\n   * @see {@link NotificationBannerConfig}\n   * @constant\n   * @type {NotificationBannerConfig}\n   */\n  static defaults = Object.freeze({\n    disableAutoFocus: false\n  })\n\n  /**\n   * Notification banner config schema\n   *\n   * @constant\n   * @satisfies {Schema}\n   */\n  static schema = Object.freeze({\n    properties: {\n      disableAutoFocus: { type: 'boolean' }\n    }\n  })\n}\n\n/**\n * Notification banner config\n *\n * @typedef {object} NotificationBannerConfig\n * @property {boolean} [disableAutoFocus=false] - If set to `true` the\n *   notification banner will not be focussed when the page loads. This only\n *   applies if the component has a `role` of `alert` â€“ in other cases the\n *   component will not be focused on page load, regardless of this option.\n */\n\n/**\n * @typedef {import('../../common/index.mjs').Schema} Schema\n */\n", "import { closestAttributeValue } from '../../common/closest-attribute-value.mjs'\nimport { mergeConfigs } from '../../common/index.mjs'\nimport { normaliseDataset } from '../../common/normalise-dataset.mjs'\nimport { ElementError } from '../../errors/index.mjs'\nimport { GOVUKFrontendComponent } from '../../govuk-frontend-component.mjs'\nimport { I18n } from '../../i18n.mjs'\n\n/**\n * Password input component\n *\n * @preserve\n */\nexport class PasswordInput extends GOVUKFrontendComponent {\n  /** @private */\n  $module\n\n  /**\n   * @private\n   * @type {PasswordInputConfig}\n   */\n  config\n\n  /** @private */\n  i18n\n\n  /**\n   * @private\n   * @type {HTMLInputElement}\n   */\n  $input\n\n  /**\n   * @private\n   * @type {HTMLButtonElement}\n   */\n  $showHideButton\n\n  /** @private */\n  $screenReaderStatusMessage\n\n  /**\n   * @param {Element | null} $module - HTML element to use for password input\n   * @param {PasswordInputConfig} [config] - Password input config\n   */\n  constructor($module, config = {}) {\n    super()\n\n    if (!($module instanceof HTMLElement)) {\n      throw new ElementError({\n        componentName: 'Password input',\n        element: $module,\n        identifier: 'Root element (`$module`)'\n      })\n    }\n\n    const $input = $module.querySelector('.govuk-js-password-input-input')\n    if (!($input instanceof HTMLInputElement)) {\n      throw new ElementError({\n        componentName: 'Password input',\n        element: $input,\n        expectedType: 'HTMLInputElement',\n        identifier: 'Form field (`.govuk-js-password-input-input`)'\n      })\n    }\n\n    if ($input.type !== 'password') {\n      throw new ElementError(\n        'Password input: Form field (`.govuk-js-password-input-input`) must be of type `password`.'\n      )\n    }\n\n    const $showHideButton = $module.querySelector(\n      '.govuk-js-password-input-toggle'\n    )\n    if (!($showHideButton instanceof HTMLButtonElement)) {\n      throw new ElementError({\n        componentName: 'Password input',\n        element: $showHideButton,\n        expectedType: 'HTMLButtonElement',\n        identifier: 'Button (`.govuk-js-password-input-toggle`)'\n      })\n    }\n\n    if ($showHideButton.type !== 'button') {\n      throw new ElementError(\n        'Password input: Button (`.govuk-js-password-input-toggle`) must be of type `button`.'\n      )\n    }\n\n    this.$module = $module\n    this.$input = $input\n    this.$showHideButton = $showHideButton\n\n    this.config = mergeConfigs(\n      PasswordInput.defaults,\n      config,\n      normaliseDataset(PasswordInput, $module.dataset)\n    )\n\n    this.i18n = new I18n(this.config.i18n, {\n      // Read the fallback if necessary rather than have it set in the defaults\n      locale: closestAttributeValue($module, 'lang')\n    })\n\n    // Show the toggle button element\n    this.$showHideButton.removeAttribute('hidden')\n\n    // Create and append the status text for screen readers.\n    // This is injected between the input and button so that users get a sensible reading order if\n    // moving through the page content linearly:\n    // [password input] -> [your password is visible/hidden] -> [show/hide password]\n    const $screenReaderStatusMessage = document.createElement('div')\n    $screenReaderStatusMessage.className =\n      'govuk-password-input__sr-status govuk-visually-hidden'\n    $screenReaderStatusMessage.setAttribute('aria-live', 'polite')\n    this.$screenReaderStatusMessage = $screenReaderStatusMessage\n    this.$input.insertAdjacentElement('afterend', $screenReaderStatusMessage)\n\n    // Bind toggle button\n    this.$showHideButton.addEventListener('click', this.toggle.bind(this))\n\n    // Bind event to revert the password visibility to hidden\n    if (this.$input.form) {\n      this.$input.form.addEventListener('submit', () => this.hide())\n    }\n\n    // If the page is restored from bfcache and the password is visible, hide it again\n    window.addEventListener('pageshow', (event) => {\n      if (event.persisted && this.$input.type !== 'password') {\n        this.hide()\n      }\n    })\n\n    // Default the component to having the password hidden.\n    this.hide()\n  }\n\n  /**\n   * Toggle the visibility of the password input\n   *\n   * @private\n   * @param {MouseEvent} event - Click event\n   */\n  toggle(event) {\n    event.preventDefault()\n\n    // If on this click, the field is type=\"password\", show the value\n    if (this.$input.type === 'password') {\n      this.show()\n      return\n    }\n\n    // Otherwise, hide it\n    // Being defensive - hiding should always be the default\n    this.hide()\n  }\n\n  /**\n   * Show the password input value in plain text.\n   *\n   * @private\n   */\n  show() {\n    this.setType('text')\n  }\n\n  /**\n   * Hide the password input value.\n   *\n   * @private\n   */\n  hide() {\n    this.setType('password')\n  }\n\n  /**\n   * Set the password input type\n   *\n   * @param {'text' | 'password'} type - Input type\n   * @private\n   */\n  setType(type) {\n    if (type === this.$input.type) {\n      return\n    }\n\n    // Update input type\n    this.$input.setAttribute('type', type)\n\n    const isHidden = type === 'password'\n    const prefixButton = isHidden ? 'show' : 'hide'\n    const prefixStatus = isHidden ? 'passwordHidden' : 'passwordShown'\n\n    // Update button text\n    this.$showHideButton.innerText = this.i18n.t(`${prefixButton}Password`)\n\n    // Update button aria-label\n    this.$showHideButton.setAttribute(\n      'aria-label',\n      this.i18n.t(`${prefixButton}PasswordAriaLabel`)\n    )\n\n    // Update status change text\n    this.$screenReaderStatusMessage.innerText = this.i18n.t(\n      `${prefixStatus}Announcement`\n    )\n  }\n\n  /**\n   * Name for the component used when initialising using data-module attributes.\n   */\n  static moduleName = 'govuk-password-input'\n\n  /**\n   * Password input default config\n   *\n   * @see {@link PasswordInputConfig}\n   * @constant\n   * @default\n   * @type {PasswordInputConfig}\n   */\n  static defaults = Object.freeze({\n    i18n: {\n      showPassword: 'Show',\n      hidePassword: 'Hide',\n      showPasswordAriaLabel: 'Show password',\n      hidePasswordAriaLabel: 'Hide password',\n      passwordShownAnnouncement: 'Your password is visible',\n      passwordHiddenAnnouncement: 'Your password is hidden'\n    }\n  })\n\n  /**\n   * Password input config schema\n   *\n   * @constant\n   * @satisfies {Schema}\n   */\n  static schema = Object.freeze({\n    properties: {\n      i18n: { type: 'object' }\n    }\n  })\n}\n\n/**\n * Password input config\n *\n * @typedef {object} PasswordInputConfig\n * @property {PasswordInputTranslations} [i18n=PasswordInput.defaults.i18n] - Password input translations\n */\n\n/**\n * Password input translations\n *\n * @see {@link PasswordInput.defaults.i18n}\n * @typedef {object} PasswordInputTranslations\n *\n * Messages displayed to the user indicating the state of the show/hide toggle.\n * @property {string} [showPassword] - Visible text of the button when the\n *   password is currently hidden. Plain text only.\n * @property {string} [hidePassword] - Visible text of the button when the\n *   password is currently visible. Plain text only.\n * @property {string} [showPasswordAriaLabel] - aria-label of the button when\n *   the password is currently hidden. Plain text only.\n * @property {string} [hidePasswordAriaLabel] - aria-label of the button when\n *   the password is currently visible. Plain text only.\n * @property {string} [passwordShownAnnouncement] - Screen reader\n *   announcement to make when the password has just become visible.\n *   Plain text only.\n * @property {string} [passwordHiddenAnnouncement] - Screen reader\n *   announcement to make when the password has just been hidden.\n *   Plain text only.\n */\n\n/**\n * @typedef {import('../../common/index.mjs').Schema} Schema\n * @typedef {import('../../i18n.mjs').TranslationPluralForms} TranslationPluralForms\n */\n", "import { ElementError } from '../../errors/index.mjs'\nimport { GOVUKFrontendComponent } from '../../govuk-frontend-component.mjs'\n\n/**\n * Radios component\n *\n * @preserve\n */\nexport class Radios extends GOVUKFrontendComponent {\n  /** @private */\n  $module\n\n  /** @private */\n  $inputs\n\n  /**\n   * Radios can be associated with a 'conditionally revealed' content block â€“\n   * for example, a radio for 'Phone' could reveal an additional form field for\n   * the user to enter their phone number.\n   *\n   * These associations are made using a `data-aria-controls` attribute, which\n   * is promoted to an aria-controls attribute during initialisation.\n   *\n   * We also need to restore the state of any conditional reveals on the page\n   * (for example if the user has navigated back), and set up event handlers to\n   * keep the reveal in sync with the radio state.\n   *\n   * @param {Element | null} $module - HTML element to use for radios\n   */\n  constructor($module) {\n    super()\n\n    if (!($module instanceof HTMLElement)) {\n      throw new ElementError({\n        componentName: 'Radios',\n        element: $module,\n        identifier: 'Root element (`$module`)'\n      })\n    }\n\n    const $inputs = $module.querySelectorAll('input[type=\"radio\"]')\n    if (!$inputs.length) {\n      throw new ElementError({\n        componentName: 'Radios',\n        identifier: 'Form inputs (`<input type=\"radio\">`)'\n      })\n    }\n\n    this.$module = $module\n    this.$inputs = $inputs\n\n    this.$inputs.forEach(($input) => {\n      const targetId = $input.getAttribute('data-aria-controls')\n\n      // Skip radios without data-aria-controls attributes\n      if (!targetId) {\n        return\n      }\n\n      // Throw if target conditional element does not exist.\n      if (!document.getElementById(targetId)) {\n        throw new ElementError({\n          componentName: 'Radios',\n          identifier: `Conditional reveal (\\`id=\"${targetId}\"\\`)`\n        })\n      }\n\n      // Promote the data-aria-controls attribute to a aria-controls attribute\n      // so that the relationship is exposed in the AOM\n      $input.setAttribute('aria-controls', targetId)\n      $input.removeAttribute('data-aria-controls')\n    })\n\n    // When the page is restored after navigating 'back' in some browsers the\n    // state of form controls is not restored until *after* the DOMContentLoaded\n    // event is fired, so we need to sync after the pageshow event.\n    window.addEventListener('pageshow', () => this.syncAllConditionalReveals())\n\n    // Although we've set up handlers to sync state on the pageshow event, init\n    // could be called after those events have fired, for example if they are\n    // added to the page dynamically, so sync now too.\n    this.syncAllConditionalReveals()\n\n    // Handle events\n    this.$module.addEventListener('click', (event) => this.handleClick(event))\n  }\n\n  /**\n   * Sync the conditional reveal states for all radio buttons in this $module.\n   *\n   * @private\n   */\n  syncAllConditionalReveals() {\n    this.$inputs.forEach(($input) =>\n      this.syncConditionalRevealWithInputState($input)\n    )\n  }\n\n  /**\n   * Sync conditional reveal with the input state\n   *\n   * Synchronise the visibility of the conditional reveal, and its accessible\n   * state, with the input's checked state.\n   *\n   * @private\n   * @param {HTMLInputElement} $input - Radio input\n   */\n  syncConditionalRevealWithInputState($input) {\n    const targetId = $input.getAttribute('aria-controls')\n    if (!targetId) {\n      return\n    }\n\n    const $target = document.getElementById(targetId)\n    if ($target?.classList.contains('govuk-radios__conditional')) {\n      const inputIsChecked = $input.checked\n\n      $input.setAttribute('aria-expanded', inputIsChecked.toString())\n      $target.classList.toggle(\n        'govuk-radios__conditional--hidden',\n        !inputIsChecked\n      )\n    }\n  }\n\n  /**\n   * Click event handler\n   *\n   * Handle a click within the $module â€“ if the click occurred on a radio, sync\n   * the state of the conditional reveal for all radio buttons in the same form\n   * with the same name (because checking one radio could have un-checked a\n   * radio in another $module)\n   *\n   * @private\n   * @param {MouseEvent} event - Click event\n   */\n  handleClick(event) {\n    const $clickedInput = event.target\n\n    // Ignore clicks on things that aren't radio buttons\n    if (\n      !($clickedInput instanceof HTMLInputElement) ||\n      $clickedInput.type !== 'radio'\n    ) {\n      return\n    }\n\n    // We only need to consider radios with conditional reveals, which will have\n    // aria-controls attributes.\n    const $allInputs = document.querySelectorAll(\n      'input[type=\"radio\"][aria-controls]'\n    )\n\n    const $clickedInputForm = $clickedInput.form\n    const $clickedInputName = $clickedInput.name\n\n    $allInputs.forEach(($input) => {\n      const hasSameFormOwner = $input.form === $clickedInputForm\n      const hasSameName = $input.name === $clickedInputName\n\n      if (hasSameName && hasSameFormOwner) {\n        this.syncConditionalRevealWithInputState($input)\n      }\n    })\n  }\n\n  /**\n   * Name for the component used when initialising using data-module attributes.\n   */\n  static moduleName = 'govuk-radios'\n}\n", "import { getFragmentFromUrl, setFocus } from '../../common/index.mjs'\nimport { ElementError } from '../../errors/index.mjs'\nimport { GOVUKFrontendComponent } from '../../govuk-frontend-component.mjs'\n\n/**\n * Skip link component\n *\n * @preserve\n */\nexport class SkipLink extends GOVUKFrontendComponent {\n  /** @private */\n  $module\n\n  /**\n   * @param {Element | null} $module - HTML element to use for skip link\n   * @throws {ElementError} when $module is not set or the wrong type\n   * @throws {ElementError} when $module.hash does not contain a hash\n   * @throws {ElementError} when the linked element is missing or the wrong type\n   */\n  constructor($module) {\n    super()\n\n    if (!($module instanceof HTMLAnchorElement)) {\n      throw new ElementError({\n        componentName: 'Skip link',\n        element: $module,\n        expectedType: 'HTMLAnchorElement',\n        identifier: 'Root element (`$module`)'\n      })\n    }\n\n    this.$module = $module\n\n    const hash = this.$module.hash\n    const href = this.$module.getAttribute('href') ?? ''\n\n    /** @type {URL | undefined} */\n    let url\n\n    /**\n     * Check for valid link URL\n     *\n     * {@link https://caniuse.com/url}\n     * {@link https://url.spec.whatwg.org}\n     *\n     */\n    try {\n      url = new window.URL(this.$module.href)\n    } catch (error) {\n      throw new ElementError(\n        `Skip link: Target link (\\`href=\"${href}\"\\`) is invalid`\n      )\n    }\n\n    // Return early for external URLs or links to other pages\n    if (\n      url.origin !== window.location.origin ||\n      url.pathname !== window.location.pathname\n    ) {\n      return\n    }\n\n    const linkedElementId = getFragmentFromUrl(hash)\n\n    // Check link path matching current page\n    if (!linkedElementId) {\n      throw new ElementError(\n        `Skip link: Target link (\\`href=\"${href}\"\\`) has no hash fragment`\n      )\n    }\n\n    const $linkedElement = document.getElementById(linkedElementId)\n\n    // Check for link target element\n    if (!$linkedElement) {\n      throw new ElementError({\n        componentName: 'Skip link',\n        element: $linkedElement,\n        identifier: `Target content (\\`id=\"${linkedElementId}\"\\`)`\n      })\n    }\n\n    /**\n     * Focus the linked element on click\n     *\n     * Adds a helper CSS class to hide native focus styles,\n     * but removes it on blur to restore native focus styles\n     */\n    this.$module.addEventListener('click', () =>\n      setFocus($linkedElement, {\n        onBeforeFocus() {\n          $linkedElement.classList.add('govuk-skip-link-focused-element')\n        },\n        onBlur() {\n          $linkedElement.classList.remove('govuk-skip-link-focused-element')\n        }\n      })\n    )\n  }\n\n  /**\n   * Name for the component used when initialising using data-module attributes.\n   */\n  static moduleName = 'govuk-skip-link'\n}\n", "import { getBreakpoint, getFragmentFromUrl } from '../../common/index.mjs'\nimport { ElementError } from '../../errors/index.mjs'\nimport { GOVUKFrontendComponent } from '../../govuk-frontend-component.mjs'\n\n/**\n * Tabs component\n *\n * @preserve\n */\nexport class Tabs extends GOVUKFrontendComponent {\n  /** @private */\n  $module\n\n  /** @private */\n  $tabs\n\n  /** @private */\n  $tabList\n\n  /** @private */\n  $tabListItems\n\n  /** @private */\n  jsHiddenClass = 'govuk-tabs__panel--hidden'\n\n  /** @private */\n  changingHash = false\n\n  /** @private */\n  boundTabClick\n\n  /** @private */\n  boundTabKeydown\n\n  /** @private */\n  boundOnHashChange\n\n  /**\n   * @private\n   * @type {MediaQueryList | null}\n   */\n  mql = null\n\n  /**\n   * @param {Element | null} $module - HTML element to use for tabs\n   */\n  constructor($module) {\n    super()\n\n    if (!$module) {\n      throw new ElementError({\n        componentName: 'Tabs',\n        element: $module,\n        identifier: 'Root element (`$module`)'\n      })\n    }\n\n    const $tabs = $module.querySelectorAll('a.govuk-tabs__tab')\n    if (!$tabs.length) {\n      throw new ElementError({\n        componentName: 'Tabs',\n        identifier: 'Links (`<a class=\"govuk-tabs__tab\">`)'\n      })\n    }\n\n    this.$module = $module\n    this.$tabs = $tabs\n\n    // Save bound functions so we can remove event listeners during teardown\n    this.boundTabClick = this.onTabClick.bind(this)\n    this.boundTabKeydown = this.onTabKeydown.bind(this)\n    this.boundOnHashChange = this.onHashChange.bind(this)\n\n    const $tabList = this.$module.querySelector('.govuk-tabs__list')\n    const $tabListItems = this.$module.querySelectorAll(\n      'li.govuk-tabs__list-item'\n    )\n\n    if (!$tabList) {\n      throw new ElementError({\n        componentName: 'Tabs',\n        identifier: 'List (`<ul class=\"govuk-tabs__list\">`)'\n      })\n    }\n\n    if (!$tabListItems.length) {\n      throw new ElementError({\n        componentName: 'Tabs',\n        identifier: 'List items (`<li class=\"govuk-tabs__list-item\">`)'\n      })\n    }\n\n    this.$tabList = $tabList\n    this.$tabListItems = $tabListItems\n\n    this.setupResponsiveChecks()\n  }\n\n  /**\n   * Setup viewport resize check\n   *\n   * @private\n   */\n  setupResponsiveChecks() {\n    const breakpoint = getBreakpoint('tablet')\n\n    if (!breakpoint.value) {\n      throw new ElementError({\n        componentName: 'Tabs',\n        identifier: `CSS custom property (\\`${breakpoint.property}\\`) on pseudo-class \\`:root\\``\n      })\n    }\n\n    // Media query list for GOV.UK Frontend tablet breakpoint\n    this.mql = window.matchMedia(`(min-width: ${breakpoint.value})`)\n\n    // MediaQueryList.addEventListener isn't supported by Safari < 14 so we need\n    // to be able to fall back to the deprecated MediaQueryList.addListener\n    if ('addEventListener' in this.mql) {\n      this.mql.addEventListener('change', () => this.checkMode())\n    } else {\n      // @ts-expect-error Property 'addListener' does not exist\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n      this.mql.addListener(() => this.checkMode())\n    }\n\n    this.checkMode()\n  }\n\n  /**\n   * Setup or teardown handler for viewport resize check\n   *\n   * @private\n   */\n  checkMode() {\n    if (this.mql?.matches) {\n      this.setup()\n    } else {\n      this.teardown()\n    }\n  }\n\n  /**\n   * Setup tab component\n   *\n   * @private\n   */\n  setup() {\n    this.$tabList.setAttribute('role', 'tablist')\n\n    this.$tabListItems.forEach(($item) => {\n      $item.setAttribute('role', 'presentation')\n    })\n\n    this.$tabs.forEach(($tab) => {\n      // Set HTML attributes\n      this.setAttributes($tab)\n\n      // Handle events\n      $tab.addEventListener('click', this.boundTabClick, true)\n      $tab.addEventListener('keydown', this.boundTabKeydown, true)\n\n      // Remove old active panels\n      this.hideTab($tab)\n    })\n\n    // Show either the active tab according to the URL's hash or the first tab\n    const $activeTab = this.getTab(window.location.hash) ?? this.$tabs[0]\n\n    this.showTab($activeTab)\n\n    // Handle hashchange events\n    window.addEventListener('hashchange', this.boundOnHashChange, true)\n  }\n\n  /**\n   * Teardown tab component\n   *\n   * @private\n   */\n  teardown() {\n    this.$tabList.removeAttribute('role')\n\n    this.$tabListItems.forEach(($item) => {\n      $item.removeAttribute('role')\n    })\n\n    this.$tabs.forEach(($tab) => {\n      // Remove events\n      $tab.removeEventListener('click', this.boundTabClick, true)\n      $tab.removeEventListener('keydown', this.boundTabKeydown, true)\n\n      // Unset HTML attributes\n      this.unsetAttributes($tab)\n    })\n\n    // Remove hashchange event handler\n    window.removeEventListener('hashchange', this.boundOnHashChange, true)\n  }\n\n  /**\n   * Handle hashchange event\n   *\n   * @private\n   * @returns {void | undefined} Returns void, or undefined when prevented\n   */\n  onHashChange() {\n    const hash = window.location.hash\n    const $tabWithHash = this.getTab(hash)\n    if (!$tabWithHash) {\n      return\n    }\n\n    // Prevent changing the hash\n    if (this.changingHash) {\n      this.changingHash = false\n      return\n    }\n\n    // Show either the active tab according to the URL's hash or the first tab\n    const $previousTab = this.getCurrentTab()\n    if (!$previousTab) {\n      return\n    }\n\n    this.hideTab($previousTab)\n    this.showTab($tabWithHash)\n    $tabWithHash.focus()\n  }\n\n  /**\n   * Hide panel for tab link\n   *\n   * @private\n   * @param {HTMLAnchorElement} $tab - Tab link\n   */\n  hideTab($tab) {\n    this.unhighlightTab($tab)\n    this.hidePanel($tab)\n  }\n\n  /**\n   * Show panel for tab link\n   *\n   * @private\n   * @param {HTMLAnchorElement} $tab - Tab link\n   */\n  showTab($tab) {\n    this.highlightTab($tab)\n    this.showPanel($tab)\n  }\n\n  /**\n   * Get tab link by hash\n   *\n   * @private\n   * @param {string} hash - Hash fragment including #\n   * @returns {HTMLAnchorElement | null} Tab link\n   */\n  getTab(hash) {\n    return this.$module.querySelector(`a.govuk-tabs__tab[href=\"${hash}\"]`)\n  }\n\n  /**\n   * Set tab link and panel attributes\n   *\n   * @private\n   * @param {HTMLAnchorElement} $tab - Tab link\n   */\n  setAttributes($tab) {\n    const panelId = getFragmentFromUrl($tab.href)\n    if (!panelId) {\n      return\n    }\n\n    // Set tab attributes\n    $tab.setAttribute('id', `tab_${panelId}`)\n    $tab.setAttribute('role', 'tab')\n    $tab.setAttribute('aria-controls', panelId)\n    $tab.setAttribute('aria-selected', 'false')\n    $tab.setAttribute('tabindex', '-1')\n\n    // Set panel attributes\n    const $panel = this.getPanel($tab)\n    if (!$panel) {\n      return\n    }\n\n    $panel.setAttribute('role', 'tabpanel')\n    $panel.setAttribute('aria-labelledby', $tab.id)\n    $panel.classList.add(this.jsHiddenClass)\n  }\n\n  /**\n   * Unset tab link and panel attributes\n   *\n   * @private\n   * @param {HTMLAnchorElement} $tab - Tab link\n   */\n  unsetAttributes($tab) {\n    // unset tab attributes\n    $tab.removeAttribute('id')\n    $tab.removeAttribute('role')\n    $tab.removeAttribute('aria-controls')\n    $tab.removeAttribute('aria-selected')\n    $tab.removeAttribute('tabindex')\n\n    // unset panel attributes\n    const $panel = this.getPanel($tab)\n    if (!$panel) {\n      return\n    }\n\n    $panel.removeAttribute('role')\n    $panel.removeAttribute('aria-labelledby')\n    $panel.classList.remove(this.jsHiddenClass)\n  }\n\n  /**\n   * Handle tab link clicks\n   *\n   * @private\n   * @param {MouseEvent} event - Mouse click event\n   * @returns {void} Returns void\n   */\n  onTabClick(event) {\n    const $currentTab = this.getCurrentTab()\n    const $nextTab = event.currentTarget\n\n    if (!$currentTab || !($nextTab instanceof HTMLAnchorElement)) {\n      return\n    }\n\n    event.preventDefault()\n\n    this.hideTab($currentTab)\n    this.showTab($nextTab)\n    this.createHistoryEntry($nextTab)\n  }\n\n  /**\n   * Update browser URL hash fragment for tab\n   *\n   * - Allows back/forward to navigate tabs\n   * - Avoids page jump when hash changes\n   *\n   * @private\n   * @param {HTMLAnchorElement} $tab - Tab link\n   */\n  createHistoryEntry($tab) {\n    const $panel = this.getPanel($tab)\n    if (!$panel) {\n      return\n    }\n\n    // Save and restore the id so the page doesn't jump when a user clicks a tab\n    // (which changes the hash)\n    const panelId = $panel.id\n    $panel.id = ''\n    this.changingHash = true\n    window.location.hash = panelId\n    $panel.id = panelId\n  }\n\n  /**\n   * Handle tab keydown event\n   *\n   * - Press right/down arrow for next tab\n   * - Press left/up arrow for previous tab\n   *\n   * @private\n   * @param {KeyboardEvent} event - Keydown event\n   */\n  onTabKeydown(event) {\n    switch (event.key) {\n      // 'Left', 'Right', 'Up' and 'Down' required for Edge 16 support.\n      case 'ArrowLeft':\n      case 'ArrowUp':\n      case 'Left':\n      case 'Up':\n        this.activatePreviousTab()\n        event.preventDefault()\n        break\n      case 'ArrowRight':\n      case 'ArrowDown':\n      case 'Right':\n      case 'Down':\n        this.activateNextTab()\n        event.preventDefault()\n        break\n    }\n  }\n\n  /**\n   * Activate next tab\n   *\n   * @private\n   */\n  activateNextTab() {\n    const $currentTab = this.getCurrentTab()\n    if (!$currentTab?.parentElement) {\n      return\n    }\n\n    const $nextTabListItem = $currentTab.parentElement.nextElementSibling\n    if (!$nextTabListItem) {\n      return\n    }\n\n    const $nextTab = $nextTabListItem.querySelector('a.govuk-tabs__tab')\n    if (!$nextTab) {\n      return\n    }\n\n    this.hideTab($currentTab)\n    this.showTab($nextTab)\n    $nextTab.focus()\n    this.createHistoryEntry($nextTab)\n  }\n\n  /**\n   * Activate previous tab\n   *\n   * @private\n   */\n  activatePreviousTab() {\n    const $currentTab = this.getCurrentTab()\n    if (!$currentTab?.parentElement) {\n      return\n    }\n\n    const $previousTabListItem =\n      $currentTab.parentElement.previousElementSibling\n    if (!$previousTabListItem) {\n      return\n    }\n\n    const $previousTab = $previousTabListItem.querySelector('a.govuk-tabs__tab')\n    if (!$previousTab) {\n      return\n    }\n\n    this.hideTab($currentTab)\n    this.showTab($previousTab)\n    $previousTab.focus()\n    this.createHistoryEntry($previousTab)\n  }\n\n  /**\n   * Get tab panel for tab link\n   *\n   * @private\n   * @param {HTMLAnchorElement} $tab - Tab link\n   * @returns {Element | null} Tab panel\n   */\n  getPanel($tab) {\n    const panelId = getFragmentFromUrl($tab.href)\n    if (!panelId) {\n      return null\n    }\n\n    return this.$module.querySelector(`#${panelId}`)\n  }\n\n  /**\n   * Show tab panel for tab link\n   *\n   * @private\n   * @param {HTMLAnchorElement} $tab - Tab link\n   */\n  showPanel($tab) {\n    const $panel = this.getPanel($tab)\n    if (!$panel) {\n      return\n    }\n\n    $panel.classList.remove(this.jsHiddenClass)\n  }\n\n  /**\n   * Hide tab panel for tab link\n   *\n   * @private\n   * @param {HTMLAnchorElement} $tab - Tab link\n   */\n  hidePanel($tab) {\n    const $panel = this.getPanel($tab)\n    if (!$panel) {\n      return\n    }\n\n    $panel.classList.add(this.jsHiddenClass)\n  }\n\n  /**\n   * Unset 'selected' state for tab link\n   *\n   * @private\n   * @param {HTMLAnchorElement} $tab - Tab link\n   */\n  unhighlightTab($tab) {\n    if (!$tab.parentElement) {\n      return\n    }\n\n    $tab.setAttribute('aria-selected', 'false')\n    $tab.parentElement.classList.remove('govuk-tabs__list-item--selected')\n    $tab.setAttribute('tabindex', '-1')\n  }\n\n  /**\n   * Set 'selected' state for tab link\n   *\n   * @private\n   * @param {HTMLAnchorElement} $tab - Tab link\n   */\n  highlightTab($tab) {\n    if (!$tab.parentElement) {\n      return\n    }\n\n    $tab.setAttribute('aria-selected', 'true')\n    $tab.parentElement.classList.add('govuk-tabs__list-item--selected')\n    $tab.setAttribute('tabindex', '0')\n  }\n\n  /**\n   * Get current tab link\n   *\n   * @private\n   * @returns {HTMLAnchorElement | null} Tab link\n   */\n  getCurrentTab() {\n    return this.$module.querySelector(\n      '.govuk-tabs__list-item--selected a.govuk-tabs__tab'\n    )\n  }\n\n  /**\n   * Name for the component used when initialising using data-module attributes.\n   */\n  static moduleName = 'govuk-tabs'\n}\n", "import { isSupported } from './common/index.mjs'\nimport { Accordion } from './components/accordion/accordion.mjs'\nimport { Button } from './components/button/button.mjs'\nimport { CharacterCount } from './components/character-count/character-count.mjs'\nimport { Checkboxes } from './components/checkboxes/checkboxes.mjs'\nimport { ErrorSummary } from './components/error-summary/error-summary.mjs'\nimport { ExitThisPage } from './components/exit-this-page/exit-this-page.mjs'\nimport { Header } from './components/header/header.mjs'\nimport { NotificationBanner } from './components/notification-banner/notification-banner.mjs'\nimport { PasswordInput } from './components/password-input/password-input.mjs'\nimport { Radios } from './components/radios/radios.mjs'\nimport { SkipLink } from './components/skip-link/skip-link.mjs'\nimport { Tabs } from './components/tabs/tabs.mjs'\nimport { SupportError } from './errors/index.mjs'\n\n/**\n * Initialise all components\n *\n * Use the `data-module` attributes to find, instantiate and init all of the\n * components provided as part of GOV.UK Frontend.\n *\n * @param {Config & { scope?: Element }} [config] - Config for all components (with optional scope)\n */\nfunction initAll(config) {\n  config = typeof config !== 'undefined' ? config : {}\n\n  // Skip initialisation when GOV.UK Frontend is not supported\n  if (!isSupported()) {\n    console.log(new SupportError())\n    return\n  }\n\n  const components = /** @type {const} */ ([\n    [Accordion, config.accordion],\n    [Button, config.button],\n    [CharacterCount, config.characterCount],\n    [Checkboxes],\n    [ErrorSummary, config.errorSummary],\n    [ExitThisPage, config.exitThisPage],\n    [Header],\n    [NotificationBanner, config.notificationBanner],\n    [PasswordInput, config.passwordInput],\n    [Radios],\n    [SkipLink],\n    [Tabs]\n  ])\n\n  // Allow the user to initialise GOV.UK Frontend in only certain sections of the page\n  // Defaults to the entire document if nothing is set.\n  const $scope = config.scope ?? document\n\n  components.forEach(([Component, config]) => {\n    createAll(Component, config, $scope)\n  })\n}\n\n/**\n * Create all instances of a specific component on the page\n *\n * Uses the `data-module` attribute to find all elements matching the specified\n * component on the page, creating instances of the component object for each\n * of them.\n *\n * Any component errors will be caught and logged to the console.\n *\n * @template {CompatibleClass} T\n * @param {T} Component - class of the component to create\n * @param {T[\"defaults\"]} [config] - config for the component\n * @param {Element|Document} [$scope] - scope of the document to search within\n * @returns {Array<InstanceType<T>>} - array of instantiated components\n */\nfunction createAll(Component, config, $scope = document) {\n  const $elements = $scope.querySelectorAll(\n    `[data-module=\"${Component.moduleName}\"]`\n  )\n\n  /* eslint-disable-next-line @typescript-eslint/no-unsafe-return --\n   * We can't define CompatibleClass as `{new(): CompatibleClass, moduleName: string}`,\n   * as when doing `typeof Accordion` (or any component), TypeScript doesn't seem\n   * to acknowledge the static `moduleName` that's set in our component classes.\n   * This means we have to set the constructor of `CompatibleClass` as `{new(): any}`,\n   * leading to ESLint frowning that we're returning `any[]`.\n   */\n  return Array.from($elements)\n    .map(($element) => {\n      try {\n        // Only pass config to components that accept it\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return 'defaults' in Component && typeof config !== 'undefined'\n          ? new Component($element, config)\n          : new Component($element)\n      } catch (error) {\n        console.log(error)\n        return null\n      }\n    })\n    .filter(Boolean) // Exclude components that errored\n}\n\nexport { initAll, createAll }\n\n/* eslint-disable jsdoc/valid-types --\n * `{new(...args: any[] ): object}` is not recognised as valid\n * https://github.com/gajus/eslint-plugin-jsdoc/issues/145#issuecomment-1308722878\n * https://github.com/jsdoc-type-pratt-parser/jsdoc-type-pratt-parser/issues/131\n **/\n\n/**\n * @typedef {{new (...args: any[]): any, defaults?: object, moduleName: string}} CompatibleClass\n */\n\n/* eslint-enable jsdoc/valid-types */\n\n/**\n * Config for all components via `initAll()`\n *\n * @typedef {object} Config\n * @property {AccordionConfig} [accordion] - Accordion config\n * @property {ButtonConfig} [button] - Button config\n * @property {CharacterCountConfig} [characterCount] - Character Count config\n * @property {ErrorSummaryConfig} [errorSummary] - Error Summary config\n * @property {ExitThisPageConfig} [exitThisPage] - Exit This Page config\n * @property {NotificationBannerConfig} [notificationBanner] - Notification Banner config\n * @property {PasswordInputConfig} [passwordInput] - Password input config\n */\n\n/**\n * Config for individual components\n *\n * @typedef {import('./components/accordion/accordion.mjs').AccordionConfig} AccordionConfig\n * @typedef {import('./components/accordion/accordion.mjs').AccordionTranslations} AccordionTranslations\n * @typedef {import('./components/button/button.mjs').ButtonConfig} ButtonConfig\n * @typedef {import('./components/character-count/character-count.mjs').CharacterCountConfig} CharacterCountConfig\n * @typedef {import('./components/character-count/character-count.mjs').CharacterCountTranslations} CharacterCountTranslations\n * @typedef {import('./components/error-summary/error-summary.mjs').ErrorSummaryConfig} ErrorSummaryConfig\n * @typedef {import('./components/exit-this-page/exit-this-page.mjs').ExitThisPageConfig} ExitThisPageConfig\n * @typedef {import('./components/exit-this-page/exit-this-page.mjs').ExitThisPageTranslations} ExitThisPageTranslations\n * @typedef {import('./components/notification-banner/notification-banner.mjs').NotificationBannerConfig} NotificationBannerConfig\n * @typedef {import('./components/password-input/password-input.mjs').PasswordInputConfig} PasswordInputConfig\n */\n\n/**\n * Component config keys, e.g. `accordion` and `characterCount`\n *\n * @typedef {keyof Config} ConfigKey\n */\n", "export class SiriusHeader extends HTMLElement {\n  connectedCallback() {\n    const prefix =\n      window.location.hostname === \"localhost\" ? \"http://localhost:8080\" : \"\";\n\n    const userRoles = this.getAttribute(\"user-roles\") ?? [];\n    const isFinanceUser = [\n      \"Finance Reporting\",\n      \"Corporate Finance\",\n      \"Finance Manager\",\n    ].some((r) => userRoles.includes(r));\n\n    let navLinks = [\n      {\n        url: `${prefix}/supervision/#/clients/search-for-client`,\n        title: \"Create client\",\n      },\n      {\n        url: `${prefix}/supervision/workflow`,\n        title: \"Workflow\",\n      },\n      {\n        url: \"https://wordpress.sirius.opg.service.justice.gov.uk\",\n        title: \"Guidance\",\n        openNewTab: true,\n      },\n      {\n        url: `${prefix}/supervision/#/finance-hub/reporting`,\n        title: \"Finance\",\n        hide: !isFinanceUser,\n      },\n    ];\n\n    // Override the nav links if <sirius-header-nav> elements are defined\n    // inside the <sirius-header>\n    const navElements = this.querySelectorAll(\"sirius-header-nav\");\n    if (navElements.length > 0) {\n      navLinks = [];\n\n      navElements.forEach((navElement) => {\n        navLinks.push({\n          url: navElement.getAttribute(\"url\"),\n          hide: navElement.getAttribute(\"hide\") === \"true\",\n          title: navElement.textContent,\n        });\n      });\n    }\n\n    this.innerHTML = `  \n            <div class=\"sirius-header\">         \n                <header class=\"govuk-header app-!-embedded-hide\"  role=\"banner\">\n                    <div class=\"govuk-header__container\">\n                         <div class=\"govuk-header__logo\">\n                            <a class=\"govuk-header__link--homepage\">\n                                <svg\n                                        role=\"presentation\"\n                                        focusable=\"false\"\n                                        class=\"moj-header__logotype-crest\"\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        viewBox=\"0 0 40 40\"\n                                        height=\"40\"\n                                        width=\"40\">\n                                    <path\n                                            fill=\"#ffffff\"\n                                            fill-rule=\"evenodd\"\n                                            d=\"M38.1 16.9c.1 1.8 2.2 1.3 1.9 2.7 0-.9-3-.8-3-2.6 0-.3.1-.7.3-.9-.1-.1-.2-.1-.5-.1-.6 0-1.2.6-1.2 1.3 0 2.2 3 2.6 3 5.1 0 .6-.2 1-.6 1.2.2 0 .7-.1.8-.3-.2 1-1.2 1-1.6.6h-.3c.2.4.4.8.9.7-.9.7-2-.2-1.8-1.2-.2-.3-.4-.7-.6-.9-.1-.2-.2-.1-.2.1 0 .8-.6 1.6-.6 2.1 0 .6.6 1.1.8 1.1s.3-.2.4-.2c.1.1.1.2.1.7 0 .2 0 1 .1 1.7 0-.2.2-.3.3-.4.2-.1.4-.2.7-.1.1 0 .3.1.3.2.1.1.1.2.1.3 0 .2-.2.4-.3.6-.2.1-.3.2-.6.1-.2 0-.3-.1-.4-.2v-.1.7c0 .6-.1.8-.3.9 0-.1-.2-.2-.3-.2-.1 0-.3.1-.3.2 0 .2.3.2.3.6s-.8.8-1.3.8c.1-.2.2-.8.3-1.1-.1.1-.3.3-.4.7-.1.4-.3.4-.6.3.2-.2.6-1.1 1-1.3.4-.3.6-.4.7-1.1.1-.7 0-1.1 0-1.7 0-.8-.3-.7-.6-.7-.6 0-2.6-1.3-2.6-2.7v-.4c-.9 0-1.5.2-1.5 1.1 0 .3 0 .6.2.8.2.1.3.3 0 .4-.3.1-3.1 1.3-3.1 1.3-.3.1-.4 0-.6-.2-.1-.2-.3-.2-.4-.1-.2.1.1.2.1.4s-.1.7-1.3.6l.3-.6c.1-.2.1-.3.1-.3-.1 0-.1.1-.2.3l-.3.4h-.4l1-1c.2-.2.6-.4 1.1-.4.7-.1 2.9-.4 2.9-1.1 0-.8-.9-.8-.9-1.9 0-1 .4-2 3-1.9-.2-.7-.9-1.1-1.6-1.2-1.3-.3-1.7-1.2-1.8-2.1h-1c-.8 0-1.2-.3-1.5-.1-.1.1-.1.2 0 .3.1.2.3.7.6 1 .1 0 .4 0 .4.2s-.1.2-.1.3 0 .2.1.2.1-.1.1-.2c.1-.1.3-.1.7 0 .2.2.6.6.7 1-.3-.1-.8-.3-.9-.3s-.1.1 0 .1.4.2.6.3v.3c-.1-.1-.7-.4-1.1-.6-.3-.1-.6-.2-.8-.7-.2-.4-.8-1.6-1-1.9-.1-.2-.1-.3 0-.4.1-.1.1-.2.2-.3.1-.2.2-.2.4-.2s.8 0 1-.1c0 0 .1 0 .2-.1-.6-.6-1.2-1.4-1.2-1.6-.1-.1-.2-.2-.3-.2s-.2 0-.3.1l-.1.1c0-.1-.1-.1-.1-.2l-.3-.3c.2-.1.3-.3.4-.3.1-.1.2-.2.3-.2h.3c.2 0 .2 0 .3.1.2.2.6.4.8.7 0 0 .1 0 .1.1l.1-.1c.1-.1.2-.1.3-.1s.2.1.3.2.2.3.2.6v.2l.6.6c.1-.7.4-1.4.9-2h-.1v-.1c.1-.3.2-.9.3-1.1v-.3l.8.3.1-.1c.7-.7 2.3-1.1 2.3-2.1 0-.2-.1-.6-.3-.8.1.1.1.3.1.6 0 .2-.4.8-1.1.8-.3 0-.7-.3-.8-.3s-.2.1-.3.1c0 .4-.2.8-.3.8.1-.2 0-.6 0-.6-.1 0-.1.1-.1.4 0 .3-.2.7-.7.7.1-.1.2-.6.1-.7-.1-.1-.2.1-.3.1s-.2-.1-.2-.2-.2 0-.2-.1.2-.3.4-.3c.2-.1.6-.2.6-.4-.1-.2-.9.1-1.1.3-.4.3-.2-.1-.3-.2-.2-.4 0-.4.2-.7.2-.2.8-.7 1.5-1 0-.2.1-.3.3-.4.2-.1.6-.2.8-.3l-3.8-4c-.1-.1-.1-.1 0-.2 0 0 .1 0 .2.1l4 3.9c.3-.6.4-.9.3-1.3.4.2.9.7 1 1.2 1.2 0 1.6.8 1.9.4 0 .2-.1.3-.6.4 1.5.3 1 1.3 1.8 1.4-.1.1-.3.2-.6.1.9 1.3 0 2.1.7 2.8-.2.1-.7-.1-.9-.6.2 1.1-.1 1.7.1 2.1-.3.1-.6-.2-.7-.6-.1.2-.1.4-.2.7l.3.1-.1.1c-.6.6-.8.9-.9 1l-.1.1-.1-.1c-.3.4-.7.8-.7 1.2 0 .4.6 1.3 1.2 2.1v-.2c0-.1.1-.3.2-.4.1-.1.2-.1.4-.1s.4.1.6.3c.1.2.2.3.2.6 0 .1-.1.3-.2.4-.1.1-.2.1-.4.1-.1 0-.3-.1-.4-.1.4.6.9 1.2 1.1 1.7.4.9.9 1.4 1.3 1.4.6 0 1.1-.4 1.1-1.1 0-2.3-3-2.6-3-5.2 0-1.2 1-1.8 1.7-1.8.4 0 .7.1.9.3h.2c1.5 0 .6 1.9 1.7 2-.3.5-1 .2-1.3-.7zM30.3 10c.3-.2.8-.3 1.2-.3-.3-.1-.6-.3-.8-.3-.4-.1-.3.4-.4.6zm-2.7 5.5c0-.1 0-.3-.1-.3 0 0-.1-.1-.2-.1s-.1 0-.2.1-.1.2-.1.3c0 .2.1.4.3.4.1 0 .1 0 .2-.1 0 0 .1-.1.1-.3zm8.7 12.6v.2c.1.2.4.2.7 0 .1-.1.2-.2.2-.3v-.2c-.1-.1-.1-.1-.2-.1s-.3 0-.4.1c-.2.1-.3.2-.3.3zm-1.9-8.3c0 .1.1.3.2.4.1.1.2.2.4.2.1 0 .1 0 .2-.1s.1-.1.1-.2-.1-.3-.2-.4c-.1-.1-.2-.2-.4-.2-.1 0-.1 0-.2.1s-.1.1-.1.2zm-.8-3.2c.3-.3.9-1 .9-1l-.3-.3v.6c-.1-.1-.2-.2-.2-.3l-.2.3c.1 0 .3 0 .3.1-.2.2-.6.1-.7 0-.2-.2-.3-.3-.3-.4.1-.1.3-.1.4.1.2 0 .2-.2.2-.3-.1-.1-.2-.1-.3-.1.3-.2.6-.4.4-.9-.4.1-.6.3-.7.7 0-.1-.1-.3-.2-.3s-.3.1-.3.3c.2-.1.4.1.3.3-.1.1-.3.1-.6 0-.3-.4-.3-.6-.1-.9.1.1.1.2.1.4l.3-.6c-.1 0-.2.1-.3 0 .1-.1.2-.2.4-.3l-.7-.2c.1.2 0 .4 0 .6-.1-.1-.2-.2-.2-.3l-.3.6c.1-.1.3-.1.4-.1-.1.2-.4.3-.7.2-.2-.1-.3-.3-.3-.4.1-.1.3-.1.4.1.2-.1.2-.3.1-.4-.1-.1-.2-.1-.4 0 .3-.3.4-.6.3-1-.3.1-.6.4-.6.8 0-.1-.1-.2-.2-.2s-.3.1-.2.3c.2-.1.4.1.3.3-.1.1-.2.1-.6 0-.2-.1-.4-.2-.3-.6.1 0 .2.2.3.2l.1-.4h-.3c.1-.1.3-.2.4-.3l-.4-.2s-.2.9-.4 1.3l4.2 2.3zm0 7.9c.1-.2.1-.6 0-.7-.2-.1-.4 0-.7.2-.1.2-.1.6 0 .7.1.1.5 0 .7-.2zm1.1-1.9c.1-.2.1-.6 0-.7-.2-.1-.4 0-.7.2-.1.2-.1.6 0 .7.3.1.6 0 .7-.2zM27.4 18c.2-.1.4 0 .7 0 .2.1.3.3.4.4v.4l-.3.3c-.2.1-.4 0-.7 0-.5-.1-.6-.4-.5-.8.1-.2.2-.3.4-.3zm.2 1c.1.1.3.1.4 0 .1 0 .1-.1.2-.1v-.2c0-.1-.1-.2-.3-.3-.1-.1-.3-.1-.4 0-.1 0-.1.1-.2.1-.1.1.1.3.3.5zm4.8 7.2c.1-.1.2-.2.4-.2s.3.1.4.2c.1.1.2.3.2.6 0 .2-.1.4-.2.6-.1.1-.2.2-.4.2-.1 0-.3-.1-.4-.2-.1-.1-.2-.3-.2-.6 0-.2 0-.5.2-.6zm.3 1.1c.1 0 .2 0 .2-.1.1-.1.1-.2.2-.4 0-.3-.1-.6-.3-.6-.1 0-.2 0-.2.1-.1.1-.1.2-.2.4 0 .2 0 .3.1.4.1.1.1.2.2.2zm-4.8-13.8c.2-.1.3-.2.6-.2.1 0 .2.1.3.2s.1.2.1.4-.1.3-.3.6c-.3.2-.8.2-.9 0-.1-.3 0-.6.2-1zm0 .7v.2c.1.1.3.1.6 0 .1-.1.2-.2.2-.3v-.2c0-.1-.1-.1-.2-.1s-.2 0-.3.1c-.2 0-.3.2-.3.3zm5.7 13.7c.2-.1.4-.2.7-.1.4.1.8.4.7.8 0 .2-.1.3-.3.4-.1.1-.3.1-.6.1s-.3-.1-.6-.2c-.1-.1-.2-.3-.1-.6-.1-.2 0-.3.2-.4zm.4.9c.3 0 .6-.1.6-.3 0-.2-.2-.3-.4-.4-.2 0-.3 0-.4.1 0 0-.1.1-.1.2-.2.1 0 .3.3.4zm3.3-1.9c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1c-.5 0-1-.4-1-1zm.3 0c0 .4.3.8.8.8s.8-.3.8-.8c0-.4-.3-.8-.8-.8-.4.1-.8.5-.8.8zm-23.3-5.8c-.1.3.1.3.1.7 0 .3-.2.4-.6.6.2-.4 0-.7-.3-.8.1.8-.6.9-.8.8.2 0 .3-.4.2-.8-.1.2-.4.4-.7.4s-.4-.2-.6-.4c.3.2.6 0 .6-.2 0-.1-.3-.2-.3-.4 0-.6.6-.3.6-.8 0-.2-.1-.3-.2-.3s-.3.1-.3.3c-.3-.2 0-.9-.1-1.2 0 .7-.4.6-.6.9-.2-.2 0-.7-.2-1.2-.1.6-.3.4-.3.9-.6-.3-1.7-.2-2 .2 1 .8 2.2 1.2 2.2 2.4 0 .9-1.5 1.3-1.5 1.9 0 .6 1.5 2 2.2 2 .2 0 .3-.3.6-.3h.6c.2 0 .3.2.3.3.3 0 .8.6.3 1-.1-.2-.3-.6-.8-.3.2.4 0 .8-.4 1 .1-.2.2-.6-.1-.6s0 .2-.7.2c-.6 0-.6 0-.8-.3-.2-.3-.4-.4-.6-.4s-.2.3 0 .6c-1.2 0-.7-1.2-1.3-1.6v.9c-.4-.5-.8-.9-.8-1.3-.1-.3 0-.6-.3-.8-.1 0-.2-.1-.2-.3 0-.1.1-.1.3-.2.2-.1.6-.3.6-1 0-.4-.1-1.1-.9-1.7.1 1 0 1.9-.4 2.7-.6 1-1.7 1.7-2.2 1.9-.6.2-1.3.4-1.3 1.2 0 1.4.7 2.2 1.2 2.2.4 0 .3-.4.9-.4.2 0 .6.1.6.3.3-.1.7.1.7.4 0 .3-.1.4-.3.6.2-.4-.3-.4-.4-.4-.1.1 0 .2 0 .4s-.1.4-.4.6c.1-.1.1-.3-.2-.3-.2 0-.3.4-.7.4-.6 0-.7-.2-1.2-.1-.3.1-.3.3-.2.3-.7 0-.6-.8-.4-.9.1-.1.2-.2 0-.4-.2-.1-.6 0-.7.3-.6-1.1.2-1 0-2.2-.1.6-.4.9-.7 1 .1-.2-.1-.8-.1-1.2 0-.9.6-1.2.6-1.4 0-.2-.2-.4 0-.6.1-.1.3.1.6.1.7 0 1.2-.9 1.3-2 .1-1.2.7-2.1 1.1-3 0-.1 0-.3.1-.4-.6.7-1 1.6-1.7 2.1.1.8-1.5 1.7-2.3 1 .3 0 .8-.1 1-.6-.1 0-.2 0-.3-.1-.6.3-1.3-.1-1.3-.7.2.2.4.3.8.2.2-.1.1-.4.1-.8 0-2.3 3.6-3.9 3.6-5.8 0-.6-.3-.9-.8-.9-.2 0-.4.1-.7.2.2.1.3.3.3.6 0 2.1-3.5 1.9-3.7 3.3-.1-1.8 2-1.4 2.1-2.9-.4.7-1.2 1.1-1.7.9 1.1 0 .8-2.2 2-2.2.1 0 .2 0 .4.1.3-.3.8-.4 1.1-.4.6 0 1.3.3 1.3 1.3 0 2.2-3.6 3.7-3.6 5.8 0 .7.4 1 1 1 1.2 0 2.1-2.2 3.5-4.1.9-1.2 1.5-3.7 2-4.9-.7.4-.8 1.8-1.6 1.9.4-.3.1-1.4.4-2.3.1-.3.1-.6.1-.9-.4.6-.3 2.2-1.1 2.4.3-.3 0-.9 0-1.4 0-1 .6-1.1.6-2.1-.4.2-.3 1.4-1.2 1.4.7-.7 0-1.3.8-2.1-.4-.2-.8-.6-.8-.9.3-.2.7-.3 1-.3-.3-.2-.2-.4 0-.7.1.2.2.3.3.3.3-.1.8-.6 1.5-.8.5-.2 1.3-.5 1.6-.5.1 0 .1-.2.1-.3.2 0 .6 0 .7.3.2-.2.6-.3.9-.3.2.4.2.8 0 1.2.4 0 .7.4 1.1.3-.3.4-.8.3-1.2.2 1.2.3 1.5 1.6 2.1 1.7-1.2.7-1.7-.3-2.3-.3 1.7.9 1.7 1.9 2.1 1.9-.6.4-.9-.1-1.6-.3 1.3.9 1.3 1.6 1.2 2.1.3.2.2.6.2 1 .2-.1.6-.2.8-.2-.1.1-.2.2-.2.3-.7.8-1.1 1.4-1.5 2.4-.3-.2-.6-.6-.8-.7-.2-.2-.6-.2-.7-.2.4.4 1.8 2 2.2 2.4.4.4.3.8.4 1.2.4.4.8.7.7.9zM7.5 10.2c.4 0 .6-.6.4-.9-.4.2-1 .3-1.3.4.5.2.5.5.9.5zm2.3 2.5c.4-.2.4-.7.3-.9-.1-.2-.2-.4-.3-.4-.2 0-.4-.1-.4-.3-.1-.2.2-.3.4-.6-.2-.1-.4-.2-.2-.3.2-.1.4.1.4 0 .1-.1-.1-.2-.2-.3s-.2-.1-.3 0l-1.2.4c-.1 0-.3 0-.3.1s-.1.3 0 .3.1-.3.3-.3.2.1 0 .4c.4 0 .6-.1.7.2.1.2 0 .3-.1.6-.1.1 0 .3 0 .6.1.2.5.7.9.5zm.1-3.5c.2-.2 0-.4.3-.9-.3.2-.8.5-1.3.7.3.3.7.5 1 .2zm-.7-3.1c.1.1.1.2.1.3-.1 0-.1-.1-.3-.2v.6c.1-.1.2-.1.2-.2 0 .3-.1.6-.3.6l-.3-.3c0-.1.1-.2.2-.1 0-.3-.2-.3-.3-.2.1-.4.1-.6-.2-.7-.3.3-.1.4.1.6-.2-.1-.5.1-.2.4 0-.2.2-.1.2 0s-.1.3-.4.4c-.3.1-.4-.1-.5-.3.1 0 .2 0 .4.1l.1-.5c-.1.3-.2.3-.3.4 0-.1.1-.4.1-.4l-.7.2s.3.1.4.2c0 0-.1.1-.4 0l.2.4c0-.2.1-.3.2-.3.1.2.1.4-.2.6-.2.2-.4.1-.4 0-.1-.1 0-.3.2-.2 0-.3-.3-.3-.3-.1 0-.3-.1-.6-.4-.6-.1.3 0 .6.3.7-.2 0-.3.1-.1.3 0-.2.1-.2.2-.1s0 .2-.1.3c-.1.1-.3.1-.6-.2h.2L6 7.3v.3c-.1-.1-.1-.1-.1-.3l-.2.2c.2.2.6.5.9.9.3-.2 1-.6 1.5-.7.4-.2 1.1-.4 1.6-.4-.1-.6 0-1 0-1.2h-.5zm-2.7-.7l.2.4.1-.3v.6c0 .1.1.3.3.3.1 0 .3-.1.3-.3 0-.1-.1-.2-.1-.2 0-.1-.2-.3-.3-.4h.4v-.4l-.4.2v-.4l-.4.1.2.3-.3.1zm1.4.4c.1-.2.1-.3 0-.4-.1-.1-.2-.1-.3 0-.1.1-.1.2 0 .3.1.1.2.1.3.1zm.6-.5c.1-.1.1-.2 0-.3s-.2-.1-.3 0-.2.2 0 .3c.1.1.2.1.3 0zm.5.1c.1-.1.1-.2 0-.3s-.2-.1-.3 0c-.1.1-.1.2 0 .3.1.1.3.1.3 0zm.2.5c.1.1.2.1.3 0s.1-.2 0-.3h-.3c-.2 0-.2.3 0 .3zm-2.7.4c.1 0 .2-.1.2-.2s-.1-.2-.2-.2-.2.1-.2.2.1.2.2.2zm-.7.1c.1 0 .2-.1.2-.2S6 6 5.8 6c-.1 0-.2.1-.2.2s.1.2.2.2zm-.1.2c0-.1-.1-.2-.2-.2s-.2.1-.2.2.1.2.2.2.2 0 .2-.2zm.1.7c0-.1-.1-.2-.2-.2s-.2.1-.2.2.1.2.2.2.2-.1.2-.2zm15.7 16.9c-.1 0-.1.1-.1.1 0 .1 1-.1 1 .1 0 .1-.2.2-.6.2h-.1c0 .1.1.1.1.1v.1s0 .1 0 0h-.1s-.1 0 0 .1h-.1v-.1h-.1v-.1h.1l.1.1.1-.1-.1-.1h-.3c.1.1.1.2.1.3v.1h-.1s0 .1-.1.1H21c0-.1.1 0 .1-.1 0 0 0-.1.1-.1s.1.1.2.1h.1-.1v-.1c-.1 0-.1.1-.2.1 0 .1-.1.2-.1.2l-.1.1c-.1 0-.1 0-.1.1v-.1h-.1l-.1.1v-.1s0 .1-.1.1c0 0-.1 0-.1-.1v.2s-.1 0-.1-.1v-.1c-.1.1-.1 0-.1 0s0-.1.1-.1h.1c-.1 0-.1 0-.1-.1h.1v.1h.4v-.1c-.1 0-.1 0-.1-.1-.4-.2-.4-.3-.4-.3-.1 0-.2 0-.1-.1 0 .1.1.1.1 0 0 0-.1 0 0-.1v-.1h.1-.1.1l.1.1h.1v.1c0 .1 0 .1.1.1s.1.2.2.2v-.2s0-.1.1-.1l.1-.1v-.1h.2s.1 0 .1.1h.1s0 .1-.1.1c0 0 0 .1-.1.2.4-.1.8 0 .9 0 .2 0 .4-.1.4-.1 0-.1-1 .1-1-.1-.4-.4-.3-.4-.2-.4 0 0 0-.1 0 0 .2-.2.6 0 .7-.1 0 0-.2.1-.3.1.3.1.4-.1.8 0-.3-.1-.7.3-1.2 0 0 .1 0 0 0 0zm-.7 0c0 .1 0 .1 0 0 .1.1.1.1 0 0 .1.1.1.1 0 0zm0 0s-.1 0 0 0c-.1 0-.1 0 0 0-.1.1 0 0 0 0zm-.1.3s0 .1 0 0c0 .1.1.1 0 0 .1 0 .1 0 0 0 .1 0 .1 0 0 0 .1-.1.1-.1.1 0h-.1c0-.2 0-.2 0 0 0-.2.1-.2 0 0zm1.1-1.6c-.1 0-.3 0-.3.1s.7.1.9.1c.3 0 .3.1.3.1 0 .1-.3.1-.6.1h.3c.1 0 0 0 0 0h.1v.2h-.1c0 .1-.1 0-.1.1v.1h-.1v-.1s0 .1-.1.1 0-.1.1-.1H22s0-.1.1-.1h.1v-.1h-.5v.1s.1.1 0 .1h-.1s0 .1-.1.1h-.3c0-.1.1 0 .1-.1h-.1s0-.1.1-.1.1.1.2.1h.1-.1c-.1 0 0-.1 0-.2h-.1c-.4-.1-.2.1-.4.1 0 0 0 .1-.1.1 0 .1-.1.2-.2.1-.1 0-.2 0-.2.1v-.1h-.1c0 .1-.1.1-.1.1v-.2s0 .1-.1.1c0 0-.1 0-.1-.1v.2s-.1 0-.1-.1v-.1c-.1.1-.1 0-.1 0s0-.1.1-.1h.1c-.1 0-.1-.1-.1-.1h.1v.1c0 .1.2 0 .2 0h.2v-.1h-.1c-.1-.1-.1 0-.1 0-.1 0-.2 0-.1-.1 0 .1.1.1.1 0-.1 0-.1 0 0-.1v-.1s0-.1.1 0h-.1.1l.1.1h.1v.1c0 .1 0 .1.1.1h.1v-.1s0-.1.1-.1l.1-.1V23h.2s.1 0 .1.1h.1s0 .1-.1.1c0 0 0 .1-.1.2.3-.1 1 0 1.2 0 .1 0 .4 0 .4-.1 0 0 0-.1-.2-.1s-1 .2-1-.1c-.2-.3.1-.3.2-.2.1-.1.1-.1 0 0 .2-.2.6 0 .7-.1 0 0-.2.1-.3.1.3.1.4-.1.8 0-.3-.1-.8.1-1.2 0 .1 0 .1 0 0 0zm-.9 0s-.1-.1 0 0c-.1 0-.1 0 0 0zm.1.1s-.1 0 0 0l-.1-.1c-.1.1 0 .1.1.1h-.1v.1l.1-.1c-.1.1-.1.1 0 0-.1.1-.1.1 0 0-.1 0-.1 0 0 0-.1 0-.1 0 0 0-.1 0-.1 0 0 0zm0 0c0-.1 0-.1 0 0 0-.1 0 0 0 0zm2.2-.9s0 .1 0 0c0 .1 0 .1 0 0 0 .1 0 .1 0 0v.1c0 .1-.1 0-.1.1 0 0 .1 0 0 .1H23v-.1s0 .1-.1.1v-.1h-.2s0-.1.1-.1h.1v-.1h-.2c-.1 0-.1.1-.2.1h-.2v.1s.1.1 0 .1h-.1s0 .1-.1.1h-.3c0-.1.1 0 .1-.1h-.1s0-.1.1-.1.1.1.2.1h.1-.2c-.1 0-.1-.1 0-.2 0 0 0 .1-.1.1-.6-.1-.3.2-.8.1 0 0 0 .1-.1.1h-.1l-.1.1c-.1 0-.1 0-.2.1v-.1h-.1c0 .1-.1.1-.1.1v-.2s0 .1-.1.1c0 0-.1 0-.1-.1v.2s-.1 0-.1-.1v-.1c-.1.1-.1 0-.1 0s0-.1.1-.1h.1c-.1 0-.1-.1-.1-.1h.1v.1c0 .1.2 0 .2 0h.2s-.1-.1 0-.1v-.1h-.1l-.2-.2v-.1c-.1 0-.2 0-.1-.1 0 .1.1.1.1 0-.1 0-.1-.1 0-.1v-.1s0-.1.1 0c0 0-.1 0-.1-.1h.1s0 .1.1.1h.1v.1c0 .1 0 .1.1.1s.1.1.2.1v-.1s0-.1.1-.1l.1-.1v-.1h.3s.1 0 .1.1h.1s0 .1-.1.1c0 0 0 .1-.1.2.4-.1 1.5 0 1.7 0 .1 0 .4 0 .4-.1 0 0 0-.1-.3-.1-.2 0-1.3.2-1.3-.1 0-.2.3-.1.7-.1.1-.1.6 0 .7 0 0 0-.2.1-.3.1.3.1.4-.1.8 0-.2-.1-.7.2-1.1.1h-.1c-.2 0-.6 0-.6.1 0 .2.9.1 1.2.1.3 0 .4.1.4.1 0 .1-.3.1-.4.1h.3c-.4-.1-.4-.1-.3 0-.1 0 0-.1 0 0zm-2.2-.5s0 .1 0 0c.1.1.1.1.1 0H21zm-.1 0s0-.2 0 0c0 0-.1 0 0 0zm-.1.2c.1.1.1 0 0 0 .1 0 .1 0 0 0 .1 0 .1-.1 0 0l.1-.1h-.1c.1 0 .1 0 0 .1.1-.1.1-.1 0 0 .1-.1 0 0 0 0zm-1.9-2c0 .1-.3.1-.4.1h.5v.2c0 .1-.1 0-.1.1 0 0 .1 0 0 .1h-.1v-.1.1-.1h-.2s0-.1.1-.1h.1V20h-.2c-.1 0-.1.1-.2.1h-.2v.1s.1.1 0 .1H18s0 .1-.1.1h-.3c0-.1.1 0 .1-.1h-.1s0-.1.1-.1.1.1.2.1h.1-.1c-.1 0-.1-.1 0-.1h-.1c-.6-.1-.3.2-.8.1 0 0 0 .1-.1.1l-.1.1h-.1c-.1 0-.2 0-.2.1v-.2h-.1c0 .1-.1.1-.1.1v-.2s0 .1-.1.1c0 0-.1 0-.1-.1v.2s-.1 0-.1-.1v-.1c-.1.1-.1 0-.1 0s0-.1.1-.1h.1c-.1 0-.1-.1-.1-.1v.1c0 .1.2 0 .2 0h.2v-.1h-.1l-.2-.2v-.1c-.1 0-.2 0-.1-.1 0 .1.1.1.1 0-.1 0-.1-.1 0-.1v-.1s0-.1.1 0c0 0-.1 0-.1-.1h.1s0 .1.1.1h.1v.1c0 .1 0 .1.1.1s.1.1.1.1v-.1s0-.1.1-.1l.1-.1v-.1h.3s.1 0 .1.1h.1s0 .1-.1.1c0 .1 0 .1-.1.2.5-.1 1.5 0 1.8 0-.4.1-.1 0 0 0-.1-.1-.1-.1-.4-.1-.2 0-1.3.2-1.3-.1 0-.2.3-.1.7-.1.1-.1.6 0 .7 0 0 0-.2.1-.3.1.3.1.6-.1.8 0-.3-.1-.7.2-1.1.1h-.1c-.2 0-.6 0-.6.1 0 .2.9.1 1.2.1.3-.3.4-.2.4-.1zm-2.3-.2c.1.1.1.1.1 0h-.1zm-.1-.2s-.1 0 0 0c-.1 0-.1 0 0 0 0 .2 0 0 0 0zm-.1.3c0 .1 0 .1 0 0 0 .1.1.1 0 0 .1.1.1 0 0 0 .1 0 .1 0 0 0l.1-.1h-.1c.1 0 .1 0 0 .1.1 0 .1 0 0 0 .1 0 0 0 0 0zm2.6-1.4c0 .1-.3.2-.6.2h.6v.2h-.1c0 .1-.1 0-.1.1 0 0 .1 0 0 .1h-.1v-.1.2-.1h-.2s0-.1.1-.1h.1v-.1h-.2c-.1 0-.1.1-.2.1h-.2v.1c.1 0 .1.1 0 .1H18s0 .1-.1.1h-.1.1-.2c0-.1.1 0 .1-.1h-.1s0-.1.1-.1.1.2.2.1h.1-.1c-.1 0-.1-.1 0-.2h-.1c-.4-.1-.2.2-.6.2h-.1c0 .1-.2.2-.2.2-.1.1-.1 0-.2.1v-.2h-.1c0 .1-.1.1-.1.1V19s0 .1-.1.1c0 0-.1 0-.1-.1v.2s-.1 0-.1-.1V19c-.2 0-.2-.1-.2-.1s0-.1.1-.1h.1c-.1 0-.1-.1-.1-.1H16v.1c0 .1.2 0 .2 0h.2v-.1h-.1c-.1 0-.1-.1-.1-.1v-.1c-.1 0-.2 0-.1-.1 0 .1.1.1.1 0-.1 0-.1-.1 0-.1v-.1s0-.1.1 0c0 0-.1 0-.1-.1h.1s0 .1.1.1V18s.1 0 .1.1v.1c0 .1 0 .1.1.1s.1.1.1.1h.1v-.1s0-.1.1-.1l.1-.1V18h.3s.1 0 .1.1v.1h.1s0 .1-.1.1c0 0 0 .1-.1.2.4-.1 1.1 0 1.3 0 0-.1.3-.1.4-.2-.1-.1-.1-.1-.4-.1-.2 0-1.1.2-1.1-.1 0-.1.2-.1.4-.1.2-.1.4 0 .6-.1 0 0-.1.1-.2.1.3.1.6-.1.9.1-.2-.1-.8.1-1.1 0H18c-.2 0-.3 0-.3.1 0 .2.7.1 1 .1.2-.1.3-.1.3 0zm-2.5.3c-.1 0-.1 0 0 0zm.5-.5c.1.1.1.1.1 0H17zm-.1-.1s-.2 0 0 0c0 .1 0 .1 0 0zm-.2.3c.2.1.2 0 0 0 .2 0 .2 0 0 0 .2-.1.2-.1 0 0l.1-.1h-.1c.2 0 .2 0 0 .1.2-.1.2-.1 0 0 .2-.1 0-.1 0 0zm1.8-1.2c.1 0 .2.1.3.1h.2v.2c0 .1-.1 0-.1.1 0 0 .1 0 0 .1h-.1v-.2h-.2s0-.1.1-.1h.1v-.1h-.4v.2h-.1v.1h-.4c0-.1.1 0 .1-.1h-.1s0-.1.1-.1.1.1.2.1h.1-.1v-.2h-.1c-.3 0-.1.1-.2.1 0 0-.1.1-.2.1v-.1h-.1l-.1.1c-.1 0-.1 0-.1.1v-.1h-.1l-.1.1v-.1s0 .1-.1.1c0 0-.1 0-.1-.1v.2s-.1 0-.1-.1v-.1c-.1.1-.1 0-.1 0s0-.1.1-.1h.1c-.1 0-.1 0-.1-.1h.1v.1h.3s.1 0 .2-.1l-.1-.1c-.1 0-.2 0-.1-.1 0 .1.1.1.1 0-.1 0-.1 0 0-.1v-.1h.1-.1.1v.1h.1v.2l.1.1V17s0-.1.1-.1l.1-.1v-.1h.4s0 .1-.1.1c0 0-.1.1-.1.2.1-.1.2 0 .4.1.3-.1.5-.1.5-.2 0-.2-.9 0-.9-.3 0 0 0-.1.1-.1v-.1c.1-.1.2-.1.3-.2 0 0 0 .1-.1.2.2 0 .2-.3.7-.2-.3.1-.3.3-.8.4l-.1.1c0 .2.9 0 .9.3-.1 0-.2.1-.6.1zm-.7-.4c0 .1 0 .1 0 0 .1.1.1.1 0 0 .1.1 0 0 0 0zm0 0c-.2 0-.2 0 0 0-.2 0-.2 0 0 0-.2 0-.2 0 0 0zm-.2.2c-.1 0-.1 0 0 0 0 .1 0 0 0 0 .1-.1.1-.1.1 0h-.1c0-.1 0-.1 0 0 0-.1 0-.1 0 0zm1.3 5.1c.1 0 .1 0 .1.1s-.1.1-.2.1l-.1 2.4h.1v.2c0 .1-.1.1-.2.1 0 .3-.2.4-.4.4-.1 0-.3-.1-.3-.3 0-.1.1-.2.2-.2s.1 0 .1.1-.2 0-.2.1 0 .1.1.1.2-.1.2-.2c0-.2-.2-.2-.4-.2-1.3-.4-2.1-1.8-2.1-2.8h-.1l.1-.2-.1.1c-.1 0-.2-.1-.2-.2s.1-.2.2-.2.2.1.2.2l.1-.2c.2.1.6.2.9.2.7 0 1.2-.3 1.5-.3.2.1.4.4.5.7zm-2.6.2c-.1 1.2.8 2.1 1.7 2.4l-1.7-2.4zm1.8 2.3c0-.1 0-.3.1-.4l-1.3-1.8h-.3l1.5 2.2zm.1-.8c0-.1 0-.3.1-.4l-.8-1.1c-.1 0-.2.1-.3.1l1 1.4zm.2-1.7c0-.2 0-.3-.1-.3s-.4.1-.7.2l.7 1c0-.2.1-.4.1-.7v-.1c-.1 0-.1-.1-.1-.1h.1zm4.3-2.6c.1 0 .1-.1.1-.1h-.1s.1 0 0-.1c0-.1-.1-.1-.1 0s-.4 0-.4-.3l.1.1h.1c.1 0 .1-.1.1-.1 0-.1-.1-.2-.3-.3-.1 0-.1-.1-.1-.1 0-.1 0-.2-.1-.4v-.2c-.1.1-.1.3.1.6.1.1.4.3.4.4 0 0 0 .1-.1.1h-.1s-.1 0-.1-.1c-.1-.1-.2-.3-.3-.4-.1-.2-.1-.3-.1-.6.1-.1-.1-.4-.1-.6v-.1h-.1s0-.1-.1-.1-.1 0-.1-.1c0 0 0 .1-.1.1h-.4c-.1 0-.1 0 0 .1v.2-.1h.1v.1h-.1v.1h.3c0 .1-.2.1-.2.3l-.1-.1-.1-.1-.1-.1c-.1 0-.1-.1-.1-.1v-.1l-.1-.1v.2s0-.1-.1-.1c0 0 0-.1-.1 0 0 0 0 .1.1.1h-.1v.2h-.1c-.1.1 0 .2.1.1v.3c0 .1.1.2.3.3l-.2.2s-.1.1-.2.1l-.1-.1h-.2.2-.1s-.1.1 0 .1v-.1s.1.1.1 0v.1s.1.1.1 0l-.1-.1v-.1s0 .1.1 0v-.1h.2s0-.1.1-.1h.1s0-.1.1-.1c0 .3.3.2.4.4-.1 0-.2-.1-.3-.1s-.2.1-.2.2.1.2.1.3h-.2c-.1 0-.1-.1-.2-.1 0 0-.1 0-.1.1h.1s-.1 0-.1.1c0 0 0 .1.1 0 0 0 0 .1.1 0h.1s0-.1.1 0h.2v-.1c0-.1-.1-.1-.1-.1 0-.1.1-.2.2-.2 0 .1.1.3.3.4.1 0 .2-.1.2-.1v.1h-.1s-.1 0-.1.1h.1s.1.1.1 0c0 0-.1.1 0 .1s0-.1.1-.1v.1h.1v-.1s.1 0 .1-.1c1 .6 1 .6 1 .4 0 .2 0 .2 0 0 0 .2 0 0 0 0zm.7.6c.1 0 .2.1.2.2l-.1.1s.1.1.1.2c-.1 0-.1 0-.2-.1 0 .1 0 .1-.1.1s-.2 0-.2-.1c0 .1.2 0 .1 0h-1.5c0 .1 0 .2-.1.3-.1-.1-.1-.2-.1-.3h-1.3c0 .1.1.1.1 0 0 .1-.1.2-.2.2H20s-.1.1-.2.1c0-.1 0-.1.1-.2-.1 0-.1 0-.1-.1s0-.2.2-.2c-.1 0 0 .2 0 .1v-1.9c-.1 0-.2 0-.3-.1.1-.1.2-.1.3-.1v-1.8c-.1 0-.1.1 0 .1-.1 0-.2-.1-.1-.2l.1-.1s-.1-.1-.1-.2c.1 0 .1 0 .2.1 0-.1 0-.1.1-.1s.2 0 .2.2c0-.1-.1-.1-.1 0 .3.1.8.2 1.1.4.3.2.7.6 1 .9l.1.1c0-.1.1-.1.3-.1-.2.3-.3.3-.3.3.4.7.8 1.4.9 2.3V20zm-1.3-2.3c-.2-.3-.6-.6-.9-.8-.2-.2-.6-.3-.9-.4v.2c-.1 0-.1 0-.1-.1v1.2c.1 0 .1 0 .1.1v.1c.1 0 .1 0 .2.1-.1.1-.1.1-.2.1.1 0 .1.1 0 .1l-.1.1V20s.1-.1.2-.1c0 .1 0 .1-.1.2h1c0-.1 0-.1.1-.1h.1c0-.1 0-.1.1-.2.1.1.1.1.1.2 0-.1.1-.1.1 0l.1.1H23s-.1-.1-.1-.2h.1c-.1-.7-.3-1.2-.7-1.8h-.1s-.1-.1 0-.1c0 0-.1.1-.2 0 0-.1 0-.1.1-.2v-.1zm4.2 2.7v.4c0 1-.2 2.1-.6 3-.3.9-.9 1.8-1.5 2.4-.3.3-.7.7-1 .9-.1.1-.4.2-2-.2-.2 0-.3-.1-.6-.1 0-.2 0-.3.1-.4.1-.2.1-.3.2-.4.1 0 .1-.1.2-.1.6-.2 1-.7 1.5-1.2.4-.6.8-1.1 1-1.8.2-.7.3-1.3.3-2h-4.5v5c.3 0 1 .1 1 .1-.1.2-.2.4-.2.8-.6-.1-1-.3-1.6-.6.4-.2.6-.2.8-.2v-4.9h-4.7c0-.2-.1-.6-.2-.7-.2-.3-.3-.4-.3-.9 0-.2-.1-.6-.3-.8-.1-.1-.7-.8-.8-.9.3-.9.9-1.8 1.5-2.4.4-.4.9-.9 1.5-1.2-.2-.2-.6-.4-.6-.9 0-.2.1-.4.2-.6-.3-.9-.8-2-1.2-2.6l.9-.4c-.2.3-.2.8-.2 1 .2-.2.4-.4.6-.7 0 .3.2.8.3 1-.2 0-.4-.1-.8 0 .1.2.6.6 1.1.3.3-.1.7-.2.7-.6 0-.1-.1-.3-.3-.3s-.2.3-.1.4c-.2-.1-.6-.9-.1-1 .3-.1.7.3.8.7 0-.2.2-.7.6-.7.4 0 .3.8.1 1 0-.2-.2-.4-.3-.4s-.2.1-.2.3c0 .2.3.4.8.4.3 0 1.1-.1 1.1-.9-.2 0-.7.2-.8.4V9.4c.2.3.6.6.8.6-.1-.3-.3-.7-.7-.9h1.7c-.3.2-.6.6-.7.9.2 0 .6-.2.8-.4v1.2c-.2-.2-.6-.4-.8-.4.1.8.8.9 1.1.9.4 0 .8-.1.8-.4 0-.2-.1-.3-.2-.3s-.2.1-.3.4c0-.2-.2-1.1.2-1.1.3 0 .4.3.6.8.1-.3.4-.8.8-.7.3.1.1.9-.1 1 .1-.1 0-.4-.1-.4-.2 0-.3.1-.3.3 0 .2.3.4.7.6.6.1 1-.2 1.1-.4-.2-.1-.4-.1-.8.1.1-.2.3-.8.3-1 .1.3.2.6.6.7 0-.2 0-.7-.2-1l.9.4c-.4.4-1 1.6-1.2 2.6.2.1.3.3.3.7 0 .4-.2.7-.6.9.6.3 1 .8 1.5 1.2.3.3.6.8.9 1.2 0 0-.1.1-.1.2-.1.1-.2.2-.2.3-.1.1-.1.2-.1.3 0 .1 0 .2.1.4l1 2c-.6 0-.4.2-.2.3zm-7-5c-.6 0-1.2.1-1.8.4-.6.2-1.1.7-1.5 1.2-.4.6-.8 1.1-1 1.8-.2.7-.3 1.3-.3 2.1h4.6v-5.5zm.1-2.2c1.6 0 2.6.4 3.2.9.3-.2.6-.4.6-.7 0-.9-2.5-1-3.7-1-1.2 0-3.7.1-3.7 1 0 .2.1.4.6.7.5-.4 1.5-.9 3-.9zm4.7 7.7c0-.7-.1-1.4-.3-2.1-.2-.7-.6-1.2-1-1.8-.4-.6-.9-.9-1.5-1.2-.6-.2-1.1-.4-1.7-.4v5.5h4.5zm11 11.1c0-.1-.1-.1-.1-.1-1.5.4-3.2-.8-4.9-1.9-1.5-1-2.8-1.9-4-1.9-.4 0-.8.1-1.1.2-.4.2-.7.6-.9 1.1-.2.4-.4.8-.6 1.1-.2.3-.3.6-.3.8 0 .2.1.4.3.7.1.2.4.3.8.6.1 0 .1.1.2.1.3.1.4.2.4.4-.6.2-1.3.4-2.1.6-.9.1-2 .2-3.1.2s-2.1-.1-3.1-.2c-.9-.1-1.6-.3-2.1-.6 0-.2.2-.3.6-.4.1 0 .1-.1.2-.1.3-.1.6-.3.8-.4.2-.2.3-.3.3-.6s-.1-.6-.3-.8c-.1-.2-.3-.6-.6-1.1-.2-.4-.6-.9-.9-1.1-.3-.2-.7-.2-1.1-.2-1.2 0-2.6.9-4 1.9-1.8 1.1-3.6 2.3-4.9 1.9-.1 0-.1 0-.1.1s0 .1.1.1c.4.2.8.4 1.2.8.6.4 1 .8 1.6.8.6 0 1.1-.1 1.8-.6.6-.3 1.2-.7 1.8-1.1 1.1-.8 2.3-1.6 3.5-1.7l-.3.3c-.3.3-.7.6-.7 1.1 0 .4.1.7.3 1.1.1.1.1.2.2.4s.2.4.2.8c0 .1.1.3.1.4.1.2.2.8 1 1.2 1 .4 2.6.8 4.9.8 2.2 0 3.9-.2 4.9-.8.8-.4 1-.9 1-1.2 0-.2.1-.3.1-.4.1-.3.1-.6.2-.8.1-.2.2-.3.2-.6.2-.3.3-.6.3-.9 0-.6-.3-.8-.7-1.1l-.3-.3c1.1.1 2.3.9 3.5 1.7.6.4 1.2.8 1.8 1.1.7.3 1.2.6 1.8.6.6 0 1-.3 1.6-.8.3-.3.8-.6 1.2-.8-.9-.2-.7-.3-.7-.4zm-14.6-1.4c.4 0 .7.3.7.7 0 .3-.2.6-.3.8-.1-.2-.1-.3-.2-.3-.2 0-.1 1.1-.8 1.1v.2c0 .2-.2.4-.4.4s-.5-.3-.5-.5v-.2c-.7 0-.6-1.1-.8-1.1-.1 0-.2.1-.2.3-.1-.2-.3-.4-.3-.8 0-.3.2-.7.7-.7h.2V29c.7.1 1.2.2 1.8.2v1.2c0 .2 0 .2.1.2zm-1.1 2.6c.1 0 .2-.1.2-.2s-.1-.2-.2-.2-.2.1-.2.2.1.2.2.2zm1.5-1.5c.1-.1.1-.3.1-.4 0-.2-.1-.4-.4-.4-.6 0-.4.8-.7.8-.1 0-.2-.1-.2-.2 0-.2.3-.4.3-.8s-.3-.6-.6-.8c-.3.2-.6.6-.6.8 0 .3.3.6.3.8 0 .1-.1.2-.2.2-.2 0-.1-.8-.7-.8-.3 0-.4.3-.4.4 0 .1 0 .2.1.4l.2-.2c.4 0 .2 1.1.8 1.1.2 0 .3-.1.3-.3 0-.1-.1-.2-.1-.3 0-.1.1-.2.2-.2s.2 0 .2.2c0 .1-.1.2-.1.3s.1.3.3.3c.4 0 .3-1.1.8-1.1.3 0 .3.1.4.2zm.3-4.1c.7.1 1.5.3 1.9.2l-.1.1c-.2.2-.4.3-.7.6-.7.4-1.3.7-1.8.7-.6 0-1.3-.1-2.1-.3-.7-.2-1.3-.4-1.8-.7-.2.2-.6.2-.9.1-.3-.1-.6-.6-.6-.8v-.1l-.7-.7c-.7-.7-1.1-1.6-1.5-2.4-.1-.4-.3-.9-.3-1.3.6.2.8 0 1-.2.1 0 .1.2.1.2.7 0 1-.4 1.1-.8.1.4.1.8.3 1.1.2.7.6 1.2 1 1.8.1.2.3.3.4.4.1 0 .2-.1.3-.1.2 0 .4.1.7.3.2.2.2.4.2.7 1.3.4 2.5.8 3.5 1.2zM17.4 26c.1 0 .1.1.2.1 0-.1-.1-.2-.2-.4-.1-.1-.3-.2-.6-.2-.4 0-.8.4-1 .6-.1 0-.2 0-.3-.1 0 .1.1.2.1.3-.2.3-.3.7-.3.9 0 .1.2.4.4.7.2.1.3.1.6 0-.1-.1-.2-.1-.3-.2-.1 0-.2-.1-.2-.2v-.1c0-.1 0-.2.1-.3v-.3h.1c.1.1.3.1.4.1 0 0 .1 0 .1-.1.1-.1 0-.3-.2-.4l-.1-.4.1-.1c.1-.1.1-.2.2-.2.5.1.6.1.9.3zm.7 1.9c.2 0 .4-.2.4-.4s-.2-.4-.4-.4-.4.2-.4.4c-.1.3.2.4.4.4zm1.9.7c.2 0 .4-.2.4-.4s-.2-.4-.4-.4-.4.2-.4.4c0 .1.2.4.4.4zM20 5c-.2-.2-.4-.4-.4-.8.2 0 .6.2.8.4V3.5c-.3.3-.5.5-.9.5 0-.2.2-.6.4-.8h-1.1c.2.3.4.6.4.8-.2 0-.6-.2-.8-.4v1.1c.2-.2.4-.4.8-.4 0 .3-.2.6-.4.8H20zm-1.6 1.4c.1.4.6.8 1 .8s.9-.3 1-.8h-2zm1.2-.4h.8c-.1-.4-.4-.8-.8-.8V6zm-.4 0v-.8c-.4.1-.8.4-.8.8h.8zm.8 1.5c-.1 0-.2.1-.3.1V9h.3V7.5zm-1.1 1.6h.3V7.7c-.1 0-.2-.1-.3-.1v1.5zm1.2-1.8c0 .2.1.3.3.3s.3-.1.3-.3c0-.2-.1-.3-.3-.3s-.3.1-.3.3zm1-.1c.2 0 .3-.1.3-.3 0-.1-.1-.2-.3-.2s-.3.1-.3.3c0 .1.2.2.3.2zM22 7c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3s-.3.1-.3.3c0 .2.1.3.3.3zm2.2.8c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3s-.3.1-.3.3c0 .2.2.3.3.3zm-.5-.6c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3s-.3.1-.3.3c-.1.2 0 .3.3.3zm-.9-.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3s-.3.1-.3.3c-.1.1.2.3.3.3zm1.8 2.4c-.2 0-.3.1-.3.3 0 .2.1.3.3.3s.3-.1.3-.3c0-.2-.1-.3-.3-.3zm.1-.7c-.2 0-.3.1-.3.3 0 .2.1.3.3.3s.3-.1.3-.3c0-.2-.1-.3-.3-.3zm-.4-.5c0 .2.1.3.3.3s.4-.1.4-.3c0-.2-.1-.3-.3-.3s-.4.1-.4.3zm-5.9-.5c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3s-.3.1-.3.3c0 0 .2.3.3.3zm-.8-.5c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3s-.3.1-.3.3c.1.2.2.3.3.3zm-.7-.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3s-.3.1-.3.3c-.1.2.1.3.3.3zm-2.3.8c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3s-.3.1-.3.3c0 .2.1.3.3.3zm.6-.6c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3s-.3.1-.3.3c-.1.2.2.3.3.3zm.9-.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3s-.3.1-.3.3c-.1.1.1.3.3.3zm-1.5 2.8c0-.2-.1-.3-.3-.3s-.3 0-.3.3c0 .2.1.3.3.3.1 0 .3-.1.3-.3zm-.2-.8c0-.2-.1-.3-.3-.3-.2 0-.3.1-.3.3 0 .2.1.3.3.3.2 0 .3-.2.3-.3zm-.2-.5c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3s-.4.1-.4.3c0 .1.3.3.4.3zm7.7.3c-.1.1-.4.4-.4.8 0 .2.2.6.3.8.1-.3.4-.4.4-.8 0-.3-.2-.5-.3-.8zm-4.9 0c-.2.3-.3.6-.3.9 0 .3.3.4.4.8.1-.3.3-.6.3-.8 0-.5-.3-.8-.4-.9z\"></path>\n                                    <image\n                                            src=\"/assets/images/moj-logotype-crest.png\"\n                                            xlink:href=\"\"\n                                            class=\"moj-header__logotype-crest-fallback-image\"\n                                            width=\"40\"\n                                            height=\"40\"></image>\n                                </svg>\n        \n                                <span class=\"govuk-header__logotype-text\">\n                                    OPG\n                                </span>\n                            </a>\n                        </div>\n    \n                        <a class=\"govuk-header__service-name\">\n                            Sirius\n                        </a>\n                        <div class=\"govuk-header__logo\">\n                            <nav aria-label=\"Menu\" class=\"govuk-header__navigation opg-main-nav-container\">\n                                 <ul id=\"header-navigation\" class=\"govuk-header__navigation-list\">\n                                    <li class=\"govuk-header__navigation-item\">\n                                        <a class=\"govuk-header__link\" href=\"${prefix}/lpa\"> Power of Attorney</a>\n                                    </li>\n                                    <li class=\"govuk-header__navigation-item\">\n                                        <a class=\"govuk-header__link\" href=\"${prefix}/supervision\">\n                                            Supervision\n                                        </a>\n                                    </li>\n                                    <li class=\"govuk-header__navigation-item\">\n                                        <a class=\"govuk-header__link\" href=\"${prefix}/admin\">\n                                            Admin\n                                        </a>\n                                    </li>\n                                    <li class=\"govuk-header__navigation-item\">\n                                        <a class=\"govuk-header__link\" href=\"${prefix}/auth/logout\">\n                                            Sign out\n                                        </a>\n                                    </li>\n                                </ul>\n                            </nav>\n                        </div>\n                    </div>\n                </header>\n                <nav class=govuk-phase-banner\" aria-label=\"feedback-banner-navigation\"> \n                    <div class=\"govuk-phase-banner\">\n                        <p class=\"govuk-phase-banner__content\">\n                           <span id=\"feedback-span\" id=\"feedback-span\" class=\"govuk-phase-banner__text govuk-!-padding-left-5\">\n                                Your <a id=\"feedback-link\" class=\"govuk-link\" href=\"${prefix}/admin/feedback\" target=\"_blank\" rel=\"opener\">feedback</a> will help us to improve this service.\n                            </span>\n                        </p>\n                    </div>\n                </nav>\n                <div id=\"nav-search\">\n                </div>\n                <nav class=\"moj-primary-navigation\" role=\"navigation\" aria-label=\"Primary navigation\">\n                    <ul class=\"moj-primary-navigation__list\">\n                        ${navLinks\n                          .map(({ url, title, hide, openNewTab }) => {\n                            return `<li \n                          class=\"moj-primary-navigation__item ${\n                            hide ? \"hide\" : \"\"\n                          }\"\n                          >\n                            <a\n                              class=\"moj-primary-navigation__link\"\n                              ${\n                                window.location.href.includes(url)\n                                  ? 'aria-current=\"page\"'\n                                  : \"\"\n                              }\n                              href=\"${url}\"\n                              ${openNewTab ? 'target=\"_blank\"' : \"\"}\n                            >\n                              ${title}\n                            </a>\n                          </li>`;\n                        })\n                        .join(\"\")}\n                    </ul>\n                </nav>\n            </div>\n    `;\n  }\n}\ncustomElements.define(\"sirius-header\", SiriusHeader);\n", "var htmx = (function() {\n  'use strict'\n\n  // Public API\n  const htmx = {\n    // Tsc madness here, assigning the functions directly results in an invalid TypeScript output, but reassigning is fine\n    /* Event processing */\n    /** @type {typeof onLoadHelper} */\n    onLoad: null,\n    /** @type {typeof processNode} */\n    process: null,\n    /** @type {typeof addEventListenerImpl} */\n    on: null,\n    /** @type {typeof removeEventListenerImpl} */\n    off: null,\n    /** @type {typeof triggerEvent} */\n    trigger: null,\n    /** @type {typeof ajaxHelper} */\n    ajax: null,\n    /* DOM querying helpers */\n    /** @type {typeof find} */\n    find: null,\n    /** @type {typeof findAll} */\n    findAll: null,\n    /** @type {typeof closest} */\n    closest: null,\n    /**\n     * Returns the input values that would resolve for a given element via the htmx value resolution mechanism\n     *\n     * @see https://htmx.org/api/#values\n     *\n     * @param {Element} elt the element to resolve values on\n     * @param {HttpVerb} type the request type (e.g. **get** or **post**) non-GET's will include the enclosing form of the element. Defaults to **post**\n     * @returns {Object}\n     */\n    values: function(elt, type) {\n      const inputValues = getInputValues(elt, type || 'post')\n      return inputValues.values\n    },\n    /* DOM manipulation helpers */\n    /** @type {typeof removeElement} */\n    remove: null,\n    /** @type {typeof addClassToElement} */\n    addClass: null,\n    /** @type {typeof removeClassFromElement} */\n    removeClass: null,\n    /** @type {typeof toggleClassOnElement} */\n    toggleClass: null,\n    /** @type {typeof takeClassForElement} */\n    takeClass: null,\n    /** @type {typeof swap} */\n    swap: null,\n    /* Extension entrypoints */\n    /** @type {typeof defineExtension} */\n    defineExtension: null,\n    /** @type {typeof removeExtension} */\n    removeExtension: null,\n    /* Debugging */\n    /** @type {typeof logAll} */\n    logAll: null,\n    /** @type {typeof logNone} */\n    logNone: null,\n    /* Debugging */\n    /**\n     * The logger htmx uses to log with\n     *\n     * @see https://htmx.org/api/#logger\n     */\n    logger: null,\n    /**\n     * A property holding the configuration htmx uses at runtime.\n     *\n     * Note that using a [meta tag](https://htmx.org/docs/#config) is the preferred mechanism for setting these properties.\n     *\n     * @see https://htmx.org/api/#config\n     */\n    config: {\n      /**\n       * Whether to use history.\n       * @type boolean\n       * @default true\n       */\n      historyEnabled: true,\n      /**\n       * The number of pages to keep in **localStorage** for history support.\n       * @type number\n       * @default 10\n       */\n      historyCacheSize: 10,\n      /**\n       * @type boolean\n       * @default false\n       */\n      refreshOnHistoryMiss: false,\n      /**\n       * The default swap style to use if **[hx-swap](https://htmx.org/attributes/hx-swap)** is omitted.\n       * @type HtmxSwapStyle\n       * @default 'innerHTML'\n       */\n      defaultSwapStyle: 'innerHTML',\n      /**\n       * The default delay between receiving a response from the server and doing the swap.\n       * @type number\n       * @default 0\n       */\n      defaultSwapDelay: 0,\n      /**\n       * The default delay between completing the content swap and settling attributes.\n       * @type number\n       * @default 20\n       */\n      defaultSettleDelay: 20,\n      /**\n       * If true, htmx will inject a small amount of CSS into the page to make indicators invisible unless the **htmx-indicator** class is present.\n       * @type boolean\n       * @default true\n       */\n      includeIndicatorStyles: true,\n      /**\n       * The class to place on indicators when a request is in flight.\n       * @type string\n       * @default 'htmx-indicator'\n       */\n      indicatorClass: 'htmx-indicator',\n      /**\n       * The class to place on triggering elements when a request is in flight.\n       * @type string\n       * @default 'htmx-request'\n       */\n      requestClass: 'htmx-request',\n      /**\n       * The class to temporarily place on elements that htmx has added to the DOM.\n       * @type string\n       * @default 'htmx-added'\n       */\n      addedClass: 'htmx-added',\n      /**\n       * The class to place on target elements when htmx is in the settling phase.\n       * @type string\n       * @default 'htmx-settling'\n       */\n      settlingClass: 'htmx-settling',\n      /**\n       * The class to place on target elements when htmx is in the swapping phase.\n       * @type string\n       * @default 'htmx-swapping'\n       */\n      swappingClass: 'htmx-swapping',\n      /**\n       * Allows the use of eval-like functionality in htmx, to enable **hx-vars**, trigger conditions & script tag evaluation. Can be set to **false** for CSP compatibility.\n       * @type boolean\n       * @default true\n       */\n      allowEval: true,\n      /**\n       * If set to false, disables the interpretation of script tags.\n       * @type boolean\n       * @default true\n       */\n      allowScriptTags: true,\n      /**\n       * If set, the nonce will be added to inline scripts.\n       * @type string\n       * @default ''\n       */\n      inlineScriptNonce: '',\n      /**\n       * If set, the nonce will be added to inline styles.\n       * @type string\n       * @default ''\n       */\n      inlineStyleNonce: '',\n      /**\n       * The attributes to settle during the settling phase.\n       * @type string[]\n       * @default ['class', 'style', 'width', 'height']\n       */\n      attributesToSettle: ['class', 'style', 'width', 'height'],\n      /**\n       * Allow cross-site Access-Control requests using credentials such as cookies, authorization headers or TLS client certificates.\n       * @type boolean\n       * @default false\n       */\n      withCredentials: false,\n      /**\n       * @type number\n       * @default 0\n       */\n      timeout: 0,\n      /**\n       * The default implementation of **getWebSocketReconnectDelay** for reconnecting after unexpected connection loss by the event code **Abnormal Closure**, **Service Restart** or **Try Again Later**.\n       * @type {'full-jitter' | ((retryCount:number) => number)}\n       * @default \"full-jitter\"\n       */\n      wsReconnectDelay: 'full-jitter',\n      /**\n       * The type of binary data being received over the WebSocket connection\n       * @type BinaryType\n       * @default 'blob'\n       */\n      wsBinaryType: 'blob',\n      /**\n       * @type string\n       * @default '[hx-disable], [data-hx-disable]'\n       */\n      disableSelector: '[hx-disable], [data-hx-disable]',\n      /**\n       * @type {'auto' | 'instant' | 'smooth'}\n       * @default 'smooth'\n       */\n      scrollBehavior: 'instant',\n      /**\n       * If the focused element should be scrolled into view.\n       * @type boolean\n       * @default false\n       */\n      defaultFocusScroll: false,\n      /**\n       * If set to true htmx will include a cache-busting parameter in GET requests to avoid caching partial responses by the browser\n       * @type boolean\n       * @default false\n       */\n      getCacheBusterParam: false,\n      /**\n       * If set to true, htmx will use the View Transition API when swapping in new content.\n       * @type boolean\n       * @default false\n       */\n      globalViewTransitions: false,\n      /**\n       * htmx will format requests with these methods by encoding their parameters in the URL, not the request body\n       * @type {(HttpVerb)[]}\n       * @default ['get', 'delete']\n       */\n      methodsThatUseUrlParams: ['get', 'delete'],\n      /**\n       * If set to true, disables htmx-based requests to non-origin hosts.\n       * @type boolean\n       * @default false\n       */\n      selfRequestsOnly: true,\n      /**\n       * If set to true htmx will not update the title of the document when a title tag is found in new content\n       * @type boolean\n       * @default false\n       */\n      ignoreTitle: false,\n      /**\n       * Whether the target of a boosted element is scrolled into the viewport.\n       * @type boolean\n       * @default true\n       */\n      scrollIntoViewOnBoost: true,\n      /**\n       * The cache to store evaluated trigger specifications into.\n       * You may define a simple object to use a never-clearing cache, or implement your own system using a [proxy object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Proxy)\n       * @type {Object|null}\n       * @default null\n       */\n      triggerSpecsCache: null,\n      /** @type boolean */\n      disableInheritance: false,\n      /** @type HtmxResponseHandlingConfig[] */\n      responseHandling: [\n        { code: '204', swap: false },\n        { code: '[23]..', swap: true },\n        { code: '[45]..', swap: false, error: true }\n      ],\n      /**\n       * Whether to process OOB swaps on elements that are nested within the main response element.\n       * @type boolean\n       * @default true\n       */\n      allowNestedOobSwaps: true\n    },\n    /** @type {typeof parseInterval} */\n    parseInterval: null,\n    /** @type {typeof internalEval} */\n    _: null,\n    version: '2.0.1'\n  }\n  // Tsc madness part 2\n  htmx.onLoad = onLoadHelper\n  htmx.process = processNode\n  htmx.on = addEventListenerImpl\n  htmx.off = removeEventListenerImpl\n  htmx.trigger = triggerEvent\n  htmx.ajax = ajaxHelper\n  htmx.find = find\n  htmx.findAll = findAll\n  htmx.closest = closest\n  htmx.remove = removeElement\n  htmx.addClass = addClassToElement\n  htmx.removeClass = removeClassFromElement\n  htmx.toggleClass = toggleClassOnElement\n  htmx.takeClass = takeClassForElement\n  htmx.swap = swap\n  htmx.defineExtension = defineExtension\n  htmx.removeExtension = removeExtension\n  htmx.logAll = logAll\n  htmx.logNone = logNone\n  htmx.parseInterval = parseInterval\n  htmx._ = internalEval\n\n  const internalAPI = {\n    addTriggerHandler,\n    bodyContains,\n    canAccessLocalStorage,\n    findThisElement,\n    filterValues,\n    swap,\n    hasAttribute,\n    getAttributeValue,\n    getClosestAttributeValue,\n    getClosestMatch,\n    getExpressionVars,\n    getHeaders,\n    getInputValues,\n    getInternalData,\n    getSwapSpecification,\n    getTriggerSpecs,\n    getTarget,\n    makeFragment,\n    mergeObjects,\n    makeSettleInfo,\n    oobSwap,\n    querySelectorExt,\n    settleImmediately,\n    shouldCancel,\n    triggerEvent,\n    triggerErrorEvent,\n    withExtensions\n  }\n\n  const VERBS = ['get', 'post', 'put', 'delete', 'patch']\n  const VERB_SELECTOR = VERBS.map(function(verb) {\n    return '[hx-' + verb + '], [data-hx-' + verb + ']'\n  }).join(', ')\n\n  const HEAD_TAG_REGEX = makeTagRegEx('head')\n\n  //= ===================================================================\n  // Utilities\n  //= ===================================================================\n\n  /**\n   * @param {string} tag\n   * @param {boolean} global\n   * @returns {RegExp}\n   */\n  function makeTagRegEx(tag, global = false) {\n    return new RegExp(`<${tag}(\\\\s[^>]*>|>)([\\\\s\\\\S]*?)<\\\\/${tag}>`,\n      global ? 'gim' : 'im')\n  }\n\n  /**\n   * Parses an interval string consistent with the way htmx does. Useful for plugins that have timing-related attributes.\n   *\n   * Caution: Accepts an int followed by either **s** or **ms**. All other values use **parseFloat**\n   *\n   * @see https://htmx.org/api/#parseInterval\n   *\n   * @param {string} str timing string\n   * @returns {number|undefined}\n   */\n  function parseInterval(str) {\n    if (str == undefined) {\n      return undefined\n    }\n\n    let interval = NaN\n    if (str.slice(-2) == 'ms') {\n      interval = parseFloat(str.slice(0, -2))\n    } else if (str.slice(-1) == 's') {\n      interval = parseFloat(str.slice(0, -1)) * 1000\n    } else if (str.slice(-1) == 'm') {\n      interval = parseFloat(str.slice(0, -1)) * 1000 * 60\n    } else {\n      interval = parseFloat(str)\n    }\n    return isNaN(interval) ? undefined : interval\n  }\n\n  /**\n   * @param {Node} elt\n   * @param {string} name\n   * @returns {(string | null)}\n   */\n  function getRawAttribute(elt, name) {\n    return elt instanceof Element && elt.getAttribute(name)\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {string} qualifiedName\n   * @returns {boolean}\n   */\n  // resolve with both hx and data-hx prefixes\n  function hasAttribute(elt, qualifiedName) {\n    return !!elt.hasAttribute && (elt.hasAttribute(qualifiedName) ||\n      elt.hasAttribute('data-' + qualifiedName))\n  }\n\n  /**\n   *\n   * @param {Node} elt\n   * @param {string} qualifiedName\n   * @returns {(string | null)}\n   */\n  function getAttributeValue(elt, qualifiedName) {\n    return getRawAttribute(elt, qualifiedName) || getRawAttribute(elt, 'data-' + qualifiedName)\n  }\n\n  /**\n   * @param {Node} elt\n   * @returns {Node | null}\n   */\n  function parentElt(elt) {\n    const parent = elt.parentElement\n    if (!parent && elt.parentNode instanceof ShadowRoot) return elt.parentNode\n    return parent\n  }\n\n  /**\n   * @returns {Document}\n   */\n  function getDocument() {\n    return document\n  }\n\n  /**\n   * @param {Node} elt\n   * @param {boolean} global\n   * @returns {Node|Document}\n   */\n  function getRootNode(elt, global) {\n    return elt.getRootNode ? elt.getRootNode({ composed: global }) : getDocument()\n  }\n\n  /**\n   * @param {Node} elt\n   * @param {(e:Node) => boolean} condition\n   * @returns {Node | null}\n   */\n  function getClosestMatch(elt, condition) {\n    while (elt && !condition(elt)) {\n      elt = parentElt(elt)\n    }\n\n    return elt || null\n  }\n\n  /**\n   * @param {Element} initialElement\n   * @param {Element} ancestor\n   * @param {string} attributeName\n   * @returns {string|null}\n   */\n  function getAttributeValueWithDisinheritance(initialElement, ancestor, attributeName) {\n    const attributeValue = getAttributeValue(ancestor, attributeName)\n    const disinherit = getAttributeValue(ancestor, 'hx-disinherit')\n    var inherit = getAttributeValue(ancestor, 'hx-inherit')\n    if (initialElement !== ancestor) {\n      if (htmx.config.disableInheritance) {\n        if (inherit && (inherit === '*' || inherit.split(' ').indexOf(attributeName) >= 0)) {\n          return attributeValue\n        } else {\n          return null\n        }\n      }\n      if (disinherit && (disinherit === '*' || disinherit.split(' ').indexOf(attributeName) >= 0)) {\n        return 'unset'\n      }\n    }\n    return attributeValue\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {string} attributeName\n   * @returns {string | null}\n   */\n  function getClosestAttributeValue(elt, attributeName) {\n    let closestAttr = null\n    getClosestMatch(elt, function(e) {\n      return !!(closestAttr = getAttributeValueWithDisinheritance(elt, asElement(e), attributeName))\n    })\n    if (closestAttr !== 'unset') {\n      return closestAttr\n    }\n  }\n\n  /**\n   * @param {Node} elt\n   * @param {string} selector\n   * @returns {boolean}\n   */\n  function matches(elt, selector) {\n    // @ts-ignore: non-standard properties for browser compatibility\n    // noinspection JSUnresolvedVariable\n    const matchesFunction = elt instanceof Element && (elt.matches || elt.matchesSelector || elt.msMatchesSelector || elt.mozMatchesSelector || elt.webkitMatchesSelector || elt.oMatchesSelector)\n    return !!matchesFunction && matchesFunction.call(elt, selector)\n  }\n\n  /**\n   * @param {string} str\n   * @returns {string}\n   */\n  function getStartTag(str) {\n    const tagMatcher = /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i\n    const match = tagMatcher.exec(str)\n    if (match) {\n      return match[1].toLowerCase()\n    } else {\n      return ''\n    }\n  }\n\n  /**\n   * @param {string} resp\n   * @returns {Document}\n   */\n  function parseHTML(resp) {\n    const parser = new DOMParser()\n    return parser.parseFromString(resp, 'text/html')\n  }\n\n  /**\n   * @param {DocumentFragment} fragment\n   * @param {Node} elt\n   */\n  function takeChildrenFor(fragment, elt) {\n    while (elt.childNodes.length > 0) {\n      fragment.append(elt.childNodes[0])\n    }\n  }\n\n  /**\n   * @param {HTMLScriptElement} script\n   * @returns {HTMLScriptElement}\n   */\n  function duplicateScript(script) {\n    const newScript = getDocument().createElement('script')\n    forEach(script.attributes, function(attr) {\n      newScript.setAttribute(attr.name, attr.value)\n    })\n    newScript.textContent = script.textContent\n    newScript.async = false\n    if (htmx.config.inlineScriptNonce) {\n      newScript.nonce = htmx.config.inlineScriptNonce\n    }\n    return newScript\n  }\n\n  /**\n   * @param {HTMLScriptElement} script\n   * @returns {boolean}\n   */\n  function isJavaScriptScriptNode(script) {\n    return script.matches('script') && (script.type === 'text/javascript' || script.type === 'module' || script.type === '')\n  }\n\n  /**\n   * we have to make new copies of script tags that we are going to insert because\n   * SOME browsers (not saying who, but it involves an element and an animal) don't\n   * execute scripts created in <template> tags when they are inserted into the DOM\n   * and all the others do lmao\n   * @param {DocumentFragment} fragment\n   */\n  function normalizeScriptTags(fragment) {\n    Array.from(fragment.querySelectorAll('script')).forEach(/** @param {HTMLScriptElement} script */ (script) => {\n      if (isJavaScriptScriptNode(script)) {\n        const newScript = duplicateScript(script)\n        const parent = script.parentNode\n        try {\n          parent.insertBefore(newScript, script)\n        } catch (e) {\n          logError(e)\n        } finally {\n          script.remove()\n        }\n      }\n    })\n  }\n\n  /**\n   * @typedef {DocumentFragment & {title?: string}} DocumentFragmentWithTitle\n   * @description  a document fragment representing the response HTML, including\n   * a `title` property for any title information found\n   */\n\n  /**\n   * @param {string} response HTML\n   * @returns {DocumentFragmentWithTitle}\n   */\n  function makeFragment(response) {\n    // strip head tag to determine shape of response we are dealing with\n    const responseWithNoHead = response.replace(HEAD_TAG_REGEX, '')\n    const startTag = getStartTag(responseWithNoHead)\n    /** @type DocumentFragmentWithTitle */\n    let fragment\n    if (startTag === 'html') {\n      // if it is a full document, parse it and return the body\n      fragment = /** @type DocumentFragmentWithTitle */ (new DocumentFragment())\n      const doc = parseHTML(response)\n      takeChildrenFor(fragment, doc.body)\n      fragment.title = doc.title\n    } else if (startTag === 'body') {\n      // parse body w/o wrapping in template\n      fragment = /** @type DocumentFragmentWithTitle */ (new DocumentFragment())\n      const doc = parseHTML(responseWithNoHead)\n      takeChildrenFor(fragment, doc.body)\n      fragment.title = doc.title\n    } else {\n      // otherwise we have non-body partial HTML content, so wrap it in a template to maximize parsing flexibility\n      const doc = parseHTML('<body><template class=\"internal-htmx-wrapper\">' + responseWithNoHead + '</template></body>')\n      fragment = /** @type DocumentFragmentWithTitle */ (doc.querySelector('template').content)\n      // extract title into fragment for later processing\n      fragment.title = doc.title\n\n      // for legacy reasons we support a title tag at the root level of non-body responses, so we need to handle it\n      var titleElement = fragment.querySelector('title')\n      if (titleElement && titleElement.parentNode === fragment) {\n        titleElement.remove()\n        fragment.title = titleElement.innerText\n      }\n    }\n    if (fragment) {\n      if (htmx.config.allowScriptTags) {\n        normalizeScriptTags(fragment)\n      } else {\n        // remove all script tags if scripts are disabled\n        fragment.querySelectorAll('script').forEach((script) => script.remove())\n      }\n    }\n    return fragment\n  }\n\n  /**\n   * @param {Function} func\n   */\n  function maybeCall(func) {\n    if (func) {\n      func()\n    }\n  }\n\n  /**\n   * @param {any} o\n   * @param {string} type\n   * @returns\n   */\n  function isType(o, type) {\n    return Object.prototype.toString.call(o) === '[object ' + type + ']'\n  }\n\n  /**\n   * @param {*} o\n   * @returns {o is Function}\n   */\n  function isFunction(o) {\n    return typeof o === 'function'\n  }\n\n  /**\n   * @param {*} o\n   * @returns {o is Object}\n   */\n  function isRawObject(o) {\n    return isType(o, 'Object')\n  }\n\n  /**\n   * @typedef {Object} OnHandler\n   * @property {(keyof HTMLElementEventMap)|string} event\n   * @property {EventListener} listener\n   */\n\n  /**\n   * @typedef {Object} ListenerInfo\n   * @property {string} trigger\n   * @property {EventListener} listener\n   * @property {EventTarget} on\n   */\n\n  /**\n   * @typedef {Object} HtmxNodeInternalData\n   * Element data\n   * @property {number} [initHash]\n   * @property {boolean} [boosted]\n   * @property {OnHandler[]} [onHandlers]\n   * @property {number} [timeout]\n   * @property {ListenerInfo[]} [listenerInfos]\n   * @property {boolean} [cancelled]\n   * @property {boolean} [triggeredOnce]\n   * @property {number} [delayed]\n   * @property {number|null} [throttle]\n   * @property {string} [lastValue]\n   * @property {boolean} [loaded]\n   * @property {string} [path]\n   * @property {string} [verb]\n   * @property {boolean} [polling]\n   * @property {HTMLButtonElement|HTMLInputElement|null} [lastButtonClicked]\n   * @property {number} [requestCount]\n   * @property {XMLHttpRequest} [xhr]\n   * @property {(() => void)[]} [queuedRequests]\n   * @property {boolean} [abortable]\n   *\n   * Event data\n   * @property {HtmxTriggerSpecification} [triggerSpec]\n   * @property {EventTarget[]} [handledFor]\n   */\n\n  /**\n   * getInternalData retrieves \"private\" data stored by htmx within an element\n   * @param {EventTarget|Event} elt\n   * @returns {HtmxNodeInternalData}\n   */\n  function getInternalData(elt) {\n    const dataProp = 'htmx-internal-data'\n    let data = elt[dataProp]\n    if (!data) {\n      data = elt[dataProp] = {}\n    }\n    return data\n  }\n\n  /**\n   * toArray converts an ArrayLike object into a real array.\n   * @template T\n   * @param {ArrayLike<T>} arr\n   * @returns {T[]}\n   */\n  function toArray(arr) {\n    const returnArr = []\n    if (arr) {\n      for (let i = 0; i < arr.length; i++) {\n        returnArr.push(arr[i])\n      }\n    }\n    return returnArr\n  }\n\n  /**\n   * @template T\n   * @param {T[]|NamedNodeMap|HTMLCollection|HTMLFormControlsCollection|ArrayLike<T>} arr\n   * @param {(T) => void} func\n   */\n  function forEach(arr, func) {\n    if (arr) {\n      for (let i = 0; i < arr.length; i++) {\n        func(arr[i])\n      }\n    }\n  }\n\n  /**\n   * @param {Element} el\n   * @returns {boolean}\n   */\n  function isScrolledIntoView(el) {\n    const rect = el.getBoundingClientRect()\n    const elemTop = rect.top\n    const elemBottom = rect.bottom\n    return elemTop < window.innerHeight && elemBottom >= 0\n  }\n\n  /**\n   * @param {Node} elt\n   * @returns {boolean}\n   */\n  function bodyContains(elt) {\n    // IE Fix\n    const rootNode = elt.getRootNode && elt.getRootNode()\n    if (rootNode && rootNode instanceof window.ShadowRoot) {\n      return getDocument().body.contains(rootNode.host)\n    } else {\n      return getDocument().body.contains(elt)\n    }\n  }\n\n  /**\n   * @param {string} trigger\n   * @returns {string[]}\n   */\n  function splitOnWhitespace(trigger) {\n    return trigger.trim().split(/\\s+/)\n  }\n\n  /**\n   * mergeObjects takes all the keys from\n   * obj2 and duplicates them into obj1\n   * @template T1\n   * @template T2\n   * @param {T1} obj1\n   * @param {T2} obj2\n   * @returns {T1 & T2}\n   */\n  function mergeObjects(obj1, obj2) {\n    for (const key in obj2) {\n      if (obj2.hasOwnProperty(key)) {\n        // @ts-ignore tsc doesn't seem to properly handle types merging\n        obj1[key] = obj2[key]\n      }\n    }\n    // @ts-ignore tsc doesn't seem to properly handle types merging\n    return obj1\n  }\n\n  /**\n   * @param {string} jString\n   * @returns {any|null}\n   */\n  function parseJSON(jString) {\n    try {\n      return JSON.parse(jString)\n    } catch (error) {\n      logError(error)\n      return null\n    }\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  function canAccessLocalStorage() {\n    const test = 'htmx:localStorageTest'\n    try {\n      localStorage.setItem(test, test)\n      localStorage.removeItem(test)\n      return true\n    } catch (e) {\n      return false\n    }\n  }\n\n  /**\n   * @param {string} path\n   * @returns {string}\n   */\n  function normalizePath(path) {\n    try {\n      const url = new URL(path)\n      if (url) {\n        path = url.pathname + url.search\n      }\n      // remove trailing slash, unless index page\n      if (!(/^\\/$/.test(path))) {\n        path = path.replace(/\\/+$/, '')\n      }\n      return path\n    } catch (e) {\n      // be kind to IE11, which doesn't support URL()\n      return path\n    }\n  }\n\n  //= =========================================================================================\n  // public API\n  //= =========================================================================================\n\n  /**\n   * @param {string} str\n   * @returns {any}\n   */\n  function internalEval(str) {\n    return maybeEval(getDocument().body, function() {\n      return eval(str)\n    })\n  }\n\n  /**\n   * Adds a callback for the **htmx:load** event. This can be used to process new content, for example initializing the content with a javascript library\n   *\n   * @see https://htmx.org/api/#onLoad\n   *\n   * @param {(elt: Node) => void} callback the callback to call on newly loaded content\n   * @returns {EventListener}\n   */\n  function onLoadHelper(callback) {\n    const value = htmx.on('htmx:load', /** @param {CustomEvent} evt */ function(evt) {\n      callback(evt.detail.elt)\n    })\n    return value\n  }\n\n  /**\n   * Log all htmx events, useful for debugging.\n   *\n   * @see https://htmx.org/api/#logAll\n   */\n  function logAll() {\n    htmx.logger = function(elt, event, data) {\n      if (console) {\n        console.log(event, elt, data)\n      }\n    }\n  }\n\n  function logNone() {\n    htmx.logger = null\n  }\n\n  /**\n   * Finds an element matching the selector\n   *\n   * @see https://htmx.org/api/#find\n   *\n   * @param {ParentNode|string} eltOrSelector  the root element to find the matching element in, inclusive | the selector to match\n   * @param {string} [selector] the selector to match\n   * @returns {Element|null}\n   */\n  function find(eltOrSelector, selector) {\n    if (typeof eltOrSelector !== 'string') {\n      return eltOrSelector.querySelector(selector)\n    } else {\n      return find(getDocument(), eltOrSelector)\n    }\n  }\n\n  /**\n   * Finds all elements matching the selector\n   *\n   * @see https://htmx.org/api/#findAll\n   *\n   * @param {ParentNode|string} eltOrSelector the root element to find the matching elements in, inclusive | the selector to match\n   * @param {string} [selector] the selector to match\n   * @returns {NodeListOf<Element>}\n   */\n  function findAll(eltOrSelector, selector) {\n    if (typeof eltOrSelector !== 'string') {\n      return eltOrSelector.querySelectorAll(selector)\n    } else {\n      return findAll(getDocument(), eltOrSelector)\n    }\n  }\n\n  /**\n   * @returns Window\n   */\n  function getWindow() {\n    return window\n  }\n\n  /**\n   * Removes an element from the DOM\n   *\n   * @see https://htmx.org/api/#remove\n   *\n   * @param {Node} elt\n   * @param {number} [delay]\n   */\n  function removeElement(elt, delay) {\n    elt = resolveTarget(elt)\n    if (delay) {\n      getWindow().setTimeout(function() {\n        removeElement(elt)\n        elt = null\n      }, delay)\n    } else {\n      parentElt(elt).removeChild(elt)\n    }\n  }\n\n  /**\n   * @param {any} elt\n   * @return {Element|null}\n   */\n  function asElement(elt) {\n    return elt instanceof Element ? elt : null\n  }\n\n  /**\n   * @param {any} elt\n   * @return {HTMLElement|null}\n   */\n  function asHtmlElement(elt) {\n    return elt instanceof HTMLElement ? elt : null\n  }\n\n  /**\n   * @param {any} value\n   * @return {string|null}\n   */\n  function asString(value) {\n    return typeof value === 'string' ? value : null\n  }\n\n  /**\n   * @param {EventTarget} elt\n   * @return {ParentNode|null}\n   */\n  function asParentNode(elt) {\n    return elt instanceof Element || elt instanceof Document || elt instanceof DocumentFragment ? elt : null\n  }\n\n  /**\n   * This method adds a class to the given element.\n   *\n   * @see https://htmx.org/api/#addClass\n   *\n   * @param {Element|string} elt the element to add the class to\n   * @param {string} clazz the class to add\n   * @param {number} [delay] the delay (in milliseconds) before class is added\n   */\n  function addClassToElement(elt, clazz, delay) {\n    elt = asElement(resolveTarget(elt))\n    if (!elt) {\n      return\n    }\n    if (delay) {\n      getWindow().setTimeout(function() {\n        addClassToElement(elt, clazz)\n        elt = null\n      }, delay)\n    } else {\n      elt.classList && elt.classList.add(clazz)\n    }\n  }\n\n  /**\n   * Removes a class from the given element\n   *\n   * @see https://htmx.org/api/#removeClass\n   *\n   * @param {Node|string} node element to remove the class from\n   * @param {string} clazz the class to remove\n   * @param {number} [delay] the delay (in milliseconds before class is removed)\n   */\n  function removeClassFromElement(node, clazz, delay) {\n    let elt = asElement(resolveTarget(node))\n    if (!elt) {\n      return\n    }\n    if (delay) {\n      getWindow().setTimeout(function() {\n        removeClassFromElement(elt, clazz)\n        elt = null\n      }, delay)\n    } else {\n      if (elt.classList) {\n        elt.classList.remove(clazz)\n        // if there are no classes left, remove the class attribute\n        if (elt.classList.length === 0) {\n          elt.removeAttribute('class')\n        }\n      }\n    }\n  }\n\n  /**\n   * Toggles the given class on an element\n   *\n   * @see https://htmx.org/api/#toggleClass\n   *\n   * @param {Element|string} elt the element to toggle the class on\n   * @param {string} clazz the class to toggle\n   */\n  function toggleClassOnElement(elt, clazz) {\n    elt = resolveTarget(elt)\n    elt.classList.toggle(clazz)\n  }\n\n  /**\n   * Takes the given class from its siblings, so that among its siblings, only the given element will have the class.\n   *\n   * @see https://htmx.org/api/#takeClass\n   *\n   * @param {Node|string} elt the element that will take the class\n   * @param {string} clazz the class to take\n   */\n  function takeClassForElement(elt, clazz) {\n    elt = resolveTarget(elt)\n    forEach(elt.parentElement.children, function(child) {\n      removeClassFromElement(child, clazz)\n    })\n    addClassToElement(asElement(elt), clazz)\n  }\n\n  /**\n   * Finds the closest matching element in the given elements parentage, inclusive of the element\n   *\n   * @see https://htmx.org/api/#closest\n   *\n   * @param {Element|string} elt the element to find the selector from\n   * @param {string} selector the selector to find\n   * @returns {Element|null}\n   */\n  function closest(elt, selector) {\n    elt = asElement(resolveTarget(elt))\n    if (elt && elt.closest) {\n      return elt.closest(selector)\n    } else {\n      // TODO remove when IE goes away\n      do {\n        if (elt == null || matches(elt, selector)) {\n          return elt\n        }\n      }\n      while (elt = elt && asElement(parentElt(elt)))\n      return null\n    }\n  }\n\n  /**\n   * @param {string} str\n   * @param {string} prefix\n   * @returns {boolean}\n   */\n  function startsWith(str, prefix) {\n    return str.substring(0, prefix.length) === prefix\n  }\n\n  /**\n   * @param {string} str\n   * @param {string} suffix\n   * @returns {boolean}\n   */\n  function endsWith(str, suffix) {\n    return str.substring(str.length - suffix.length) === suffix\n  }\n\n  /**\n   * @param {string} selector\n   * @returns {string}\n   */\n  function normalizeSelector(selector) {\n    const trimmedSelector = selector.trim()\n    if (startsWith(trimmedSelector, '<') && endsWith(trimmedSelector, '/>')) {\n      return trimmedSelector.substring(1, trimmedSelector.length - 2)\n    } else {\n      return trimmedSelector\n    }\n  }\n\n  /**\n   * @param {Node|Element|Document|string} elt\n   * @param {string} selector\n   * @param {boolean=} global\n   * @returns {(Node|Window)[]}\n   */\n  function querySelectorAllExt(elt, selector, global) {\n    elt = resolveTarget(elt)\n    if (selector.indexOf('closest ') === 0) {\n      return [closest(asElement(elt), normalizeSelector(selector.substr(8)))]\n    } else if (selector.indexOf('find ') === 0) {\n      return [find(asParentNode(elt), normalizeSelector(selector.substr(5)))]\n    } else if (selector === 'next') {\n      return [asElement(elt).nextElementSibling]\n    } else if (selector.indexOf('next ') === 0) {\n      return [scanForwardQuery(elt, normalizeSelector(selector.substr(5)), !!global)]\n    } else if (selector === 'previous') {\n      return [asElement(elt).previousElementSibling]\n    } else if (selector.indexOf('previous ') === 0) {\n      return [scanBackwardsQuery(elt, normalizeSelector(selector.substr(9)), !!global)]\n    } else if (selector === 'document') {\n      return [document]\n    } else if (selector === 'window') {\n      return [window]\n    } else if (selector === 'body') {\n      return [document.body]\n    } else if (selector === 'root') {\n      return [getRootNode(elt, !!global)]\n    } else if (selector.indexOf('global ') === 0) {\n      return querySelectorAllExt(elt, selector.slice(7), true)\n    } else {\n      return toArray(asParentNode(getRootNode(elt, !!global)).querySelectorAll(normalizeSelector(selector)))\n    }\n  }\n\n  /**\n   * @param {Node} start\n   * @param {string} match\n   * @param {boolean} global\n   * @returns {Element}\n   */\n  var scanForwardQuery = function(start, match, global) {\n    const results = asParentNode(getRootNode(start, global)).querySelectorAll(match)\n    for (let i = 0; i < results.length; i++) {\n      const elt = results[i]\n      if (elt.compareDocumentPosition(start) === Node.DOCUMENT_POSITION_PRECEDING) {\n        return elt\n      }\n    }\n  }\n\n  /**\n   * @param {Node} start\n   * @param {string} match\n   * @param {boolean} global\n   * @returns {Element}\n   */\n  var scanBackwardsQuery = function(start, match, global) {\n    const results = asParentNode(getRootNode(start, global)).querySelectorAll(match)\n    for (let i = results.length - 1; i >= 0; i--) {\n      const elt = results[i]\n      if (elt.compareDocumentPosition(start) === Node.DOCUMENT_POSITION_FOLLOWING) {\n        return elt\n      }\n    }\n  }\n\n  /**\n   * @param {Node|string} eltOrSelector\n   * @param {string=} selector\n   * @returns {Node|Window}\n   */\n  function querySelectorExt(eltOrSelector, selector) {\n    if (typeof eltOrSelector !== 'string') {\n      return querySelectorAllExt(eltOrSelector, selector)[0]\n    } else {\n      return querySelectorAllExt(getDocument().body, eltOrSelector)[0]\n    }\n  }\n\n  /**\n   * @template {EventTarget} T\n   * @param {T|string} eltOrSelector\n   * @param {T} [context]\n   * @returns {Element|T|null}\n   */\n  function resolveTarget(eltOrSelector, context) {\n    if (typeof eltOrSelector === 'string') {\n      return find(asParentNode(context) || document, eltOrSelector)\n    } else {\n      return eltOrSelector\n    }\n  }\n\n  /**\n   * @typedef {keyof HTMLElementEventMap|string} AnyEventName\n   */\n\n  /**\n   * @typedef {Object} EventArgs\n   * @property {EventTarget} target\n   * @property {AnyEventName} event\n   * @property {EventListener} listener\n   */\n\n  /**\n   * @param {EventTarget|AnyEventName} arg1\n   * @param {AnyEventName|EventListener} arg2\n   * @param {EventListener} [arg3]\n   * @returns {EventArgs}\n   */\n  function processEventArgs(arg1, arg2, arg3) {\n    if (isFunction(arg2)) {\n      return {\n        target: getDocument().body,\n        event: asString(arg1),\n        listener: arg2\n      }\n    } else {\n      return {\n        target: resolveTarget(arg1),\n        event: asString(arg2),\n        listener: arg3\n      }\n    }\n  }\n\n  /**\n   * Adds an event listener to an element\n   *\n   * @see https://htmx.org/api/#on\n   *\n   * @param {EventTarget|string} arg1 the element to add the listener to | the event name to add the listener for\n   * @param {string|EventListener} arg2 the event name to add the listener for | the listener to add\n   * @param {EventListener} [arg3] the listener to add\n   * @returns {EventListener}\n   */\n  function addEventListenerImpl(arg1, arg2, arg3) {\n    ready(function() {\n      const eventArgs = processEventArgs(arg1, arg2, arg3)\n      eventArgs.target.addEventListener(eventArgs.event, eventArgs.listener)\n    })\n    const b = isFunction(arg2)\n    return b ? arg2 : arg3\n  }\n\n  /**\n   * Removes an event listener from an element\n   *\n   * @see https://htmx.org/api/#off\n   *\n   * @param {EventTarget|string} arg1 the element to remove the listener from | the event name to remove the listener from\n   * @param {string|EventListener} arg2 the event name to remove the listener from | the listener to remove\n   * @param {EventListener} [arg3] the listener to remove\n   * @returns {EventListener}\n   */\n  function removeEventListenerImpl(arg1, arg2, arg3) {\n    ready(function() {\n      const eventArgs = processEventArgs(arg1, arg2, arg3)\n      eventArgs.target.removeEventListener(eventArgs.event, eventArgs.listener)\n    })\n    return isFunction(arg2) ? arg2 : arg3\n  }\n\n  //= ===================================================================\n  // Node processing\n  //= ===================================================================\n\n  const DUMMY_ELT = getDocument().createElement('output') // dummy element for bad selectors\n  /**\n   * @param {Element} elt\n   * @param {string} attrName\n   * @returns {(Node|Window)[]}\n   */\n  function findAttributeTargets(elt, attrName) {\n    const attrTarget = getClosestAttributeValue(elt, attrName)\n    if (attrTarget) {\n      if (attrTarget === 'this') {\n        return [findThisElement(elt, attrName)]\n      } else {\n        const result = querySelectorAllExt(elt, attrTarget)\n        if (result.length === 0) {\n          logError('The selector \"' + attrTarget + '\" on ' + attrName + ' returned no matches!')\n          return [DUMMY_ELT]\n        } else {\n          return result\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {string} attribute\n   * @returns {Element|null}\n   */\n  function findThisElement(elt, attribute) {\n    return asElement(getClosestMatch(elt, function(elt) {\n      return getAttributeValue(asElement(elt), attribute) != null\n    }))\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {Node|Window|null}\n   */\n  function getTarget(elt) {\n    const targetStr = getClosestAttributeValue(elt, 'hx-target')\n    if (targetStr) {\n      if (targetStr === 'this') {\n        return findThisElement(elt, 'hx-target')\n      } else {\n        return querySelectorExt(elt, targetStr)\n      }\n    } else {\n      const data = getInternalData(elt)\n      if (data.boosted) {\n        return getDocument().body\n      } else {\n        return elt\n      }\n    }\n  }\n\n  /**\n   * @param {string} name\n   * @returns {boolean}\n   */\n  function shouldSettleAttribute(name) {\n    const attributesToSettle = htmx.config.attributesToSettle\n    for (let i = 0; i < attributesToSettle.length; i++) {\n      if (name === attributesToSettle[i]) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * @param {Element} mergeTo\n   * @param {Element} mergeFrom\n   */\n  function cloneAttributes(mergeTo, mergeFrom) {\n    forEach(mergeTo.attributes, function(attr) {\n      if (!mergeFrom.hasAttribute(attr.name) && shouldSettleAttribute(attr.name)) {\n        mergeTo.removeAttribute(attr.name)\n      }\n    })\n    forEach(mergeFrom.attributes, function(attr) {\n      if (shouldSettleAttribute(attr.name)) {\n        mergeTo.setAttribute(attr.name, attr.value)\n      }\n    })\n  }\n\n  /**\n   * @param {HtmxSwapStyle} swapStyle\n   * @param {Element} target\n   * @returns {boolean}\n   */\n  function isInlineSwap(swapStyle, target) {\n    const extensions = getExtensions(target)\n    for (let i = 0; i < extensions.length; i++) {\n      const extension = extensions[i]\n      try {\n        if (extension.isInlineSwap(swapStyle)) {\n          return true\n        }\n      } catch (e) {\n        logError(e)\n      }\n    }\n    return swapStyle === 'outerHTML'\n  }\n\n  /**\n   * @param {string} oobValue\n   * @param {Element} oobElement\n   * @param {HtmxSettleInfo} settleInfo\n   * @returns\n   */\n  function oobSwap(oobValue, oobElement, settleInfo) {\n    let selector = '#' + getRawAttribute(oobElement, 'id')\n    /** @type HtmxSwapStyle */\n    let swapStyle = 'outerHTML'\n    if (oobValue === 'true') {\n      // do nothing\n    } else if (oobValue.indexOf(':') > 0) {\n      swapStyle = oobValue.substr(0, oobValue.indexOf(':'))\n      selector = oobValue.substr(oobValue.indexOf(':') + 1, oobValue.length)\n    } else {\n      swapStyle = oobValue\n    }\n\n    const targets = getDocument().querySelectorAll(selector)\n    if (targets) {\n      forEach(\n        targets,\n        function(target) {\n          let fragment\n          const oobElementClone = oobElement.cloneNode(true)\n          fragment = getDocument().createDocumentFragment()\n          fragment.appendChild(oobElementClone)\n          if (!isInlineSwap(swapStyle, target)) {\n            fragment = asParentNode(oobElementClone) // if this is not an inline swap, we use the content of the node, not the node itself\n          }\n\n          const beforeSwapDetails = { shouldSwap: true, target, fragment }\n          if (!triggerEvent(target, 'htmx:oobBeforeSwap', beforeSwapDetails)) return\n\n          target = beforeSwapDetails.target // allow re-targeting\n          if (beforeSwapDetails.shouldSwap) {\n            swapWithStyle(swapStyle, target, target, fragment, settleInfo)\n          }\n          forEach(settleInfo.elts, function(elt) {\n            triggerEvent(elt, 'htmx:oobAfterSwap', beforeSwapDetails)\n          })\n        }\n      )\n      oobElement.parentNode.removeChild(oobElement)\n    } else {\n      oobElement.parentNode.removeChild(oobElement)\n      triggerErrorEvent(getDocument().body, 'htmx:oobErrorNoTarget', { content: oobElement })\n    }\n    return oobValue\n  }\n\n  /**\n   * @param {DocumentFragment} fragment\n   */\n  function handlePreservedElements(fragment) {\n    forEach(findAll(fragment, '[hx-preserve], [data-hx-preserve]'), function(preservedElt) {\n      const id = getAttributeValue(preservedElt, 'id')\n      const oldElt = getDocument().getElementById(id)\n      if (oldElt != null) {\n        preservedElt.parentNode.replaceChild(oldElt, preservedElt)\n      }\n    })\n  }\n\n  /**\n   * @param {Node} parentNode\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function handleAttributes(parentNode, fragment, settleInfo) {\n    forEach(fragment.querySelectorAll('[id]'), function(newNode) {\n      const id = getRawAttribute(newNode, 'id')\n      if (id && id.length > 0) {\n        const normalizedId = id.replace(\"'\", \"\\\\'\")\n        const normalizedTag = newNode.tagName.replace(':', '\\\\:')\n        const parentElt = asParentNode(parentNode)\n        const oldNode = parentElt && parentElt.querySelector(normalizedTag + \"[id='\" + normalizedId + \"']\")\n        if (oldNode && oldNode !== parentElt) {\n          const newAttributes = newNode.cloneNode()\n          cloneAttributes(newNode, oldNode)\n          settleInfo.tasks.push(function() {\n            cloneAttributes(newNode, newAttributes)\n          })\n        }\n      }\n    })\n  }\n\n  /**\n   * @param {Node} child\n   * @returns {HtmxSettleTask}\n   */\n  function makeAjaxLoadTask(child) {\n    return function() {\n      removeClassFromElement(child, htmx.config.addedClass)\n      processNode(asElement(child))\n      processFocus(asParentNode(child))\n      triggerEvent(child, 'htmx:load')\n    }\n  }\n\n  /**\n   * @param {ParentNode} child\n   */\n  function processFocus(child) {\n    const autofocus = '[autofocus]'\n    const autoFocusedElt = asHtmlElement(matches(child, autofocus) ? child : child.querySelector(autofocus))\n    if (autoFocusedElt != null) {\n      autoFocusedElt.focus()\n    }\n  }\n\n  /**\n   * @param {Node} parentNode\n   * @param {Node} insertBefore\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function insertNodesBefore(parentNode, insertBefore, fragment, settleInfo) {\n    handleAttributes(parentNode, fragment, settleInfo)\n    while (fragment.childNodes.length > 0) {\n      const child = fragment.firstChild\n      addClassToElement(asElement(child), htmx.config.addedClass)\n      parentNode.insertBefore(child, insertBefore)\n      if (child.nodeType !== Node.TEXT_NODE && child.nodeType !== Node.COMMENT_NODE) {\n        settleInfo.tasks.push(makeAjaxLoadTask(child))\n      }\n    }\n  }\n\n  /**\n   * based on https://gist.github.com/hyamamoto/fd435505d29ebfa3d9716fd2be8d42f0,\n   * derived from Java's string hashcode implementation\n   * @param {string} string\n   * @param {number} hash\n   * @returns {number}\n   */\n  function stringHash(string, hash) {\n    let char = 0\n    while (char < string.length) {\n      hash = (hash << 5) - hash + string.charCodeAt(char++) | 0 // bitwise or ensures we have a 32-bit int\n    }\n    return hash\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {number}\n   */\n  function attributeHash(elt) {\n    let hash = 0\n    // IE fix\n    if (elt.attributes) {\n      for (let i = 0; i < elt.attributes.length; i++) {\n        const attribute = elt.attributes[i]\n        if (attribute.value) { // only include attributes w/ actual values (empty is same as non-existent)\n          hash = stringHash(attribute.name, hash)\n          hash = stringHash(attribute.value, hash)\n        }\n      }\n    }\n    return hash\n  }\n\n  /**\n   * @param {EventTarget} elt\n   */\n  function deInitOnHandlers(elt) {\n    const internalData = getInternalData(elt)\n    if (internalData.onHandlers) {\n      for (let i = 0; i < internalData.onHandlers.length; i++) {\n        const handlerInfo = internalData.onHandlers[i]\n        removeEventListenerImpl(elt, handlerInfo.event, handlerInfo.listener)\n      }\n      delete internalData.onHandlers\n    }\n  }\n\n  /**\n   * @param {Node} element\n   */\n  function deInitNode(element) {\n    const internalData = getInternalData(element)\n    if (internalData.timeout) {\n      clearTimeout(internalData.timeout)\n    }\n    if (internalData.listenerInfos) {\n      forEach(internalData.listenerInfos, function(info) {\n        if (info.on) {\n          removeEventListenerImpl(info.on, info.trigger, info.listener)\n        }\n      })\n    }\n    deInitOnHandlers(element)\n    forEach(Object.keys(internalData), function(key) { delete internalData[key] })\n  }\n\n  /**\n   * @param {Node} element\n   */\n  function cleanUpElement(element) {\n    triggerEvent(element, 'htmx:beforeCleanupElement')\n    deInitNode(element)\n    // @ts-ignore IE11 code\n    // noinspection JSUnresolvedReference\n    if (element.children) { // IE\n      // @ts-ignore\n      forEach(element.children, function(child) { cleanUpElement(child) })\n    }\n  }\n\n  /**\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapOuterHTML(target, fragment, settleInfo) {\n    if (target instanceof Element && target.tagName === 'BODY') { // special case the body to innerHTML because DocumentFragments can't contain a body elt unfortunately\n      return swapInnerHTML(target, fragment, settleInfo)\n    }\n    /** @type {Node} */\n    let newElt\n    const eltBeforeNewContent = target.previousSibling\n    insertNodesBefore(parentElt(target), target, fragment, settleInfo)\n    if (eltBeforeNewContent == null) {\n      newElt = parentElt(target).firstChild\n    } else {\n      newElt = eltBeforeNewContent.nextSibling\n    }\n    settleInfo.elts = settleInfo.elts.filter(function(e) { return e !== target })\n    while (newElt && newElt !== target) {\n      if (newElt instanceof Element) {\n        settleInfo.elts.push(newElt)\n        newElt = newElt.nextElementSibling\n      } else {\n        newElt = null\n      }\n    }\n    cleanUpElement(target)\n    if (target instanceof Element) {\n      target.remove()\n    } else {\n      target.parentNode.removeChild(target)\n    }\n  }\n\n  /**\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapAfterBegin(target, fragment, settleInfo) {\n    return insertNodesBefore(target, target.firstChild, fragment, settleInfo)\n  }\n\n  /**\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapBeforeBegin(target, fragment, settleInfo) {\n    return insertNodesBefore(parentElt(target), target, fragment, settleInfo)\n  }\n\n  /**\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapBeforeEnd(target, fragment, settleInfo) {\n    return insertNodesBefore(target, null, fragment, settleInfo)\n  }\n\n  /**\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapAfterEnd(target, fragment, settleInfo) {\n    return insertNodesBefore(parentElt(target), target.nextSibling, fragment, settleInfo)\n  }\n\n  /**\n   * @param {Node} target\n   */\n  function swapDelete(target) {\n    cleanUpElement(target)\n    return parentElt(target).removeChild(target)\n  }\n\n  /**\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapInnerHTML(target, fragment, settleInfo) {\n    const firstChild = target.firstChild\n    insertNodesBefore(target, firstChild, fragment, settleInfo)\n    if (firstChild) {\n      while (firstChild.nextSibling) {\n        cleanUpElement(firstChild.nextSibling)\n        target.removeChild(firstChild.nextSibling)\n      }\n      cleanUpElement(firstChild)\n      target.removeChild(firstChild)\n    }\n  }\n\n  /**\n   * @param {HtmxSwapStyle} swapStyle\n   * @param {Element} elt\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapWithStyle(swapStyle, elt, target, fragment, settleInfo) {\n    switch (swapStyle) {\n      case 'none':\n        return\n      case 'outerHTML':\n        swapOuterHTML(target, fragment, settleInfo)\n        return\n      case 'afterbegin':\n        swapAfterBegin(target, fragment, settleInfo)\n        return\n      case 'beforebegin':\n        swapBeforeBegin(target, fragment, settleInfo)\n        return\n      case 'beforeend':\n        swapBeforeEnd(target, fragment, settleInfo)\n        return\n      case 'afterend':\n        swapAfterEnd(target, fragment, settleInfo)\n        return\n      case 'delete':\n        swapDelete(target)\n        return\n      default:\n        var extensions = getExtensions(elt)\n        for (let i = 0; i < extensions.length; i++) {\n          const ext = extensions[i]\n          try {\n            const newElements = ext.handleSwap(swapStyle, target, fragment, settleInfo)\n            if (newElements) {\n              if (typeof newElements.length !== 'undefined') {\n                // if handleSwap returns an array (like) of elements, we handle them\n                for (let j = 0; j < newElements.length; j++) {\n                  const child = newElements[j]\n                  if (child.nodeType !== Node.TEXT_NODE && child.nodeType !== Node.COMMENT_NODE) {\n                    settleInfo.tasks.push(makeAjaxLoadTask(child))\n                  }\n                }\n              }\n              return\n            }\n          } catch (e) {\n            logError(e)\n          }\n        }\n        if (swapStyle === 'innerHTML') {\n          swapInnerHTML(target, fragment, settleInfo)\n        } else {\n          swapWithStyle(htmx.config.defaultSwapStyle, elt, target, fragment, settleInfo)\n        }\n    }\n  }\n\n  /**\n   * @param {DocumentFragment} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function findAndSwapOobElements(fragment, settleInfo) {\n    forEach(findAll(fragment, '[hx-swap-oob], [data-hx-swap-oob]'), function(oobElement) {\n      if (htmx.config.allowNestedOobSwaps || oobElement.parentElement === null) {\n        const oobValue = getAttributeValue(oobElement, 'hx-swap-oob')\n        if (oobValue != null) {\n          oobSwap(oobValue, oobElement, settleInfo)\n        }\n      } else {\n        oobElement.removeAttribute('hx-swap-oob')\n        oobElement.removeAttribute('data-hx-swap-oob')\n      }\n    })\n  }\n\n  /**\n   * Implements complete swapping pipeline, including: focus and selection preservation,\n   * title updates, scroll, OOB swapping, normal swapping and settling\n   * @param {string|Element} target\n   * @param {string} content\n   * @param {HtmxSwapSpecification} swapSpec\n   * @param {SwapOptions} [swapOptions]\n   */\n  function swap(target, content, swapSpec, swapOptions) {\n    if (!swapOptions) {\n      swapOptions = {}\n    }\n\n    target = resolveTarget(target)\n\n    // preserve focus and selection\n    const activeElt = document.activeElement\n    let selectionInfo = {}\n    try {\n      selectionInfo = {\n        elt: activeElt,\n        // @ts-ignore\n        start: activeElt ? activeElt.selectionStart : null,\n        // @ts-ignore\n        end: activeElt ? activeElt.selectionEnd : null\n      }\n    } catch (e) {\n      // safari issue - see https://github.com/microsoft/playwright/issues/5894\n    }\n    const settleInfo = makeSettleInfo(target)\n\n    // For text content swaps, don't parse the response as HTML, just insert it\n    if (swapSpec.swapStyle === 'textContent') {\n      target.textContent = content\n    // Otherwise, make the fragment and process it\n    } else {\n      let fragment = makeFragment(content)\n\n      settleInfo.title = fragment.title\n\n      // select-oob swaps\n      if (swapOptions.selectOOB) {\n        const oobSelectValues = swapOptions.selectOOB.split(',')\n        for (let i = 0; i < oobSelectValues.length; i++) {\n          const oobSelectValue = oobSelectValues[i].split(':', 2)\n          let id = oobSelectValue[0].trim()\n          if (id.indexOf('#') === 0) {\n            id = id.substring(1)\n          }\n          const oobValue = oobSelectValue[1] || 'true'\n          const oobElement = fragment.querySelector('#' + id)\n          if (oobElement) {\n            oobSwap(oobValue, oobElement, settleInfo)\n          }\n        }\n      }\n      // oob swaps\n      findAndSwapOobElements(fragment, settleInfo)\n      forEach(findAll(fragment, 'template'), /** @param {HTMLTemplateElement} template */function(template) {\n        findAndSwapOobElements(template.content, settleInfo)\n        if (template.content.childElementCount === 0 && template.content.textContent.trim() === '') {\n        // Avoid polluting the DOM with empty templates that were only used to encapsulate oob swap\n          template.remove()\n        }\n      })\n\n      // normal swap\n      if (swapOptions.select) {\n        const newFragment = getDocument().createDocumentFragment()\n        forEach(fragment.querySelectorAll(swapOptions.select), function(node) {\n          newFragment.appendChild(node)\n        })\n        fragment = newFragment\n      }\n      handlePreservedElements(fragment)\n      swapWithStyle(swapSpec.swapStyle, swapOptions.contextElement, target, fragment, settleInfo)\n    }\n\n    // apply saved focus and selection information to swapped content\n    if (selectionInfo.elt &&\n      !bodyContains(selectionInfo.elt) &&\n      getRawAttribute(selectionInfo.elt, 'id')) {\n      const newActiveElt = document.getElementById(getRawAttribute(selectionInfo.elt, 'id'))\n      const focusOptions = { preventScroll: swapSpec.focusScroll !== undefined ? !swapSpec.focusScroll : !htmx.config.defaultFocusScroll }\n      if (newActiveElt) {\n        // @ts-ignore\n        if (selectionInfo.start && newActiveElt.setSelectionRange) {\n          try {\n            // @ts-ignore\n            newActiveElt.setSelectionRange(selectionInfo.start, selectionInfo.end)\n          } catch (e) {\n            // the setSelectionRange method is present on fields that don't support it, so just let this fail\n          }\n        }\n        newActiveElt.focus(focusOptions)\n      }\n    }\n\n    target.classList.remove(htmx.config.swappingClass)\n    forEach(settleInfo.elts, function(elt) {\n      if (elt.classList) {\n        elt.classList.add(htmx.config.settlingClass)\n      }\n      triggerEvent(elt, 'htmx:afterSwap', swapOptions.eventInfo)\n    })\n    if (swapOptions.afterSwapCallback) {\n      swapOptions.afterSwapCallback()\n    }\n\n    // merge in new title after swap but before settle\n    if (!swapSpec.ignoreTitle) {\n      handleTitle(settleInfo.title)\n    }\n\n    // settle\n    const doSettle = function() {\n      forEach(settleInfo.tasks, function(task) {\n        task.call()\n      })\n      forEach(settleInfo.elts, function(elt) {\n        if (elt.classList) {\n          elt.classList.remove(htmx.config.settlingClass)\n        }\n        triggerEvent(elt, 'htmx:afterSettle', swapOptions.eventInfo)\n      })\n\n      if (swapOptions.anchor) {\n        const anchorTarget = asElement(resolveTarget('#' + swapOptions.anchor))\n        if (anchorTarget) {\n          anchorTarget.scrollIntoView({ block: 'start', behavior: 'auto' })\n        }\n      }\n\n      updateScrollState(settleInfo.elts, swapSpec)\n      if (swapOptions.afterSettleCallback) {\n        swapOptions.afterSettleCallback()\n      }\n    }\n\n    if (swapSpec.settleDelay > 0) {\n      getWindow().setTimeout(doSettle, swapSpec.settleDelay)\n    } else {\n      doSettle()\n    }\n  }\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @param {string} header\n   * @param {EventTarget} elt\n   */\n  function handleTriggerHeader(xhr, header, elt) {\n    const triggerBody = xhr.getResponseHeader(header)\n    if (triggerBody.indexOf('{') === 0) {\n      const triggers = parseJSON(triggerBody)\n      for (const eventName in triggers) {\n        if (triggers.hasOwnProperty(eventName)) {\n          let detail = triggers[eventName]\n          if (!isRawObject(detail)) {\n            detail = { value: detail }\n          }\n          triggerEvent(elt, eventName, detail)\n        }\n      }\n    } else {\n      const eventNames = triggerBody.split(',')\n      for (let i = 0; i < eventNames.length; i++) {\n        triggerEvent(elt, eventNames[i].trim(), [])\n      }\n    }\n  }\n\n  const WHITESPACE = /\\s/\n  const WHITESPACE_OR_COMMA = /[\\s,]/\n  const SYMBOL_START = /[_$a-zA-Z]/\n  const SYMBOL_CONT = /[_$a-zA-Z0-9]/\n  const STRINGISH_START = ['\"', \"'\", '/']\n  const NOT_WHITESPACE = /[^\\s]/\n  const COMBINED_SELECTOR_START = /[{(]/\n  const COMBINED_SELECTOR_END = /[})]/\n\n  /**\n   * @param {string} str\n   * @returns {string[]}\n   */\n  function tokenizeString(str) {\n    /** @type string[] */\n    const tokens = []\n    let position = 0\n    while (position < str.length) {\n      if (SYMBOL_START.exec(str.charAt(position))) {\n        var startPosition = position\n        while (SYMBOL_CONT.exec(str.charAt(position + 1))) {\n          position++\n        }\n        tokens.push(str.substr(startPosition, position - startPosition + 1))\n      } else if (STRINGISH_START.indexOf(str.charAt(position)) !== -1) {\n        const startChar = str.charAt(position)\n        var startPosition = position\n        position++\n        while (position < str.length && str.charAt(position) !== startChar) {\n          if (str.charAt(position) === '\\\\') {\n            position++\n          }\n          position++\n        }\n        tokens.push(str.substr(startPosition, position - startPosition + 1))\n      } else {\n        const symbol = str.charAt(position)\n        tokens.push(symbol)\n      }\n      position++\n    }\n    return tokens\n  }\n\n  /**\n   * @param {string} token\n   * @param {string|null} last\n   * @param {string} paramName\n   * @returns {boolean}\n   */\n  function isPossibleRelativeReference(token, last, paramName) {\n    return SYMBOL_START.exec(token.charAt(0)) &&\n      token !== 'true' &&\n      token !== 'false' &&\n      token !== 'this' &&\n      token !== paramName &&\n      last !== '.'\n  }\n\n  /**\n   * @param {EventTarget|string} elt\n   * @param {string[]} tokens\n   * @param {string} paramName\n   * @returns {ConditionalFunction|null}\n   */\n  function maybeGenerateConditional(elt, tokens, paramName) {\n    if (tokens[0] === '[') {\n      tokens.shift()\n      let bracketCount = 1\n      let conditionalSource = ' return (function(' + paramName + '){ return ('\n      let last = null\n      while (tokens.length > 0) {\n        const token = tokens[0]\n        // @ts-ignore For some reason tsc doesn't understand the shift call, and thinks we're comparing the same value here, i.e. '[' vs ']'\n        if (token === ']') {\n          bracketCount--\n          if (bracketCount === 0) {\n            if (last === null) {\n              conditionalSource = conditionalSource + 'true'\n            }\n            tokens.shift()\n            conditionalSource += ')})'\n            try {\n              const conditionFunction = maybeEval(elt, function() {\n                return Function(conditionalSource)()\n              },\n              function() { return true })\n              conditionFunction.source = conditionalSource\n              return conditionFunction\n            } catch (e) {\n              triggerErrorEvent(getDocument().body, 'htmx:syntax:error', { error: e, source: conditionalSource })\n              return null\n            }\n          }\n        } else if (token === '[') {\n          bracketCount++\n        }\n        if (isPossibleRelativeReference(token, last, paramName)) {\n          conditionalSource += '((' + paramName + '.' + token + ') ? (' + paramName + '.' + token + ') : (window.' + token + '))'\n        } else {\n          conditionalSource = conditionalSource + token\n        }\n        last = tokens.shift()\n      }\n    }\n  }\n\n  /**\n   * @param {string[]} tokens\n   * @param {RegExp} match\n   * @returns {string}\n   */\n  function consumeUntil(tokens, match) {\n    let result = ''\n    while (tokens.length > 0 && !match.test(tokens[0])) {\n      result += tokens.shift()\n    }\n    return result\n  }\n\n  /**\n   * @param {string[]} tokens\n   * @returns {string}\n   */\n  function consumeCSSSelector(tokens) {\n    let result\n    if (tokens.length > 0 && COMBINED_SELECTOR_START.test(tokens[0])) {\n      tokens.shift()\n      result = consumeUntil(tokens, COMBINED_SELECTOR_END).trim()\n      tokens.shift()\n    } else {\n      result = consumeUntil(tokens, WHITESPACE_OR_COMMA)\n    }\n    return result\n  }\n\n  const INPUT_SELECTOR = 'input, textarea, select'\n\n  /**\n   * @param {Element} elt\n   * @param {string} explicitTrigger\n   * @param {Object} cache for trigger specs\n   * @returns {HtmxTriggerSpecification[]}\n   */\n  function parseAndCacheTrigger(elt, explicitTrigger, cache) {\n    /** @type HtmxTriggerSpecification[] */\n    const triggerSpecs = []\n    const tokens = tokenizeString(explicitTrigger)\n    do {\n      consumeUntil(tokens, NOT_WHITESPACE)\n      const initialLength = tokens.length\n      const trigger = consumeUntil(tokens, /[,\\[\\s]/)\n      if (trigger !== '') {\n        if (trigger === 'every') {\n          /** @type HtmxTriggerSpecification */\n          const every = { trigger: 'every' }\n          consumeUntil(tokens, NOT_WHITESPACE)\n          every.pollInterval = parseInterval(consumeUntil(tokens, /[,\\[\\s]/))\n          consumeUntil(tokens, NOT_WHITESPACE)\n          var eventFilter = maybeGenerateConditional(elt, tokens, 'event')\n          if (eventFilter) {\n            every.eventFilter = eventFilter\n          }\n          triggerSpecs.push(every)\n        } else {\n          /** @type HtmxTriggerSpecification */\n          const triggerSpec = { trigger }\n          var eventFilter = maybeGenerateConditional(elt, tokens, 'event')\n          if (eventFilter) {\n            triggerSpec.eventFilter = eventFilter\n          }\n          while (tokens.length > 0 && tokens[0] !== ',') {\n            consumeUntil(tokens, NOT_WHITESPACE)\n            const token = tokens.shift()\n            if (token === 'changed') {\n              triggerSpec.changed = true\n            } else if (token === 'once') {\n              triggerSpec.once = true\n            } else if (token === 'consume') {\n              triggerSpec.consume = true\n            } else if (token === 'delay' && tokens[0] === ':') {\n              tokens.shift()\n              triggerSpec.delay = parseInterval(consumeUntil(tokens, WHITESPACE_OR_COMMA))\n            } else if (token === 'from' && tokens[0] === ':') {\n              tokens.shift()\n              if (COMBINED_SELECTOR_START.test(tokens[0])) {\n                var from_arg = consumeCSSSelector(tokens)\n              } else {\n                var from_arg = consumeUntil(tokens, WHITESPACE_OR_COMMA)\n                if (from_arg === 'closest' || from_arg === 'find' || from_arg === 'next' || from_arg === 'previous') {\n                  tokens.shift()\n                  const selector = consumeCSSSelector(tokens)\n                  // `next` and `previous` allow a selector-less syntax\n                  if (selector.length > 0) {\n                    from_arg += ' ' + selector\n                  }\n                }\n              }\n              triggerSpec.from = from_arg\n            } else if (token === 'target' && tokens[0] === ':') {\n              tokens.shift()\n              triggerSpec.target = consumeCSSSelector(tokens)\n            } else if (token === 'throttle' && tokens[0] === ':') {\n              tokens.shift()\n              triggerSpec.throttle = parseInterval(consumeUntil(tokens, WHITESPACE_OR_COMMA))\n            } else if (token === 'queue' && tokens[0] === ':') {\n              tokens.shift()\n              triggerSpec.queue = consumeUntil(tokens, WHITESPACE_OR_COMMA)\n            } else if (token === 'root' && tokens[0] === ':') {\n              tokens.shift()\n              triggerSpec[token] = consumeCSSSelector(tokens)\n            } else if (token === 'threshold' && tokens[0] === ':') {\n              tokens.shift()\n              triggerSpec[token] = consumeUntil(tokens, WHITESPACE_OR_COMMA)\n            } else {\n              triggerErrorEvent(elt, 'htmx:syntax:error', { token: tokens.shift() })\n            }\n          }\n          triggerSpecs.push(triggerSpec)\n        }\n      }\n      if (tokens.length === initialLength) {\n        triggerErrorEvent(elt, 'htmx:syntax:error', { token: tokens.shift() })\n      }\n      consumeUntil(tokens, NOT_WHITESPACE)\n    } while (tokens[0] === ',' && tokens.shift())\n    if (cache) {\n      cache[explicitTrigger] = triggerSpecs\n    }\n    return triggerSpecs\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {HtmxTriggerSpecification[]}\n   */\n  function getTriggerSpecs(elt) {\n    const explicitTrigger = getAttributeValue(elt, 'hx-trigger')\n    let triggerSpecs = []\n    if (explicitTrigger) {\n      const cache = htmx.config.triggerSpecsCache\n      triggerSpecs = (cache && cache[explicitTrigger]) || parseAndCacheTrigger(elt, explicitTrigger, cache)\n    }\n\n    if (triggerSpecs.length > 0) {\n      return triggerSpecs\n    } else if (matches(elt, 'form')) {\n      return [{ trigger: 'submit' }]\n    } else if (matches(elt, 'input[type=\"button\"], input[type=\"submit\"]')) {\n      return [{ trigger: 'click' }]\n    } else if (matches(elt, INPUT_SELECTOR)) {\n      return [{ trigger: 'change' }]\n    } else {\n      return [{ trigger: 'click' }]\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   */\n  function cancelPolling(elt) {\n    getInternalData(elt).cancelled = true\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {TriggerHandler} handler\n   * @param {HtmxTriggerSpecification} spec\n   */\n  function processPolling(elt, handler, spec) {\n    const nodeData = getInternalData(elt)\n    nodeData.timeout = getWindow().setTimeout(function() {\n      if (bodyContains(elt) && nodeData.cancelled !== true) {\n        if (!maybeFilterEvent(spec, elt, makeEvent('hx:poll:trigger', {\n          triggerSpec: spec,\n          target: elt\n        }))) {\n          handler(elt)\n        }\n        processPolling(elt, handler, spec)\n      }\n    }, spec.pollInterval)\n  }\n\n  /**\n   * @param {HTMLAnchorElement} elt\n   * @returns {boolean}\n   */\n  function isLocalLink(elt) {\n    return location.hostname === elt.hostname &&\n      getRawAttribute(elt, 'href') &&\n      getRawAttribute(elt, 'href').indexOf('#') !== 0\n  }\n\n  /**\n   * @param {Element} elt\n   */\n  function eltIsDisabled(elt) {\n    return closest(elt, htmx.config.disableSelector)\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {HtmxNodeInternalData} nodeData\n   * @param {HtmxTriggerSpecification[]} triggerSpecs\n   */\n  function boostElement(elt, nodeData, triggerSpecs) {\n    if ((elt instanceof HTMLAnchorElement && isLocalLink(elt) && (elt.target === '' || elt.target === '_self')) || elt.tagName === 'FORM') {\n      nodeData.boosted = true\n      let verb, path\n      if (elt.tagName === 'A') {\n        verb = 'get'\n        path = getRawAttribute(elt, 'href')\n      } else {\n        const rawAttribute = getRawAttribute(elt, 'method')\n        verb = rawAttribute ? rawAttribute.toLowerCase() : 'get'\n        if (verb === 'get') {\n        }\n        path = getRawAttribute(elt, 'action')\n      }\n      triggerSpecs.forEach(function(triggerSpec) {\n        addEventListener(elt, function(node, evt) {\n          const elt = asElement(node)\n          if (eltIsDisabled(elt)) {\n            cleanUpElement(elt)\n            return\n          }\n          issueAjaxRequest(verb, path, elt, evt)\n        }, nodeData, triggerSpec, true)\n      })\n    }\n  }\n\n  /**\n   * @param {Event} evt\n   * @param {Node} node\n   * @returns {boolean}\n   */\n  function shouldCancel(evt, node) {\n    const elt = asElement(node)\n    if (!elt) {\n      return false\n    }\n    if (evt.type === 'submit' || evt.type === 'click') {\n      if (elt.tagName === 'FORM') {\n        return true\n      }\n      if (matches(elt, 'input[type=\"submit\"], button') && closest(elt, 'form') !== null) {\n        return true\n      }\n      if (elt instanceof HTMLAnchorElement && elt.href &&\n        (elt.getAttribute('href') === '#' || elt.getAttribute('href').indexOf('#') !== 0)) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * @param {Node} elt\n   * @param {Event|MouseEvent|KeyboardEvent|TouchEvent} evt\n   * @returns {boolean}\n   */\n  function ignoreBoostedAnchorCtrlClick(elt, evt) {\n    return getInternalData(elt).boosted && elt instanceof HTMLAnchorElement && evt.type === 'click' &&\n      // @ts-ignore this will resolve to undefined for events that don't define those properties, which is fine\n      (evt.ctrlKey || evt.metaKey)\n  }\n\n  /**\n   * @param {HtmxTriggerSpecification} triggerSpec\n   * @param {Node} elt\n   * @param {Event} evt\n   * @returns {boolean}\n   */\n  function maybeFilterEvent(triggerSpec, elt, evt) {\n    const eventFilter = triggerSpec.eventFilter\n    if (eventFilter) {\n      try {\n        return eventFilter.call(elt, evt) !== true\n      } catch (e) {\n        const source = eventFilter.source\n        triggerErrorEvent(getDocument().body, 'htmx:eventFilter:error', { error: e, source })\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * @param {Node} elt\n   * @param {TriggerHandler} handler\n   * @param {HtmxNodeInternalData} nodeData\n   * @param {HtmxTriggerSpecification} triggerSpec\n   * @param {boolean} [explicitCancel]\n   */\n  function addEventListener(elt, handler, nodeData, triggerSpec, explicitCancel) {\n    const elementData = getInternalData(elt)\n    /** @type {(Node|Window)[]} */\n    let eltsToListenOn\n    if (triggerSpec.from) {\n      eltsToListenOn = querySelectorAllExt(elt, triggerSpec.from)\n    } else {\n      eltsToListenOn = [elt]\n    }\n    // store the initial values of the elements, so we can tell if they change\n    if (triggerSpec.changed) {\n      eltsToListenOn.forEach(function(eltToListenOn) {\n        const eltToListenOnData = getInternalData(eltToListenOn)\n        // @ts-ignore value will be undefined for non-input elements, which is fine\n        eltToListenOnData.lastValue = eltToListenOn.value\n      })\n    }\n    forEach(eltsToListenOn, function(eltToListenOn) {\n      /** @type EventListener */\n      const eventListener = function(evt) {\n        if (!bodyContains(elt)) {\n          eltToListenOn.removeEventListener(triggerSpec.trigger, eventListener)\n          return\n        }\n        if (ignoreBoostedAnchorCtrlClick(elt, evt)) {\n          return\n        }\n        if (explicitCancel || shouldCancel(evt, elt)) {\n          evt.preventDefault()\n        }\n        if (maybeFilterEvent(triggerSpec, elt, evt)) {\n          return\n        }\n        const eventData = getInternalData(evt)\n        eventData.triggerSpec = triggerSpec\n        if (eventData.handledFor == null) {\n          eventData.handledFor = []\n        }\n        if (eventData.handledFor.indexOf(elt) < 0) {\n          eventData.handledFor.push(elt)\n          if (triggerSpec.consume) {\n            evt.stopPropagation()\n          }\n          if (triggerSpec.target && evt.target) {\n            if (!matches(asElement(evt.target), triggerSpec.target)) {\n              return\n            }\n          }\n          if (triggerSpec.once) {\n            if (elementData.triggeredOnce) {\n              return\n            } else {\n              elementData.triggeredOnce = true\n            }\n          }\n          if (triggerSpec.changed) {\n            const eltToListenOnData = getInternalData(eltToListenOn)\n            // @ts-ignore value will be undefined for non-input elements, which is fine\n            const value = eltToListenOn.value\n            if (eltToListenOnData.lastValue === value) {\n              return\n            }\n            eltToListenOnData.lastValue = value\n          }\n          if (elementData.delayed) {\n            clearTimeout(elementData.delayed)\n          }\n          if (elementData.throttle) {\n            return\n          }\n\n          if (triggerSpec.throttle > 0) {\n            if (!elementData.throttle) {\n              handler(elt, evt)\n              elementData.throttle = getWindow().setTimeout(function() {\n                elementData.throttle = null\n              }, triggerSpec.throttle)\n            }\n          } else if (triggerSpec.delay > 0) {\n            elementData.delayed = getWindow().setTimeout(function() { handler(elt, evt) }, triggerSpec.delay)\n          } else {\n            triggerEvent(elt, 'htmx:trigger')\n            handler(elt, evt)\n          }\n        }\n      }\n      if (nodeData.listenerInfos == null) {\n        nodeData.listenerInfos = []\n      }\n      nodeData.listenerInfos.push({\n        trigger: triggerSpec.trigger,\n        listener: eventListener,\n        on: eltToListenOn\n      })\n      eltToListenOn.addEventListener(triggerSpec.trigger, eventListener)\n    })\n  }\n\n  let windowIsScrolling = false // used by initScrollHandler\n  let scrollHandler = null\n  function initScrollHandler() {\n    if (!scrollHandler) {\n      scrollHandler = function() {\n        windowIsScrolling = true\n      }\n      window.addEventListener('scroll', scrollHandler)\n      setInterval(function() {\n        if (windowIsScrolling) {\n          windowIsScrolling = false\n          forEach(getDocument().querySelectorAll(\"[hx-trigger*='revealed'],[data-hx-trigger*='revealed']\"), function(elt) {\n            maybeReveal(elt)\n          })\n        }\n      }, 200)\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   */\n  function maybeReveal(elt) {\n    if (!hasAttribute(elt, 'data-hx-revealed') && isScrolledIntoView(elt)) {\n      elt.setAttribute('data-hx-revealed', 'true')\n      const nodeData = getInternalData(elt)\n      if (nodeData.initHash) {\n        triggerEvent(elt, 'revealed')\n      } else {\n        // if the node isn't initialized, wait for it before triggering the request\n        elt.addEventListener('htmx:afterProcessNode', function() { triggerEvent(elt, 'revealed') }, { once: true })\n      }\n    }\n  }\n\n  //= ===================================================================\n\n  /**\n   * @param {Element} elt\n   * @param {TriggerHandler} handler\n   * @param {HtmxNodeInternalData} nodeData\n   * @param {number} delay\n   */\n  function loadImmediately(elt, handler, nodeData, delay) {\n    const load = function() {\n      if (!nodeData.loaded) {\n        nodeData.loaded = true\n        handler(elt)\n      }\n    }\n    if (delay > 0) {\n      getWindow().setTimeout(load, delay)\n    } else {\n      load()\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {HtmxNodeInternalData} nodeData\n   * @param {HtmxTriggerSpecification[]} triggerSpecs\n   * @returns {boolean}\n   */\n  function processVerbs(elt, nodeData, triggerSpecs) {\n    let explicitAction = false\n    forEach(VERBS, function(verb) {\n      if (hasAttribute(elt, 'hx-' + verb)) {\n        const path = getAttributeValue(elt, 'hx-' + verb)\n        explicitAction = true\n        nodeData.path = path\n        nodeData.verb = verb\n        triggerSpecs.forEach(function(triggerSpec) {\n          addTriggerHandler(elt, triggerSpec, nodeData, function(node, evt) {\n            const elt = asElement(node)\n            if (closest(elt, htmx.config.disableSelector)) {\n              cleanUpElement(elt)\n              return\n            }\n            issueAjaxRequest(verb, path, elt, evt)\n          })\n        })\n      }\n    })\n    return explicitAction\n  }\n\n  /**\n   * @callback TriggerHandler\n   * @param {Node} elt\n   * @param {Event} [evt]\n   */\n\n  /**\n   * @param {Node} elt\n   * @param {HtmxTriggerSpecification} triggerSpec\n   * @param {HtmxNodeInternalData} nodeData\n   * @param {TriggerHandler} handler\n   */\n  function addTriggerHandler(elt, triggerSpec, nodeData, handler) {\n    if (triggerSpec.trigger === 'revealed') {\n      initScrollHandler()\n      addEventListener(elt, handler, nodeData, triggerSpec)\n      maybeReveal(asElement(elt))\n    } else if (triggerSpec.trigger === 'intersect') {\n      const observerOptions = {}\n      if (triggerSpec.root) {\n        observerOptions.root = querySelectorExt(elt, triggerSpec.root)\n      }\n      if (triggerSpec.threshold) {\n        observerOptions.threshold = parseFloat(triggerSpec.threshold)\n      }\n      const observer = new IntersectionObserver(function(entries) {\n        for (let i = 0; i < entries.length; i++) {\n          const entry = entries[i]\n          if (entry.isIntersecting) {\n            triggerEvent(elt, 'intersect')\n            break\n          }\n        }\n      }, observerOptions)\n      observer.observe(asElement(elt))\n      addEventListener(asElement(elt), handler, nodeData, triggerSpec)\n    } else if (triggerSpec.trigger === 'load') {\n      if (!maybeFilterEvent(triggerSpec, elt, makeEvent('load', { elt }))) {\n        loadImmediately(asElement(elt), handler, nodeData, triggerSpec.delay)\n      }\n    } else if (triggerSpec.pollInterval > 0) {\n      nodeData.polling = true\n      processPolling(asElement(elt), handler, triggerSpec)\n    } else {\n      addEventListener(elt, handler, nodeData, triggerSpec)\n    }\n  }\n\n  /**\n   * @param {Node} node\n   * @returns {boolean}\n   */\n  function shouldProcessHxOn(node) {\n    const elt = asElement(node)\n    if (!elt) {\n      return false\n    }\n    const attributes = elt.attributes\n    for (let j = 0; j < attributes.length; j++) {\n      const attrName = attributes[j].name\n      if (startsWith(attrName, 'hx-on:') || startsWith(attrName, 'data-hx-on:') ||\n        startsWith(attrName, 'hx-on-') || startsWith(attrName, 'data-hx-on-')) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * @param {Node} elt\n   * @returns {Element[]}\n   */\n  const HX_ON_QUERY = new XPathEvaluator()\n    .createExpression('.//*[@*[ starts-with(name(), \"hx-on:\") or starts-with(name(), \"data-hx-on:\") or' +\n      ' starts-with(name(), \"hx-on-\") or starts-with(name(), \"data-hx-on-\") ]]')\n\n  function processHXOnRoot(elt, elements) {\n    if (shouldProcessHxOn(elt)) {\n      elements.push(asElement(elt))\n    }\n    const iter = HX_ON_QUERY.evaluate(elt)\n    let node = null\n    while (node = iter.iterateNext()) elements.push(asElement(node))\n  }\n\n  function findHxOnWildcardElements(elt) {\n    /** @type {Element[]} */\n    const elements = []\n    if (elt instanceof DocumentFragment) {\n      for (const child of elt.childNodes) {\n        processHXOnRoot(child, elements)\n      }\n    } else {\n      processHXOnRoot(elt, elements)\n    }\n    return elements\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {NodeListOf<Element>|[]}\n   */\n  function findElementsToProcess(elt) {\n    if (elt.querySelectorAll) {\n      const boostedSelector = ', [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]'\n\n      const extensionSelectors = []\n      for (const e in extensions) {\n        const extension = extensions[e]\n        if (extension.getSelectors) {\n          var selectors = extension.getSelectors()\n          if (selectors) {\n            extensionSelectors.push(selectors)\n          }\n        }\n      }\n\n      const results = elt.querySelectorAll(VERB_SELECTOR + boostedSelector + \", form, [type='submit'],\" +\n        ' [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]' + extensionSelectors.flat().map(s => ', ' + s).join(''))\n\n      return results\n    } else {\n      return []\n    }\n  }\n\n  /**\n   * Handle submit buttons/inputs that have the form attribute set\n   * see https://developer.mozilla.org/docs/Web/HTML/Element/button\n   * @param {Event} evt\n   */\n  function maybeSetLastButtonClicked(evt) {\n    const elt = /** @type {HTMLButtonElement|HTMLInputElement} */ (closest(asElement(evt.target), \"button, input[type='submit']\"))\n    const internalData = getRelatedFormData(evt)\n    if (internalData) {\n      internalData.lastButtonClicked = elt\n    }\n  }\n\n  /**\n   * @param {Event} evt\n   */\n  function maybeUnsetLastButtonClicked(evt) {\n    const internalData = getRelatedFormData(evt)\n    if (internalData) {\n      internalData.lastButtonClicked = null\n    }\n  }\n\n  /**\n   * @param {Event} evt\n   * @returns {HtmxNodeInternalData|undefined}\n   */\n  function getRelatedFormData(evt) {\n    const elt = closest(asElement(evt.target), \"button, input[type='submit']\")\n    if (!elt) {\n      return\n    }\n    const form = resolveTarget('#' + getRawAttribute(elt, 'form'), elt.getRootNode()) || closest(elt, 'form')\n    if (!form) {\n      return\n    }\n    return getInternalData(form)\n  }\n\n  /**\n   * @param {EventTarget} elt\n   */\n  function initButtonTracking(elt) {\n    // need to handle both click and focus in:\n    //   focusin - in case someone tabs in to a button and hits the space bar\n    //   click - on OSX buttons do not focus on click see https://bugs.webkit.org/show_bug.cgi?id=13724\n    elt.addEventListener('click', maybeSetLastButtonClicked)\n    elt.addEventListener('focusin', maybeSetLastButtonClicked)\n    elt.addEventListener('focusout', maybeUnsetLastButtonClicked)\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {string} eventName\n   * @param {string} code\n   */\n  function addHxOnEventHandler(elt, eventName, code) {\n    const nodeData = getInternalData(elt)\n    if (!Array.isArray(nodeData.onHandlers)) {\n      nodeData.onHandlers = []\n    }\n    let func\n    /** @type EventListener */\n    const listener = function(e) {\n      maybeEval(elt, function() {\n        if (eltIsDisabled(elt)) {\n          return\n        }\n        if (!func) {\n          func = new Function('event', code)\n        }\n        func.call(elt, e)\n      })\n    }\n    elt.addEventListener(eventName, listener)\n    nodeData.onHandlers.push({ event: eventName, listener })\n  }\n\n  /**\n   * @param {Element} elt\n   */\n  function processHxOnWildcard(elt) {\n    // wipe any previous on handlers so that this function takes precedence\n    deInitOnHandlers(elt)\n\n    for (let i = 0; i < elt.attributes.length; i++) {\n      const name = elt.attributes[i].name\n      const value = elt.attributes[i].value\n      if (startsWith(name, 'hx-on') || startsWith(name, 'data-hx-on')) {\n        const afterOnPosition = name.indexOf('-on') + 3\n        const nextChar = name.slice(afterOnPosition, afterOnPosition + 1)\n        if (nextChar === '-' || nextChar === ':') {\n          let eventName = name.slice(afterOnPosition + 1)\n          // if the eventName starts with a colon or dash, prepend \"htmx\" for shorthand support\n          if (startsWith(eventName, ':')) {\n            eventName = 'htmx' + eventName\n          } else if (startsWith(eventName, '-')) {\n            eventName = 'htmx:' + eventName.slice(1)\n          } else if (startsWith(eventName, 'htmx-')) {\n            eventName = 'htmx:' + eventName.slice(5)\n          }\n\n          addHxOnEventHandler(elt, eventName, value)\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {Element|HTMLInputElement} elt\n   */\n  function initNode(elt) {\n    if (closest(elt, htmx.config.disableSelector)) {\n      cleanUpElement(elt)\n      return\n    }\n    const nodeData = getInternalData(elt)\n    if (nodeData.initHash !== attributeHash(elt)) {\n      // clean up any previously processed info\n      deInitNode(elt)\n\n      nodeData.initHash = attributeHash(elt)\n\n      triggerEvent(elt, 'htmx:beforeProcessNode')\n\n      // @ts-ignore value will be undefined for non-input elements, which is fine\n      if (elt.value) {\n        // @ts-ignore\n        nodeData.lastValue = elt.value\n      }\n\n      const triggerSpecs = getTriggerSpecs(elt)\n      const hasExplicitHttpAction = processVerbs(elt, nodeData, triggerSpecs)\n\n      if (!hasExplicitHttpAction) {\n        if (getClosestAttributeValue(elt, 'hx-boost') === 'true') {\n          boostElement(elt, nodeData, triggerSpecs)\n        } else if (hasAttribute(elt, 'hx-trigger')) {\n          triggerSpecs.forEach(function(triggerSpec) {\n            // For \"naked\" triggers, don't do anything at all\n            addTriggerHandler(elt, triggerSpec, nodeData, function() {\n            })\n          })\n        }\n      }\n\n      // Handle submit buttons/inputs that have the form attribute set\n      // see https://developer.mozilla.org/docs/Web/HTML/Element/button\n      if (elt.tagName === 'FORM' || (getRawAttribute(elt, 'type') === 'submit' && hasAttribute(elt, 'form'))) {\n        initButtonTracking(elt)\n      }\n\n      triggerEvent(elt, 'htmx:afterProcessNode')\n    }\n  }\n\n  /**\n   * Processes new content, enabling htmx behavior. This can be useful if you have content that is added to the DOM outside of the normal htmx request cycle but still want htmx attributes to work.\n   *\n   * @see https://htmx.org/api/#process\n   *\n   * @param {Element|string} elt element to process\n   */\n  function processNode(elt) {\n    elt = resolveTarget(elt)\n    if (closest(elt, htmx.config.disableSelector)) {\n      cleanUpElement(elt)\n      return\n    }\n    initNode(elt)\n    forEach(findElementsToProcess(elt), function(child) { initNode(child) })\n    forEach(findHxOnWildcardElements(elt), processHxOnWildcard)\n  }\n\n  //= ===================================================================\n  // Event/Log Support\n  //= ===================================================================\n\n  /**\n   * @param {string} str\n   * @returns {string}\n   */\n  function kebabEventName(str) {\n    return str.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase()\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {any} detail\n   * @returns {CustomEvent}\n   */\n  function makeEvent(eventName, detail) {\n    let evt\n    if (window.CustomEvent && typeof window.CustomEvent === 'function') {\n      // TODO: `composed: true` here is a hack to make global event handlers work with events in shadow DOM\n      // This breaks expected encapsulation but needs to be here until decided otherwise by core devs\n      evt = new CustomEvent(eventName, { bubbles: true, cancelable: true, composed: true, detail })\n    } else {\n      evt = getDocument().createEvent('CustomEvent')\n      evt.initCustomEvent(eventName, true, true, detail)\n    }\n    return evt\n  }\n\n  /**\n   * @param {EventTarget|string} elt\n   * @param {string} eventName\n   * @param {any=} detail\n   */\n  function triggerErrorEvent(elt, eventName, detail) {\n    triggerEvent(elt, eventName, mergeObjects({ error: eventName }, detail))\n  }\n\n  /**\n   * @param {string} eventName\n   * @returns {boolean}\n   */\n  function ignoreEventForLogging(eventName) {\n    return eventName === 'htmx:afterProcessNode'\n  }\n\n  /**\n   * `withExtensions` locates all active extensions for a provided element, then\n   * executes the provided function using each of the active extensions.  It should\n   * be called internally at every extendable execution point in htmx.\n   *\n   * @param {Element} elt\n   * @param {(extension:HtmxExtension) => void} toDo\n   * @returns void\n   */\n  function withExtensions(elt, toDo) {\n    forEach(getExtensions(elt), function(extension) {\n      try {\n        toDo(extension)\n      } catch (e) {\n        logError(e)\n      }\n    })\n  }\n\n  function logError(msg) {\n    if (console.error) {\n      console.error(msg)\n    } else if (console.log) {\n      console.log('ERROR: ', msg)\n    }\n  }\n\n  /**\n   * Triggers a given event on an element\n   *\n   * @see https://htmx.org/api/#trigger\n   *\n   * @param {EventTarget|string} elt the element to trigger the event on\n   * @param {string} eventName the name of the event to trigger\n   * @param {any=} detail details for the event\n   * @returns {boolean}\n   */\n  function triggerEvent(elt, eventName, detail) {\n    elt = resolveTarget(elt)\n    if (detail == null) {\n      detail = {}\n    }\n    detail.elt = elt\n    const event = makeEvent(eventName, detail)\n    if (htmx.logger && !ignoreEventForLogging(eventName)) {\n      htmx.logger(elt, eventName, detail)\n    }\n    if (detail.error) {\n      logError(detail.error)\n      triggerEvent(elt, 'htmx:error', { errorInfo: detail })\n    }\n    let eventResult = elt.dispatchEvent(event)\n    const kebabName = kebabEventName(eventName)\n    if (eventResult && kebabName !== eventName) {\n      const kebabedEvent = makeEvent(kebabName, event.detail)\n      eventResult = eventResult && elt.dispatchEvent(kebabedEvent)\n    }\n    withExtensions(asElement(elt), function(extension) {\n      eventResult = eventResult && (extension.onEvent(eventName, event) !== false && !event.defaultPrevented)\n    })\n    return eventResult\n  }\n\n  //= ===================================================================\n  // History Support\n  //= ===================================================================\n  let currentPathForHistory = location.pathname + location.search\n\n  /**\n   * @returns {Element}\n   */\n  function getHistoryElement() {\n    const historyElt = getDocument().querySelector('[hx-history-elt],[data-hx-history-elt]')\n    return historyElt || getDocument().body\n  }\n\n  /**\n   * @param {string} url\n   * @param {Element} rootElt\n   */\n  function saveToHistoryCache(url, rootElt) {\n    if (!canAccessLocalStorage()) {\n      return\n    }\n\n    // get state to save\n    const innerHTML = cleanInnerHtmlForHistory(rootElt)\n    const title = getDocument().title\n    const scroll = window.scrollY\n\n    if (htmx.config.historyCacheSize <= 0) {\n      // make sure that an eventually already existing cache is purged\n      localStorage.removeItem('htmx-history-cache')\n      return\n    }\n\n    url = normalizePath(url)\n\n    const historyCache = parseJSON(localStorage.getItem('htmx-history-cache')) || []\n    for (let i = 0; i < historyCache.length; i++) {\n      if (historyCache[i].url === url) {\n        historyCache.splice(i, 1)\n        break\n      }\n    }\n\n    /** @type HtmxHistoryItem */\n    const newHistoryItem = { url, content: innerHTML, title, scroll }\n\n    triggerEvent(getDocument().body, 'htmx:historyItemCreated', { item: newHistoryItem, cache: historyCache })\n\n    historyCache.push(newHistoryItem)\n    while (historyCache.length > htmx.config.historyCacheSize) {\n      historyCache.shift()\n    }\n\n    // keep trying to save the cache until it succeeds or is empty\n    while (historyCache.length > 0) {\n      try {\n        localStorage.setItem('htmx-history-cache', JSON.stringify(historyCache))\n        break\n      } catch (e) {\n        triggerErrorEvent(getDocument().body, 'htmx:historyCacheError', { cause: e, cache: historyCache })\n        historyCache.shift() // shrink the cache and retry\n      }\n    }\n  }\n\n  /**\n   * @typedef {Object} HtmxHistoryItem\n   * @property {string} url\n   * @property {string} content\n   * @property {string} title\n   * @property {number} scroll\n   */\n\n  /**\n   * @param {string} url\n   * @returns {HtmxHistoryItem|null}\n   */\n  function getCachedHistory(url) {\n    if (!canAccessLocalStorage()) {\n      return null\n    }\n\n    url = normalizePath(url)\n\n    const historyCache = parseJSON(localStorage.getItem('htmx-history-cache')) || []\n    for (let i = 0; i < historyCache.length; i++) {\n      if (historyCache[i].url === url) {\n        return historyCache[i]\n      }\n    }\n    return null\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {string}\n   */\n  function cleanInnerHtmlForHistory(elt) {\n    const className = htmx.config.requestClass\n    const clone = /** @type Element */ (elt.cloneNode(true))\n    forEach(findAll(clone, '.' + className), function(child) {\n      removeClassFromElement(child, className)\n    })\n    return clone.innerHTML\n  }\n\n  function saveCurrentPageToHistory() {\n    const elt = getHistoryElement()\n    const path = currentPathForHistory || location.pathname + location.search\n\n    // Allow history snapshot feature to be disabled where hx-history=\"false\"\n    // is present *anywhere* in the current document we're about to save,\n    // so we can prevent privileged data entering the cache.\n    // The page will still be reachable as a history entry, but htmx will fetch it\n    // live from the server onpopstate rather than look in the localStorage cache\n    let disableHistoryCache\n    try {\n      disableHistoryCache = getDocument().querySelector('[hx-history=\"false\" i],[data-hx-history=\"false\" i]')\n    } catch (e) {\n    // IE11: insensitive modifier not supported so fallback to case sensitive selector\n      disableHistoryCache = getDocument().querySelector('[hx-history=\"false\"],[data-hx-history=\"false\"]')\n    }\n    if (!disableHistoryCache) {\n      triggerEvent(getDocument().body, 'htmx:beforeHistorySave', { path, historyElt: elt })\n      saveToHistoryCache(path, elt)\n    }\n\n    if (htmx.config.historyEnabled) history.replaceState({ htmx: true }, getDocument().title, window.location.href)\n  }\n\n  /**\n   * @param {string} path\n   */\n  function pushUrlIntoHistory(path) {\n  // remove the cache buster parameter, if any\n    if (htmx.config.getCacheBusterParam) {\n      path = path.replace(/org\\.htmx\\.cache-buster=[^&]*&?/, '')\n      if (endsWith(path, '&') || endsWith(path, '?')) {\n        path = path.slice(0, -1)\n      }\n    }\n    if (htmx.config.historyEnabled) {\n      history.pushState({ htmx: true }, '', path)\n    }\n    currentPathForHistory = path\n  }\n\n  /**\n   * @param {string} path\n   */\n  function replaceUrlInHistory(path) {\n    if (htmx.config.historyEnabled) history.replaceState({ htmx: true }, '', path)\n    currentPathForHistory = path\n  }\n\n  /**\n   * @param {HtmxSettleTask[]} tasks\n   */\n  function settleImmediately(tasks) {\n    forEach(tasks, function(task) {\n      task.call(undefined)\n    })\n  }\n\n  /**\n   * @param {string} path\n   */\n  function loadHistoryFromServer(path) {\n    const request = new XMLHttpRequest()\n    const details = { path, xhr: request }\n    triggerEvent(getDocument().body, 'htmx:historyCacheMiss', details)\n    request.open('GET', path, true)\n    request.setRequestHeader('HX-Request', 'true')\n    request.setRequestHeader('HX-History-Restore-Request', 'true')\n    request.setRequestHeader('HX-Current-URL', getDocument().location.href)\n    request.onload = function() {\n      if (this.status >= 200 && this.status < 400) {\n        triggerEvent(getDocument().body, 'htmx:historyCacheMissLoad', details)\n        const fragment = makeFragment(this.response)\n        /** @type ParentNode */\n        const content = fragment.querySelector('[hx-history-elt],[data-hx-history-elt]') || fragment\n        const historyElement = getHistoryElement()\n        const settleInfo = makeSettleInfo(historyElement)\n        handleTitle(fragment.title)\n\n        swapInnerHTML(historyElement, content, settleInfo)\n        settleImmediately(settleInfo.tasks)\n        currentPathForHistory = path\n        triggerEvent(getDocument().body, 'htmx:historyRestore', { path, cacheMiss: true, serverResponse: this.response })\n      } else {\n        triggerErrorEvent(getDocument().body, 'htmx:historyCacheMissLoadError', details)\n      }\n    }\n    request.send()\n  }\n\n  /**\n   * @param {string} [path]\n   */\n  function restoreHistory(path) {\n    saveCurrentPageToHistory()\n    path = path || location.pathname + location.search\n    const cached = getCachedHistory(path)\n    if (cached) {\n      const fragment = makeFragment(cached.content)\n      const historyElement = getHistoryElement()\n      const settleInfo = makeSettleInfo(historyElement)\n      handleTitle(fragment.title)\n      swapInnerHTML(historyElement, fragment, settleInfo)\n      settleImmediately(settleInfo.tasks)\n      getWindow().setTimeout(function() {\n        window.scrollTo(0, cached.scroll)\n      }, 0) // next 'tick', so browser has time to render layout\n      currentPathForHistory = path\n      triggerEvent(getDocument().body, 'htmx:historyRestore', { path, item: cached })\n    } else {\n      if (htmx.config.refreshOnHistoryMiss) {\n        // @ts-ignore: optional parameter in reload() function throws error\n        // noinspection JSUnresolvedReference\n        window.location.reload(true)\n      } else {\n        loadHistoryFromServer(path)\n      }\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {Element[]}\n   */\n  function addRequestIndicatorClasses(elt) {\n    let indicators = /** @type Element[] */ (findAttributeTargets(elt, 'hx-indicator'))\n    if (indicators == null) {\n      indicators = [elt]\n    }\n    forEach(indicators, function(ic) {\n      const internalData = getInternalData(ic)\n      internalData.requestCount = (internalData.requestCount || 0) + 1\n      ic.classList.add.call(ic.classList, htmx.config.requestClass)\n    })\n    return indicators\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {Element[]}\n   */\n  function disableElements(elt) {\n    let disabledElts = /** @type Element[] */ (findAttributeTargets(elt, 'hx-disabled-elt'))\n    if (disabledElts == null) {\n      disabledElts = []\n    }\n    forEach(disabledElts, function(disabledElement) {\n      const internalData = getInternalData(disabledElement)\n      internalData.requestCount = (internalData.requestCount || 0) + 1\n      disabledElement.setAttribute('disabled', '')\n    })\n    return disabledElts\n  }\n\n  /**\n   * @param {Element[]} indicators\n   * @param {Element[]} disabled\n   */\n  function removeRequestIndicators(indicators, disabled) {\n    forEach(indicators, function(ic) {\n      const internalData = getInternalData(ic)\n      internalData.requestCount = (internalData.requestCount || 0) - 1\n      if (internalData.requestCount === 0) {\n        ic.classList.remove.call(ic.classList, htmx.config.requestClass)\n      }\n    })\n    forEach(disabled, function(disabledElement) {\n      const internalData = getInternalData(disabledElement)\n      internalData.requestCount = (internalData.requestCount || 0) - 1\n      if (internalData.requestCount === 0) {\n        disabledElement.removeAttribute('disabled')\n      }\n    })\n  }\n\n  //= ===================================================================\n  // Input Value Processing\n  //= ===================================================================\n\n  /**\n   * @param {Element[]} processed\n   * @param {Element} elt\n   * @returns {boolean}\n   */\n  function haveSeenNode(processed, elt) {\n    for (let i = 0; i < processed.length; i++) {\n      const node = processed[i]\n      if (node.isSameNode(elt)) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * @param {Element} element\n   * @return {boolean}\n   */\n  function shouldInclude(element) {\n    // Cast to trick tsc, undefined values will work fine here\n    const elt = /** @type {HTMLInputElement} */ (element)\n    if (elt.name === '' || elt.name == null || elt.disabled || closest(elt, 'fieldset[disabled]')) {\n      return false\n    }\n    // ignore \"submitter\" types (see jQuery src/serialize.js)\n    if (elt.type === 'button' || elt.type === 'submit' || elt.tagName === 'image' || elt.tagName === 'reset' || elt.tagName === 'file') {\n      return false\n    }\n    if (elt.type === 'checkbox' || elt.type === 'radio') {\n      return elt.checked\n    }\n    return true\n  }\n\n  /** @param {string} name\n   * @param {string|Array|FormDataEntryValue} value\n   * @param {FormData} formData */\n  function addValueToFormData(name, value, formData) {\n    if (name != null && value != null) {\n      if (Array.isArray(value)) {\n        value.forEach(function(v) { formData.append(name, v) })\n      } else {\n        formData.append(name, value)\n      }\n    }\n  }\n\n  /** @param {string} name\n   * @param {string|Array} value\n   * @param {FormData} formData */\n  function removeValueFromFormData(name, value, formData) {\n    if (name != null && value != null) {\n      let values = formData.getAll(name)\n      if (Array.isArray(value)) {\n        values = values.filter(v => value.indexOf(v) < 0)\n      } else {\n        values = values.filter(v => v !== value)\n      }\n      formData.delete(name)\n      forEach(values, v => formData.append(name, v))\n    }\n  }\n\n  /**\n   * @param {Element[]} processed\n   * @param {FormData} formData\n   * @param {HtmxElementValidationError[]} errors\n   * @param {Element|HTMLInputElement|HTMLSelectElement|HTMLFormElement} elt\n   * @param {boolean} validate\n   */\n  function processInputValue(processed, formData, errors, elt, validate) {\n    if (elt == null || haveSeenNode(processed, elt)) {\n      return\n    } else {\n      processed.push(elt)\n    }\n    if (shouldInclude(elt)) {\n      const name = getRawAttribute(elt, 'name')\n      // @ts-ignore value will be undefined for non-input elements, which is fine\n      let value = elt.value\n      if (elt instanceof HTMLSelectElement && elt.multiple) {\n        value = toArray(elt.querySelectorAll('option:checked')).map(function(e) { return (/** @type HTMLOptionElement */(e)).value })\n      }\n      // include file inputs\n      if (elt instanceof HTMLInputElement && elt.files) {\n        value = toArray(elt.files)\n      }\n      addValueToFormData(name, value, formData)\n      if (validate) {\n        validateElement(elt, errors)\n      }\n    }\n    if (elt instanceof HTMLFormElement) {\n      forEach(elt.elements, function(input) {\n        if (processed.indexOf(input) >= 0) {\n          // The input has already been processed and added to the values, but the FormData that will be\n          //  constructed right after on the form, will include it once again. So remove that input's value\n          //  now to avoid duplicates\n          removeValueFromFormData(input.name, input.value, formData)\n        } else {\n          processed.push(input)\n        }\n        if (validate) {\n          validateElement(input, errors)\n        }\n      })\n      new FormData(elt).forEach(function(value, name) {\n        if (value instanceof File && value.name === '') {\n          return // ignore no-name files\n        }\n        addValueToFormData(name, value, formData)\n      })\n    }\n  }\n\n  /**\n   *\n   * @param {Element} elt\n   * @param {HtmxElementValidationError[]} errors\n   */\n  function validateElement(elt, errors) {\n    const element = /** @type {HTMLElement & ElementInternals} */ (elt)\n    if (element.willValidate) {\n      triggerEvent(element, 'htmx:validation:validate')\n      if (!element.checkValidity()) {\n        errors.push({ elt: element, message: element.validationMessage, validity: element.validity })\n        triggerEvent(element, 'htmx:validation:failed', { message: element.validationMessage, validity: element.validity })\n      }\n    }\n  }\n\n  /**\n   * Override values in the one FormData with those from another.\n   * @param {FormData} receiver the formdata that will be mutated\n   * @param {FormData} donor the formdata that will provide the overriding values\n   * @returns {FormData} the {@linkcode receiver}\n   */\n  function overrideFormData(receiver, donor) {\n    for (const key of donor.keys()) {\n      receiver.delete(key)\n      donor.getAll(key).forEach(function(value) {\n        receiver.append(key, value)\n      })\n    }\n    return receiver\n  }\n\n  /**\n * @param {Element|HTMLFormElement} elt\n * @param {HttpVerb} verb\n * @returns {{errors: HtmxElementValidationError[], formData: FormData, values: Object}}\n */\n  function getInputValues(elt, verb) {\n    /** @type Element[] */\n    const processed = []\n    const formData = new FormData()\n    const priorityFormData = new FormData()\n    /** @type HtmxElementValidationError[] */\n    const errors = []\n    const internalData = getInternalData(elt)\n    if (internalData.lastButtonClicked && !bodyContains(internalData.lastButtonClicked)) {\n      internalData.lastButtonClicked = null\n    }\n\n    // only validate when form is directly submitted and novalidate or formnovalidate are not set\n    // or if the element has an explicit hx-validate=\"true\" on it\n    let validate = (elt instanceof HTMLFormElement && elt.noValidate !== true) || getAttributeValue(elt, 'hx-validate') === 'true'\n    if (internalData.lastButtonClicked) {\n      validate = validate && internalData.lastButtonClicked.formNoValidate !== true\n    }\n\n    // for a non-GET include the closest form\n    if (verb !== 'get') {\n      processInputValue(processed, priorityFormData, errors, closest(elt, 'form'), validate)\n    }\n\n    // include the element itself\n    processInputValue(processed, formData, errors, elt, validate)\n\n    // if a button or submit was clicked last, include its value\n    if (internalData.lastButtonClicked || elt.tagName === 'BUTTON' ||\n    (elt.tagName === 'INPUT' && getRawAttribute(elt, 'type') === 'submit')) {\n      const button = internalData.lastButtonClicked || (/** @type HTMLInputElement|HTMLButtonElement */(elt))\n      const name = getRawAttribute(button, 'name')\n      addValueToFormData(name, button.value, priorityFormData)\n    }\n\n    // include any explicit includes\n    const includes = findAttributeTargets(elt, 'hx-include')\n    forEach(includes, function(node) {\n      processInputValue(processed, formData, errors, asElement(node), validate)\n      // if a non-form is included, include any input values within it\n      if (!matches(node, 'form')) {\n        forEach(asParentNode(node).querySelectorAll(INPUT_SELECTOR), function(descendant) {\n          processInputValue(processed, formData, errors, descendant, validate)\n        })\n      }\n    })\n\n    // values from a <form> take precedence, overriding the regular values\n    overrideFormData(formData, priorityFormData)\n\n    return { errors, formData, values: formDataProxy(formData) }\n  }\n\n  /**\n   * @param {string} returnStr\n   * @param {string} name\n   * @param {any} realValue\n   * @returns {string}\n   */\n  function appendParam(returnStr, name, realValue) {\n    if (returnStr !== '') {\n      returnStr += '&'\n    }\n    if (String(realValue) === '[object Object]') {\n      realValue = JSON.stringify(realValue)\n    }\n    const s = encodeURIComponent(realValue)\n    returnStr += encodeURIComponent(name) + '=' + s\n    return returnStr\n  }\n\n  /**\n   * @param {FormData|Object} values\n   * @returns string\n   */\n  function urlEncode(values) {\n    values = formDataFromObject(values)\n    let returnStr = ''\n    values.forEach(function(value, key) {\n      returnStr = appendParam(returnStr, key, value)\n    })\n    return returnStr\n  }\n\n  //= ===================================================================\n  // Ajax\n  //= ===================================================================\n\n  /**\n * @param {Element} elt\n * @param {Element} target\n * @param {string} prompt\n * @returns {HtmxHeaderSpecification}\n */\n  function getHeaders(elt, target, prompt) {\n    /** @type HtmxHeaderSpecification */\n    const headers = {\n      'HX-Request': 'true',\n      'HX-Trigger': getRawAttribute(elt, 'id'),\n      'HX-Trigger-Name': getRawAttribute(elt, 'name'),\n      'HX-Target': getAttributeValue(target, 'id'),\n      'HX-Current-URL': getDocument().location.href\n    }\n    getValuesForElement(elt, 'hx-headers', false, headers)\n    if (prompt !== undefined) {\n      headers['HX-Prompt'] = prompt\n    }\n    if (getInternalData(elt).boosted) {\n      headers['HX-Boosted'] = 'true'\n    }\n    return headers\n  }\n\n  /**\n * filterValues takes an object containing form input values\n * and returns a new object that only contains keys that are\n * specified by the closest \"hx-params\" attribute\n * @param {FormData} inputValues\n * @param {Element} elt\n * @returns {FormData}\n */\n  function filterValues(inputValues, elt) {\n    const paramsValue = getClosestAttributeValue(elt, 'hx-params')\n    if (paramsValue) {\n      if (paramsValue === 'none') {\n        return new FormData()\n      } else if (paramsValue === '*') {\n        return inputValues\n      } else if (paramsValue.indexOf('not ') === 0) {\n        forEach(paramsValue.substr(4).split(','), function(name) {\n          name = name.trim()\n          inputValues.delete(name)\n        })\n        return inputValues\n      } else {\n        const newValues = new FormData()\n        forEach(paramsValue.split(','), function(name) {\n          name = name.trim()\n          if (inputValues.has(name)) {\n            inputValues.getAll(name).forEach(function(value) { newValues.append(name, value) })\n          }\n        })\n        return newValues\n      }\n    } else {\n      return inputValues\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   * @return {boolean}\n   */\n  function isAnchorLink(elt) {\n    return !!getRawAttribute(elt, 'href') && getRawAttribute(elt, 'href').indexOf('#') >= 0\n  }\n\n  /**\n * @param {Element} elt\n * @param {HtmxSwapStyle} [swapInfoOverride]\n * @returns {HtmxSwapSpecification}\n */\n  function getSwapSpecification(elt, swapInfoOverride) {\n    const swapInfo = swapInfoOverride || getClosestAttributeValue(elt, 'hx-swap')\n    /** @type HtmxSwapSpecification */\n    const swapSpec = {\n      swapStyle: getInternalData(elt).boosted ? 'innerHTML' : htmx.config.defaultSwapStyle,\n      swapDelay: htmx.config.defaultSwapDelay,\n      settleDelay: htmx.config.defaultSettleDelay\n    }\n    if (htmx.config.scrollIntoViewOnBoost && getInternalData(elt).boosted && !isAnchorLink(elt)) {\n      swapSpec.show = 'top'\n    }\n    if (swapInfo) {\n      const split = splitOnWhitespace(swapInfo)\n      if (split.length > 0) {\n        for (let i = 0; i < split.length; i++) {\n          const value = split[i]\n          if (value.indexOf('swap:') === 0) {\n            swapSpec.swapDelay = parseInterval(value.substr(5))\n          } else if (value.indexOf('settle:') === 0) {\n            swapSpec.settleDelay = parseInterval(value.substr(7))\n          } else if (value.indexOf('transition:') === 0) {\n            swapSpec.transition = value.substr(11) === 'true'\n          } else if (value.indexOf('ignoreTitle:') === 0) {\n            swapSpec.ignoreTitle = value.substr(12) === 'true'\n          } else if (value.indexOf('scroll:') === 0) {\n            const scrollSpec = value.substr(7)\n            var splitSpec = scrollSpec.split(':')\n            const scrollVal = splitSpec.pop()\n            var selectorVal = splitSpec.length > 0 ? splitSpec.join(':') : null\n            // @ts-ignore\n            swapSpec.scroll = scrollVal\n            swapSpec.scrollTarget = selectorVal\n          } else if (value.indexOf('show:') === 0) {\n            const showSpec = value.substr(5)\n            var splitSpec = showSpec.split(':')\n            const showVal = splitSpec.pop()\n            var selectorVal = splitSpec.length > 0 ? splitSpec.join(':') : null\n            swapSpec.show = showVal\n            swapSpec.showTarget = selectorVal\n          } else if (value.indexOf('focus-scroll:') === 0) {\n            const focusScrollVal = value.substr('focus-scroll:'.length)\n            swapSpec.focusScroll = focusScrollVal == 'true'\n          } else if (i == 0) {\n            swapSpec.swapStyle = value\n          } else {\n            logError('Unknown modifier in hx-swap: ' + value)\n          }\n        }\n      }\n    }\n    return swapSpec\n  }\n\n  /**\n   * @param {Element} elt\n   * @return {boolean}\n   */\n  function usesFormData(elt) {\n    return getClosestAttributeValue(elt, 'hx-encoding') === 'multipart/form-data' ||\n    (matches(elt, 'form') && getRawAttribute(elt, 'enctype') === 'multipart/form-data')\n  }\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @param {Element} elt\n   * @param {FormData} filteredParameters\n   * @returns {*|string|null}\n   */\n  function encodeParamsForBody(xhr, elt, filteredParameters) {\n    let encodedParameters = null\n    withExtensions(elt, function(extension) {\n      if (encodedParameters == null) {\n        encodedParameters = extension.encodeParameters(xhr, filteredParameters, elt)\n      }\n    })\n    if (encodedParameters != null) {\n      return encodedParameters\n    } else {\n      if (usesFormData(elt)) {\n        // Force conversion to an actual FormData object in case filteredParameters is a formDataProxy\n        // See https://github.com/bigskysoftware/htmx/issues/2317\n        return overrideFormData(new FormData(), formDataFromObject(filteredParameters))\n      } else {\n        return urlEncode(filteredParameters)\n      }\n    }\n  }\n\n  /**\n *\n * @param {Element} target\n * @returns {HtmxSettleInfo}\n */\n  function makeSettleInfo(target) {\n    return { tasks: [], elts: [target] }\n  }\n\n  /**\n   * @param {Element[]} content\n   * @param {HtmxSwapSpecification} swapSpec\n   */\n  function updateScrollState(content, swapSpec) {\n    const first = content[0]\n    const last = content[content.length - 1]\n    if (swapSpec.scroll) {\n      var target = null\n      if (swapSpec.scrollTarget) {\n        target = asElement(querySelectorExt(first, swapSpec.scrollTarget))\n      }\n      if (swapSpec.scroll === 'top' && (first || target)) {\n        target = target || first\n        target.scrollTop = 0\n      }\n      if (swapSpec.scroll === 'bottom' && (last || target)) {\n        target = target || last\n        target.scrollTop = target.scrollHeight\n      }\n    }\n    if (swapSpec.show) {\n      var target = null\n      if (swapSpec.showTarget) {\n        let targetStr = swapSpec.showTarget\n        if (swapSpec.showTarget === 'window') {\n          targetStr = 'body'\n        }\n        target = asElement(querySelectorExt(first, targetStr))\n      }\n      if (swapSpec.show === 'top' && (first || target)) {\n        target = target || first\n        // @ts-ignore For some reason tsc doesn't recognize \"instant\" as a valid option for now\n        target.scrollIntoView({ block: 'start', behavior: htmx.config.scrollBehavior })\n      }\n      if (swapSpec.show === 'bottom' && (last || target)) {\n        target = target || last\n        // @ts-ignore For some reason tsc doesn't recognize \"instant\" as a valid option for now\n        target.scrollIntoView({ block: 'end', behavior: htmx.config.scrollBehavior })\n      }\n    }\n  }\n\n  /**\n * @param {Element} elt\n * @param {string} attr\n * @param {boolean=} evalAsDefault\n * @param {Object=} values\n * @returns {Object}\n */\n  function getValuesForElement(elt, attr, evalAsDefault, values) {\n    if (values == null) {\n      values = {}\n    }\n    if (elt == null) {\n      return values\n    }\n    const attributeValue = getAttributeValue(elt, attr)\n    if (attributeValue) {\n      let str = attributeValue.trim()\n      let evaluateValue = evalAsDefault\n      if (str === 'unset') {\n        return null\n      }\n      if (str.indexOf('javascript:') === 0) {\n        str = str.substr(11)\n        evaluateValue = true\n      } else if (str.indexOf('js:') === 0) {\n        str = str.substr(3)\n        evaluateValue = true\n      }\n      if (str.indexOf('{') !== 0) {\n        str = '{' + str + '}'\n      }\n      let varsValues\n      if (evaluateValue) {\n        varsValues = maybeEval(elt, function() { return Function('return (' + str + ')')() }, {})\n      } else {\n        varsValues = parseJSON(str)\n      }\n      for (const key in varsValues) {\n        if (varsValues.hasOwnProperty(key)) {\n          if (values[key] == null) {\n            values[key] = varsValues[key]\n          }\n        }\n      }\n    }\n    return getValuesForElement(asElement(parentElt(elt)), attr, evalAsDefault, values)\n  }\n\n  /**\n   * @param {EventTarget|string} elt\n   * @param {() => any} toEval\n   * @param {any=} defaultVal\n   * @returns {any}\n   */\n  function maybeEval(elt, toEval, defaultVal) {\n    if (htmx.config.allowEval) {\n      return toEval()\n    } else {\n      triggerErrorEvent(elt, 'htmx:evalDisallowedError')\n      return defaultVal\n    }\n  }\n\n  /**\n * @param {Element} elt\n * @param {*?} expressionVars\n * @returns\n */\n  function getHXVarsForElement(elt, expressionVars) {\n    return getValuesForElement(elt, 'hx-vars', true, expressionVars)\n  }\n\n  /**\n * @param {Element} elt\n * @param {*?} expressionVars\n * @returns\n */\n  function getHXValsForElement(elt, expressionVars) {\n    return getValuesForElement(elt, 'hx-vals', false, expressionVars)\n  }\n\n  /**\n * @param {Element} elt\n * @returns {FormData}\n */\n  function getExpressionVars(elt) {\n    return mergeObjects(getHXVarsForElement(elt), getHXValsForElement(elt))\n  }\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @param {string} header\n   * @param {string|null} headerValue\n   */\n  function safelySetHeaderValue(xhr, header, headerValue) {\n    if (headerValue !== null) {\n      try {\n        xhr.setRequestHeader(header, headerValue)\n      } catch (e) {\n      // On an exception, try to set the header URI encoded instead\n        xhr.setRequestHeader(header, encodeURIComponent(headerValue))\n        xhr.setRequestHeader(header + '-URI-AutoEncoded', 'true')\n      }\n    }\n  }\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @return {string}\n   */\n  function getPathFromResponse(xhr) {\n  // NB: IE11 does not support this stuff\n    if (xhr.responseURL && typeof (URL) !== 'undefined') {\n      try {\n        const url = new URL(xhr.responseURL)\n        return url.pathname + url.search\n      } catch (e) {\n        triggerErrorEvent(getDocument().body, 'htmx:badResponseUrl', { url: xhr.responseURL })\n      }\n    }\n  }\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @param {RegExp} regexp\n   * @return {boolean}\n   */\n  function hasHeader(xhr, regexp) {\n    return regexp.test(xhr.getAllResponseHeaders())\n  }\n\n  /**\n   * Issues an htmx-style AJAX request\n   *\n   * @see https://htmx.org/api/#ajax\n   *\n   * @param {HttpVerb} verb\n   * @param {string} path the URL path to make the AJAX\n   * @param {Element|string|HtmxAjaxHelperContext} context the element to target (defaults to the **body**) | a selector for the target | a context object that contains any of the following\n   * @return {Promise<void>} Promise that resolves immediately if no request is sent, or when the request is complete\n   */\n  function ajaxHelper(verb, path, context) {\n    verb = (/** @type HttpVerb */(verb.toLowerCase()))\n    if (context) {\n      if (context instanceof Element || typeof context === 'string') {\n        return issueAjaxRequest(verb, path, null, null, {\n          targetOverride: resolveTarget(context),\n          returnPromise: true\n        })\n      } else {\n        return issueAjaxRequest(verb, path, resolveTarget(context.source), context.event,\n          {\n            handler: context.handler,\n            headers: context.headers,\n            values: context.values,\n            targetOverride: resolveTarget(context.target),\n            swapOverride: context.swap,\n            select: context.select,\n            returnPromise: true\n          })\n      }\n    } else {\n      return issueAjaxRequest(verb, path, null, null, {\n        returnPromise: true\n      })\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   * @return {Element[]}\n   */\n  function hierarchyForElt(elt) {\n    const arr = []\n    while (elt) {\n      arr.push(elt)\n      elt = elt.parentElement\n    }\n    return arr\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {string} path\n   * @param {HtmxRequestConfig} requestConfig\n   * @return {boolean}\n   */\n  function verifyPath(elt, path, requestConfig) {\n    let sameHost\n    let url\n    if (typeof URL === 'function') {\n      url = new URL(path, document.location.href)\n      const origin = document.location.origin\n      sameHost = origin === url.origin\n    } else {\n    // IE11 doesn't support URL\n      url = path\n      sameHost = startsWith(path, document.location.origin)\n    }\n\n    if (htmx.config.selfRequestsOnly) {\n      if (!sameHost) {\n        return false\n      }\n    }\n    return triggerEvent(elt, 'htmx:validateUrl', mergeObjects({ url, sameHost }, requestConfig))\n  }\n\n  /**\n   * @param {Object|FormData} obj\n   * @return {FormData}\n   */\n  function formDataFromObject(obj) {\n    if (obj instanceof FormData) return obj\n    const formData = new FormData()\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        if (typeof obj[key].forEach === 'function') {\n          obj[key].forEach(function(v) { formData.append(key, v) })\n        } else if (typeof obj[key] === 'object') {\n          formData.append(key, JSON.stringify(obj[key]))\n        } else {\n          formData.append(key, obj[key])\n        }\n      }\n    }\n    return formData\n  }\n\n  /**\n   * @param {FormData} formData\n   * @param {string} name\n   * @param {Array} array\n   * @returns {Array}\n   */\n  function formDataArrayProxy(formData, name, array) {\n    // mutating the array should mutate the underlying form data\n    return new Proxy(array, {\n      get: function(target, key) {\n        if (typeof key === 'number') return target[key]\n        if (key === 'length') return target.length\n        if (key === 'push') {\n          return function(value) {\n            target.push(value)\n            formData.append(name, value)\n          }\n        }\n        if (typeof target[key] === 'function') {\n          return function() {\n            target[key].apply(target, arguments)\n            formData.delete(name)\n            target.forEach(function(v) { formData.append(name, v) })\n          }\n        }\n\n        if (target[key] && target[key].length === 1) {\n          return target[key][0]\n        } else {\n          return target[key]\n        }\n      },\n      set: function(target, index, value) {\n        target[index] = value\n        formData.delete(name)\n        target.forEach(function(v) { formData.append(name, v) })\n        return true\n      }\n    })\n  }\n\n  /**\n   * @param {FormData} formData\n   * @returns {Object}\n   */\n  function formDataProxy(formData) {\n    return new Proxy(formData, {\n      get: function(target, name) {\n        if (typeof name === 'symbol') {\n          // Forward symbol calls to the FormData itself directly\n          return Reflect.get(target, name)\n        }\n        if (name === 'toJSON') {\n          // Support JSON.stringify call on proxy\n          return () => Object.fromEntries(formData)\n        }\n        if (name in target) {\n          // Wrap in function with apply to correctly bind the FormData context, as a direct call would result in an illegal invocation error\n          if (typeof target[name] === 'function') {\n            return function() {\n              return formData[name].apply(formData, arguments)\n            }\n          } else {\n            return target[name]\n          }\n        }\n        const array = formData.getAll(name)\n        // Those 2 undefined & single value returns are for retro-compatibility as we weren't using FormData before\n        if (array.length === 0) {\n          return undefined\n        } else if (array.length === 1) {\n          return array[0]\n        } else {\n          return formDataArrayProxy(target, name, array)\n        }\n      },\n      set: function(target, name, value) {\n        if (typeof name !== 'string') {\n          return false\n        }\n        target.delete(name)\n        if (typeof value.forEach === 'function') {\n          value.forEach(function(v) { target.append(name, v) })\n        } else {\n          target.append(name, value)\n        }\n        return true\n      },\n      deleteProperty: function(target, name) {\n        if (typeof name === 'string') {\n          target.delete(name)\n        }\n        return true\n      },\n      // Support Object.assign call from proxy\n      ownKeys: function(target) {\n        return Reflect.ownKeys(Object.fromEntries(target))\n      },\n      getOwnPropertyDescriptor: function(target, prop) {\n        return Reflect.getOwnPropertyDescriptor(Object.fromEntries(target), prop)\n      }\n    })\n  }\n\n  /**\n   * @param {HttpVerb} verb\n   * @param {string} path\n   * @param {Element} elt\n   * @param {Event} event\n   * @param {HtmxAjaxEtc} [etc]\n   * @param {boolean} [confirmed]\n   * @return {Promise<void>}\n   */\n  function issueAjaxRequest(verb, path, elt, event, etc, confirmed) {\n    let resolve = null\n    let reject = null\n    etc = etc != null ? etc : {}\n    if (etc.returnPromise && typeof Promise !== 'undefined') {\n      var promise = new Promise(function(_resolve, _reject) {\n        resolve = _resolve\n        reject = _reject\n      })\n    }\n    if (elt == null) {\n      elt = getDocument().body\n    }\n    const responseHandler = etc.handler || handleAjaxResponse\n    const select = etc.select || null\n\n    if (!bodyContains(elt)) {\n    // do not issue requests for elements removed from the DOM\n      maybeCall(resolve)\n      return promise\n    }\n    const target = etc.targetOverride || asElement(getTarget(elt))\n    if (target == null || target == DUMMY_ELT) {\n      triggerErrorEvent(elt, 'htmx:targetError', { target: getAttributeValue(elt, 'hx-target') })\n      maybeCall(reject)\n      return promise\n    }\n\n    let eltData = getInternalData(elt)\n    const submitter = eltData.lastButtonClicked\n\n    if (submitter) {\n      const buttonPath = getRawAttribute(submitter, 'formaction')\n      if (buttonPath != null) {\n        path = buttonPath\n      }\n\n      const buttonVerb = getRawAttribute(submitter, 'formmethod')\n      if (buttonVerb != null) {\n      // ignore buttons with formmethod=\"dialog\"\n        if (buttonVerb.toLowerCase() !== 'dialog') {\n          verb = (/** @type HttpVerb */(buttonVerb))\n        }\n      }\n    }\n\n    const confirmQuestion = getClosestAttributeValue(elt, 'hx-confirm')\n    // allow event-based confirmation w/ a callback\n    if (confirmed === undefined) {\n      const issueRequest = function(skipConfirmation) {\n        return issueAjaxRequest(verb, path, elt, event, etc, !!skipConfirmation)\n      }\n      const confirmDetails = { target, elt, path, verb, triggeringEvent: event, etc, issueRequest, question: confirmQuestion }\n      if (triggerEvent(elt, 'htmx:confirm', confirmDetails) === false) {\n        maybeCall(resolve)\n        return promise\n      }\n    }\n\n    let syncElt = elt\n    let syncStrategy = getClosestAttributeValue(elt, 'hx-sync')\n    let queueStrategy = null\n    let abortable = false\n    if (syncStrategy) {\n      const syncStrings = syncStrategy.split(':')\n      const selector = syncStrings[0].trim()\n      if (selector === 'this') {\n        syncElt = findThisElement(elt, 'hx-sync')\n      } else {\n        syncElt = asElement(querySelectorExt(elt, selector))\n      }\n      // default to the drop strategy\n      syncStrategy = (syncStrings[1] || 'drop').trim()\n      eltData = getInternalData(syncElt)\n      if (syncStrategy === 'drop' && eltData.xhr && eltData.abortable !== true) {\n        maybeCall(resolve)\n        return promise\n      } else if (syncStrategy === 'abort') {\n        if (eltData.xhr) {\n          maybeCall(resolve)\n          return promise\n        } else {\n          abortable = true\n        }\n      } else if (syncStrategy === 'replace') {\n        triggerEvent(syncElt, 'htmx:abort') // abort the current request and continue\n      } else if (syncStrategy.indexOf('queue') === 0) {\n        const queueStrArray = syncStrategy.split(' ')\n        queueStrategy = (queueStrArray[1] || 'last').trim()\n      }\n    }\n\n    if (eltData.xhr) {\n      if (eltData.abortable) {\n        triggerEvent(syncElt, 'htmx:abort') // abort the current request and continue\n      } else {\n        if (queueStrategy == null) {\n          if (event) {\n            const eventData = getInternalData(event)\n            if (eventData && eventData.triggerSpec && eventData.triggerSpec.queue) {\n              queueStrategy = eventData.triggerSpec.queue\n            }\n          }\n          if (queueStrategy == null) {\n            queueStrategy = 'last'\n          }\n        }\n        if (eltData.queuedRequests == null) {\n          eltData.queuedRequests = []\n        }\n        if (queueStrategy === 'first' && eltData.queuedRequests.length === 0) {\n          eltData.queuedRequests.push(function() {\n            issueAjaxRequest(verb, path, elt, event, etc)\n          })\n        } else if (queueStrategy === 'all') {\n          eltData.queuedRequests.push(function() {\n            issueAjaxRequest(verb, path, elt, event, etc)\n          })\n        } else if (queueStrategy === 'last') {\n          eltData.queuedRequests = [] // dump existing queue\n          eltData.queuedRequests.push(function() {\n            issueAjaxRequest(verb, path, elt, event, etc)\n          })\n        }\n        maybeCall(resolve)\n        return promise\n      }\n    }\n\n    const xhr = new XMLHttpRequest()\n    eltData.xhr = xhr\n    eltData.abortable = abortable\n    const endRequestLock = function() {\n      eltData.xhr = null\n      eltData.abortable = false\n      if (eltData.queuedRequests != null &&\n      eltData.queuedRequests.length > 0) {\n        const queuedRequest = eltData.queuedRequests.shift()\n        queuedRequest()\n      }\n    }\n    const promptQuestion = getClosestAttributeValue(elt, 'hx-prompt')\n    if (promptQuestion) {\n      var promptResponse = prompt(promptQuestion)\n      // prompt returns null if cancelled and empty string if accepted with no entry\n      if (promptResponse === null ||\n      !triggerEvent(elt, 'htmx:prompt', { prompt: promptResponse, target })) {\n        maybeCall(resolve)\n        endRequestLock()\n        return promise\n      }\n    }\n\n    if (confirmQuestion && !confirmed) {\n      if (!confirm(confirmQuestion)) {\n        maybeCall(resolve)\n        endRequestLock()\n        return promise\n      }\n    }\n\n    let headers = getHeaders(elt, target, promptResponse)\n\n    if (verb !== 'get' && !usesFormData(elt)) {\n      headers['Content-Type'] = 'application/x-www-form-urlencoded'\n    }\n\n    if (etc.headers) {\n      headers = mergeObjects(headers, etc.headers)\n    }\n    const results = getInputValues(elt, verb)\n    let errors = results.errors\n    const rawFormData = results.formData\n    if (etc.values) {\n      overrideFormData(rawFormData, formDataFromObject(etc.values))\n    }\n    const expressionVars = formDataFromObject(getExpressionVars(elt))\n    const allFormData = overrideFormData(rawFormData, expressionVars)\n    let filteredFormData = filterValues(allFormData, elt)\n\n    if (htmx.config.getCacheBusterParam && verb === 'get') {\n      filteredFormData.set('org.htmx.cache-buster', getRawAttribute(target, 'id') || 'true')\n    }\n\n    // behavior of anchors w/ empty href is to use the current URL\n    if (path == null || path === '') {\n      path = getDocument().location.href\n    }\n\n    /**\n     * @type {Object}\n     * @property {boolean} [credentials]\n     * @property {number} [timeout]\n     * @property {boolean} [noHeaders]\n     */\n    const requestAttrValues = getValuesForElement(elt, 'hx-request')\n\n    const eltIsBoosted = getInternalData(elt).boosted\n\n    let useUrlParams = htmx.config.methodsThatUseUrlParams.indexOf(verb) >= 0\n\n    /** @type HtmxRequestConfig */\n    const requestConfig = {\n      boosted: eltIsBoosted,\n      useUrlParams,\n      formData: filteredFormData,\n      parameters: formDataProxy(filteredFormData),\n      unfilteredFormData: allFormData,\n      unfilteredParameters: formDataProxy(allFormData),\n      headers,\n      target,\n      verb,\n      errors,\n      withCredentials: etc.credentials || requestAttrValues.credentials || htmx.config.withCredentials,\n      timeout: etc.timeout || requestAttrValues.timeout || htmx.config.timeout,\n      path,\n      triggeringEvent: event\n    }\n\n    if (!triggerEvent(elt, 'htmx:configRequest', requestConfig)) {\n      maybeCall(resolve)\n      endRequestLock()\n      return promise\n    }\n\n    // copy out in case the object was overwritten\n    path = requestConfig.path\n    verb = requestConfig.verb\n    headers = requestConfig.headers\n    filteredFormData = formDataFromObject(requestConfig.parameters)\n    errors = requestConfig.errors\n    useUrlParams = requestConfig.useUrlParams\n\n    if (errors && errors.length > 0) {\n      triggerEvent(elt, 'htmx:validation:halted', requestConfig)\n      maybeCall(resolve)\n      endRequestLock()\n      return promise\n    }\n\n    const splitPath = path.split('#')\n    const pathNoAnchor = splitPath[0]\n    const anchor = splitPath[1]\n\n    let finalPath = path\n    if (useUrlParams) {\n      finalPath = pathNoAnchor\n      const hasValues = !filteredFormData.keys().next().done\n      if (hasValues) {\n        if (finalPath.indexOf('?') < 0) {\n          finalPath += '?'\n        } else {\n          finalPath += '&'\n        }\n        finalPath += urlEncode(filteredFormData)\n        if (anchor) {\n          finalPath += '#' + anchor\n        }\n      }\n    }\n\n    if (!verifyPath(elt, finalPath, requestConfig)) {\n      triggerErrorEvent(elt, 'htmx:invalidPath', requestConfig)\n      maybeCall(reject)\n      return promise\n    }\n\n    xhr.open(verb.toUpperCase(), finalPath, true)\n    xhr.overrideMimeType('text/html')\n    xhr.withCredentials = requestConfig.withCredentials\n    xhr.timeout = requestConfig.timeout\n\n    // request headers\n    if (requestAttrValues.noHeaders) {\n    // ignore all headers\n    } else {\n      for (const header in headers) {\n        if (headers.hasOwnProperty(header)) {\n          const headerValue = headers[header]\n          safelySetHeaderValue(xhr, header, headerValue)\n        }\n      }\n    }\n\n    /** @type {HtmxResponseInfo} */\n    const responseInfo = {\n      xhr,\n      target,\n      requestConfig,\n      etc,\n      boosted: eltIsBoosted,\n      select,\n      pathInfo: {\n        requestPath: path,\n        finalRequestPath: finalPath,\n        responsePath: null,\n        anchor\n      }\n    }\n\n    xhr.onload = function() {\n      try {\n        const hierarchy = hierarchyForElt(elt)\n        responseInfo.pathInfo.responsePath = getPathFromResponse(xhr)\n        responseHandler(elt, responseInfo)\n        removeRequestIndicators(indicators, disableElts)\n        triggerEvent(elt, 'htmx:afterRequest', responseInfo)\n        triggerEvent(elt, 'htmx:afterOnLoad', responseInfo)\n        // if the body no longer contains the element, trigger the event on the closest parent\n        // remaining in the DOM\n        if (!bodyContains(elt)) {\n          let secondaryTriggerElt = null\n          while (hierarchy.length > 0 && secondaryTriggerElt == null) {\n            const parentEltInHierarchy = hierarchy.shift()\n            if (bodyContains(parentEltInHierarchy)) {\n              secondaryTriggerElt = parentEltInHierarchy\n            }\n          }\n          if (secondaryTriggerElt) {\n            triggerEvent(secondaryTriggerElt, 'htmx:afterRequest', responseInfo)\n            triggerEvent(secondaryTriggerElt, 'htmx:afterOnLoad', responseInfo)\n          }\n        }\n        maybeCall(resolve)\n        endRequestLock()\n      } catch (e) {\n        triggerErrorEvent(elt, 'htmx:onLoadError', mergeObjects({ error: e }, responseInfo))\n        throw e\n      }\n    }\n    xhr.onerror = function() {\n      removeRequestIndicators(indicators, disableElts)\n      triggerErrorEvent(elt, 'htmx:afterRequest', responseInfo)\n      triggerErrorEvent(elt, 'htmx:sendError', responseInfo)\n      maybeCall(reject)\n      endRequestLock()\n    }\n    xhr.onabort = function() {\n      removeRequestIndicators(indicators, disableElts)\n      triggerErrorEvent(elt, 'htmx:afterRequest', responseInfo)\n      triggerErrorEvent(elt, 'htmx:sendAbort', responseInfo)\n      maybeCall(reject)\n      endRequestLock()\n    }\n    xhr.ontimeout = function() {\n      removeRequestIndicators(indicators, disableElts)\n      triggerErrorEvent(elt, 'htmx:afterRequest', responseInfo)\n      triggerErrorEvent(elt, 'htmx:timeout', responseInfo)\n      maybeCall(reject)\n      endRequestLock()\n    }\n    if (!triggerEvent(elt, 'htmx:beforeRequest', responseInfo)) {\n      maybeCall(resolve)\n      endRequestLock()\n      return promise\n    }\n    var indicators = addRequestIndicatorClasses(elt)\n    var disableElts = disableElements(elt)\n\n    forEach(['loadstart', 'loadend', 'progress', 'abort'], function(eventName) {\n      forEach([xhr, xhr.upload], function(target) {\n        target.addEventListener(eventName, function(event) {\n          triggerEvent(elt, 'htmx:xhr:' + eventName, {\n            lengthComputable: event.lengthComputable,\n            loaded: event.loaded,\n            total: event.total\n          })\n        })\n      })\n    })\n    triggerEvent(elt, 'htmx:beforeSend', responseInfo)\n    const params = useUrlParams ? null : encodeParamsForBody(xhr, elt, filteredFormData)\n    xhr.send(params)\n    return promise\n  }\n\n  /**\n   * @typedef {Object} HtmxHistoryUpdate\n   * @property {string|null} [type]\n   * @property {string|null} [path]\n   */\n\n  /**\n   * @param {Element} elt\n   * @param {HtmxResponseInfo} responseInfo\n   * @return {HtmxHistoryUpdate}\n   */\n  function determineHistoryUpdates(elt, responseInfo) {\n    const xhr = responseInfo.xhr\n\n    //= ==========================================\n    // First consult response headers\n    //= ==========================================\n    let pathFromHeaders = null\n    let typeFromHeaders = null\n    if (hasHeader(xhr, /HX-Push:/i)) {\n      pathFromHeaders = xhr.getResponseHeader('HX-Push')\n      typeFromHeaders = 'push'\n    } else if (hasHeader(xhr, /HX-Push-Url:/i)) {\n      pathFromHeaders = xhr.getResponseHeader('HX-Push-Url')\n      typeFromHeaders = 'push'\n    } else if (hasHeader(xhr, /HX-Replace-Url:/i)) {\n      pathFromHeaders = xhr.getResponseHeader('HX-Replace-Url')\n      typeFromHeaders = 'replace'\n    }\n\n    // if there was a response header, that has priority\n    if (pathFromHeaders) {\n      if (pathFromHeaders === 'false') {\n        return {}\n      } else {\n        return {\n          type: typeFromHeaders,\n          path: pathFromHeaders\n        }\n      }\n    }\n\n    //= ==========================================\n    // Next resolve via DOM values\n    //= ==========================================\n    const requestPath = responseInfo.pathInfo.finalRequestPath\n    const responsePath = responseInfo.pathInfo.responsePath\n\n    const pushUrl = getClosestAttributeValue(elt, 'hx-push-url')\n    const replaceUrl = getClosestAttributeValue(elt, 'hx-replace-url')\n    const elementIsBoosted = getInternalData(elt).boosted\n\n    let saveType = null\n    let path = null\n\n    if (pushUrl) {\n      saveType = 'push'\n      path = pushUrl\n    } else if (replaceUrl) {\n      saveType = 'replace'\n      path = replaceUrl\n    } else if (elementIsBoosted) {\n      saveType = 'push'\n      path = responsePath || requestPath // if there is no response path, go with the original request path\n    }\n\n    if (path) {\n    // false indicates no push, return empty object\n      if (path === 'false') {\n        return {}\n      }\n\n      // true indicates we want to follow wherever the server ended up sending us\n      if (path === 'true') {\n        path = responsePath || requestPath // if there is no response path, go with the original request path\n      }\n\n      // restore any anchor associated with the request\n      if (responseInfo.pathInfo.anchor && path.indexOf('#') === -1) {\n        path = path + '#' + responseInfo.pathInfo.anchor\n      }\n\n      return {\n        type: saveType,\n        path\n      }\n    } else {\n      return {}\n    }\n  }\n\n  /**\n   * @param {HtmxResponseHandlingConfig} responseHandlingConfig\n   * @param {number} status\n   * @return {boolean}\n   */\n  function codeMatches(responseHandlingConfig, status) {\n    var regExp = new RegExp(responseHandlingConfig.code)\n    return regExp.test(status.toString(10))\n  }\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @return {HtmxResponseHandlingConfig}\n   */\n  function resolveResponseHandling(xhr) {\n    for (var i = 0; i < htmx.config.responseHandling.length; i++) {\n      /** @type HtmxResponseHandlingConfig */\n      var responseHandlingElement = htmx.config.responseHandling[i]\n      if (codeMatches(responseHandlingElement, xhr.status)) {\n        return responseHandlingElement\n      }\n    }\n    // no matches, return no swap\n    return {\n      swap: false\n    }\n  }\n\n  /**\n   * @param {string} title\n   */\n  function handleTitle(title) {\n    if (title) {\n      const titleElt = find('title')\n      if (titleElt) {\n        titleElt.innerHTML = title\n      } else {\n        window.document.title = title\n      }\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {HtmxResponseInfo} responseInfo\n   */\n  function handleAjaxResponse(elt, responseInfo) {\n    const xhr = responseInfo.xhr\n    let target = responseInfo.target\n    const etc = responseInfo.etc\n    const responseInfoSelect = responseInfo.select\n\n    if (!triggerEvent(elt, 'htmx:beforeOnLoad', responseInfo)) return\n\n    if (hasHeader(xhr, /HX-Trigger:/i)) {\n      handleTriggerHeader(xhr, 'HX-Trigger', elt)\n    }\n\n    if (hasHeader(xhr, /HX-Location:/i)) {\n      saveCurrentPageToHistory()\n      let redirectPath = xhr.getResponseHeader('HX-Location')\n      /** @type {HtmxAjaxHelperContext&{path:string}} */\n      var redirectSwapSpec\n      if (redirectPath.indexOf('{') === 0) {\n        redirectSwapSpec = parseJSON(redirectPath)\n        // what's the best way to throw an error if the user didn't include this\n        redirectPath = redirectSwapSpec.path\n        delete redirectSwapSpec.path\n      }\n      ajaxHelper('get', redirectPath, redirectSwapSpec).then(function() {\n        pushUrlIntoHistory(redirectPath)\n      })\n      return\n    }\n\n    const shouldRefresh = hasHeader(xhr, /HX-Refresh:/i) && xhr.getResponseHeader('HX-Refresh') === 'true'\n\n    if (hasHeader(xhr, /HX-Redirect:/i)) {\n      location.href = xhr.getResponseHeader('HX-Redirect')\n      shouldRefresh && location.reload()\n      return\n    }\n\n    if (shouldRefresh) {\n      location.reload()\n      return\n    }\n\n    if (hasHeader(xhr, /HX-Retarget:/i)) {\n      if (xhr.getResponseHeader('HX-Retarget') === 'this') {\n        responseInfo.target = elt\n      } else {\n        responseInfo.target = asElement(querySelectorExt(elt, xhr.getResponseHeader('HX-Retarget')))\n      }\n    }\n\n    const historyUpdate = determineHistoryUpdates(elt, responseInfo)\n\n    const responseHandling = resolveResponseHandling(xhr)\n    const shouldSwap = responseHandling.swap\n    let isError = !!responseHandling.error\n    let ignoreTitle = htmx.config.ignoreTitle || responseHandling.ignoreTitle\n    let selectOverride = responseHandling.select\n    if (responseHandling.target) {\n      responseInfo.target = asElement(querySelectorExt(elt, responseHandling.target))\n    }\n    var swapOverride = etc.swapOverride\n    if (swapOverride == null && responseHandling.swapOverride) {\n      swapOverride = responseHandling.swapOverride\n    }\n\n    // response headers override response handling config\n    if (hasHeader(xhr, /HX-Retarget:/i)) {\n      if (xhr.getResponseHeader('HX-Retarget') === 'this') {\n        responseInfo.target = elt\n      } else {\n        responseInfo.target = asElement(querySelectorExt(elt, xhr.getResponseHeader('HX-Retarget')))\n      }\n    }\n    if (hasHeader(xhr, /HX-Reswap:/i)) {\n      swapOverride = xhr.getResponseHeader('HX-Reswap')\n    }\n\n    var serverResponse = xhr.response\n    /** @type HtmxBeforeSwapDetails */\n    var beforeSwapDetails = mergeObjects({\n      shouldSwap,\n      serverResponse,\n      isError,\n      ignoreTitle,\n      selectOverride\n    }, responseInfo)\n\n    if (responseHandling.event && !triggerEvent(target, responseHandling.event, beforeSwapDetails)) return\n\n    if (!triggerEvent(target, 'htmx:beforeSwap', beforeSwapDetails)) return\n\n    target = beforeSwapDetails.target // allow re-targeting\n    serverResponse = beforeSwapDetails.serverResponse // allow updating content\n    isError = beforeSwapDetails.isError // allow updating error\n    ignoreTitle = beforeSwapDetails.ignoreTitle // allow updating ignoring title\n    selectOverride = beforeSwapDetails.selectOverride // allow updating select override\n\n    responseInfo.target = target // Make updated target available to response events\n    responseInfo.failed = isError // Make failed property available to response events\n    responseInfo.successful = !isError // Make successful property available to response events\n\n    if (beforeSwapDetails.shouldSwap) {\n      if (xhr.status === 286) {\n        cancelPolling(elt)\n      }\n\n      withExtensions(elt, function(extension) {\n        serverResponse = extension.transformResponse(serverResponse, xhr, elt)\n      })\n\n      // Save current page if there will be a history update\n      if (historyUpdate.type) {\n        saveCurrentPageToHistory()\n      }\n\n      if (hasHeader(xhr, /HX-Reswap:/i)) {\n        swapOverride = xhr.getResponseHeader('HX-Reswap')\n      }\n      var swapSpec = getSwapSpecification(elt, swapOverride)\n\n      if (!swapSpec.hasOwnProperty('ignoreTitle')) {\n        swapSpec.ignoreTitle = ignoreTitle\n      }\n\n      target.classList.add(htmx.config.swappingClass)\n\n      // optional transition API promise callbacks\n      let settleResolve = null\n      let settleReject = null\n\n      if (responseInfoSelect) {\n        selectOverride = responseInfoSelect\n      }\n\n      if (hasHeader(xhr, /HX-Reselect:/i)) {\n        selectOverride = xhr.getResponseHeader('HX-Reselect')\n      }\n\n      const selectOOB = getClosestAttributeValue(elt, 'hx-select-oob')\n      const select = getClosestAttributeValue(elt, 'hx-select')\n\n      let doSwap = function() {\n        try {\n          // if we need to save history, do so, before swapping so that relative resources have the correct base URL\n          if (historyUpdate.type) {\n            triggerEvent(getDocument().body, 'htmx:beforeHistoryUpdate', mergeObjects({ history: historyUpdate }, responseInfo))\n            if (historyUpdate.type === 'push') {\n              pushUrlIntoHistory(historyUpdate.path)\n              triggerEvent(getDocument().body, 'htmx:pushedIntoHistory', { path: historyUpdate.path })\n            } else {\n              replaceUrlInHistory(historyUpdate.path)\n              triggerEvent(getDocument().body, 'htmx:replacedInHistory', { path: historyUpdate.path })\n            }\n          }\n\n          swap(target, serverResponse, swapSpec, {\n            select: selectOverride || select,\n            selectOOB,\n            eventInfo: responseInfo,\n            anchor: responseInfo.pathInfo.anchor,\n            contextElement: elt,\n            afterSwapCallback: function() {\n              if (hasHeader(xhr, /HX-Trigger-After-Swap:/i)) {\n                let finalElt = elt\n                if (!bodyContains(elt)) {\n                  finalElt = getDocument().body\n                }\n                handleTriggerHeader(xhr, 'HX-Trigger-After-Swap', finalElt)\n              }\n            },\n            afterSettleCallback: function() {\n              if (hasHeader(xhr, /HX-Trigger-After-Settle:/i)) {\n                let finalElt = elt\n                if (!bodyContains(elt)) {\n                  finalElt = getDocument().body\n                }\n                handleTriggerHeader(xhr, 'HX-Trigger-After-Settle', finalElt)\n              }\n              maybeCall(settleResolve)\n            }\n          })\n        } catch (e) {\n          triggerErrorEvent(elt, 'htmx:swapError', responseInfo)\n          maybeCall(settleReject)\n          throw e\n        }\n      }\n\n      let shouldTransition = htmx.config.globalViewTransitions\n      if (swapSpec.hasOwnProperty('transition')) {\n        shouldTransition = swapSpec.transition\n      }\n\n      if (shouldTransition &&\n              triggerEvent(elt, 'htmx:beforeTransition', responseInfo) &&\n              typeof Promise !== 'undefined' &&\n              // @ts-ignore experimental feature atm\n              document.startViewTransition) {\n        const settlePromise = new Promise(function(_resolve, _reject) {\n          settleResolve = _resolve\n          settleReject = _reject\n        })\n        // wrap the original doSwap() in a call to startViewTransition()\n        const innerDoSwap = doSwap\n        doSwap = function() {\n          // @ts-ignore experimental feature atm\n          document.startViewTransition(function() {\n            innerDoSwap()\n            return settlePromise\n          })\n        }\n      }\n\n      if (swapSpec.swapDelay > 0) {\n        getWindow().setTimeout(doSwap, swapSpec.swapDelay)\n      } else {\n        doSwap()\n      }\n    }\n    if (isError) {\n      triggerErrorEvent(elt, 'htmx:responseError', mergeObjects({ error: 'Response Status Error Code ' + xhr.status + ' from ' + responseInfo.pathInfo.requestPath }, responseInfo))\n    }\n  }\n\n  //= ===================================================================\n  // Extensions API\n  //= ===================================================================\n\n  /** @type {Object<string, HtmxExtension>} */\n  const extensions = {}\n\n  /**\n   * extensionBase defines the default functions for all extensions.\n   * @returns {HtmxExtension}\n   */\n  function extensionBase() {\n    return {\n      init: function(api) { return null },\n      getSelectors: function() { return null },\n      onEvent: function(name, evt) { return true },\n      transformResponse: function(text, xhr, elt) { return text },\n      isInlineSwap: function(swapStyle) { return false },\n      handleSwap: function(swapStyle, target, fragment, settleInfo) { return false },\n      encodeParameters: function(xhr, parameters, elt) { return null }\n    }\n  }\n\n  /**\n   * defineExtension initializes the extension and adds it to the htmx registry\n   *\n   * @see https://htmx.org/api/#defineExtension\n   *\n   * @param {string} name the extension name\n   * @param {HtmxExtension} extension the extension definition\n   */\n  function defineExtension(name, extension) {\n    if (extension.init) {\n      extension.init(internalAPI)\n    }\n    extensions[name] = mergeObjects(extensionBase(), extension)\n  }\n\n  /**\n   * removeExtension removes an extension from the htmx registry\n   *\n   * @see https://htmx.org/api/#removeExtension\n   *\n   * @param {string} name\n   */\n  function removeExtension(name) {\n    delete extensions[name]\n  }\n\n  /**\n   * getExtensions searches up the DOM tree to return all extensions that can be applied to a given element\n   *\n   * @param {Element} elt\n   * @param {HtmxExtension[]=} extensionsToReturn\n   * @param {string[]=} extensionsToIgnore\n   * @returns {HtmxExtension[]}\n   */\n  function getExtensions(elt, extensionsToReturn, extensionsToIgnore) {\n    if (extensionsToReturn == undefined) {\n      extensionsToReturn = []\n    }\n    if (elt == undefined) {\n      return extensionsToReturn\n    }\n    if (extensionsToIgnore == undefined) {\n      extensionsToIgnore = []\n    }\n    const extensionsForElement = getAttributeValue(elt, 'hx-ext')\n    if (extensionsForElement) {\n      forEach(extensionsForElement.split(','), function(extensionName) {\n        extensionName = extensionName.replace(/ /g, '')\n        if (extensionName.slice(0, 7) == 'ignore:') {\n          extensionsToIgnore.push(extensionName.slice(7))\n          return\n        }\n        if (extensionsToIgnore.indexOf(extensionName) < 0) {\n          const extension = extensions[extensionName]\n          if (extension && extensionsToReturn.indexOf(extension) < 0) {\n            extensionsToReturn.push(extension)\n          }\n        }\n      })\n    }\n    return getExtensions(asElement(parentElt(elt)), extensionsToReturn, extensionsToIgnore)\n  }\n\n  //= ===================================================================\n  // Initialization\n  //= ===================================================================\n  var isReady = false\n  getDocument().addEventListener('DOMContentLoaded', function() {\n    isReady = true\n  })\n\n  /**\n   * Execute a function now if DOMContentLoaded has fired, otherwise listen for it.\n   *\n   * This function uses isReady because there is no reliable way to ask the browser whether\n   * the DOMContentLoaded event has already been fired; there's a gap between DOMContentLoaded\n   * firing and readystate=complete.\n   */\n  function ready(fn) {\n    // Checking readyState here is a failsafe in case the htmx script tag entered the DOM by\n    // some means other than the initial page load.\n    if (isReady || getDocument().readyState === 'complete') {\n      fn()\n    } else {\n      getDocument().addEventListener('DOMContentLoaded', fn)\n    }\n  }\n\n  function insertIndicatorStyles() {\n    if (htmx.config.includeIndicatorStyles !== false) {\n      const nonceAttribute = htmx.config.inlineStyleNonce ? ` nonce=\"${htmx.config.inlineStyleNonce}\"` : ''\n      getDocument().head.insertAdjacentHTML('beforeend',\n        '<style' + nonceAttribute + '>\\\n      .' + htmx.config.indicatorClass + '{opacity:0}\\\n      .' + htmx.config.requestClass + ' .' + htmx.config.indicatorClass + '{opacity:1; transition: opacity 200ms ease-in;}\\\n      .' + htmx.config.requestClass + '.' + htmx.config.indicatorClass + '{opacity:1; transition: opacity 200ms ease-in;}\\\n      </style>')\n    }\n  }\n\n  function getMetaConfig() {\n    /** @type HTMLMetaElement */\n    const element = getDocument().querySelector('meta[name=\"htmx-config\"]')\n    if (element) {\n      return parseJSON(element.content)\n    } else {\n      return null\n    }\n  }\n\n  function mergeMetaConfig() {\n    const metaConfig = getMetaConfig()\n    if (metaConfig) {\n      htmx.config = mergeObjects(htmx.config, metaConfig)\n    }\n  }\n\n  // initialize the document\n  ready(function() {\n    mergeMetaConfig()\n    insertIndicatorStyles()\n    let body = getDocument().body\n    processNode(body)\n    const restoredElts = getDocument().querySelectorAll(\n      \"[hx-trigger='restored'],[data-hx-trigger='restored']\"\n    )\n    body.addEventListener('htmx:abort', function(evt) {\n      const target = evt.target\n      const internalData = getInternalData(target)\n      if (internalData && internalData.xhr) {\n        internalData.xhr.abort()\n      }\n    })\n    /** @type {(ev: PopStateEvent) => any} */\n    const originalPopstate = window.onpopstate ? window.onpopstate.bind(window) : null\n    /** @type {(ev: PopStateEvent) => any} */\n    window.onpopstate = function(event) {\n      if (event.state && event.state.htmx) {\n        restoreHistory()\n        forEach(restoredElts, function(elt) {\n          triggerEvent(elt, 'htmx:restored', {\n            document: getDocument(),\n            triggerEvent\n          })\n        })\n      } else {\n        if (originalPopstate) {\n          originalPopstate(event)\n        }\n      }\n    }\n    getWindow().setTimeout(function() {\n      triggerEvent(body, 'htmx:load', {}) // give ready handlers a chance to load up before firing this event\n      body = null // kill reference for gc\n    }, 0)\n  })\n\n  return htmx\n})()\n\n/** @typedef {'get'|'head'|'post'|'put'|'delete'|'connect'|'options'|'trace'|'patch'} HttpVerb */\n\n/**\n * @typedef {Object} SwapOptions\n * @property {string} [select]\n * @property {string} [selectOOB]\n * @property {*} [eventInfo]\n * @property {string} [anchor]\n * @property {Element} [contextElement]\n * @property {swapCallback} [afterSwapCallback]\n * @property {swapCallback} [afterSettleCallback]\n */\n\n/**\n * @callback swapCallback\n */\n\n/**\n * @typedef {'innerHTML' | 'outerHTML' | 'beforebegin' | 'afterbegin' | 'beforeend' | 'afterend' | 'delete' | 'none' | string} HtmxSwapStyle\n */\n\n/**\n * @typedef HtmxSwapSpecification\n * @property {HtmxSwapStyle} swapStyle\n * @property {number} swapDelay\n * @property {number} settleDelay\n * @property {boolean} [transition]\n * @property {boolean} [ignoreTitle]\n * @property {string} [head]\n * @property {'top' | 'bottom'} [scroll]\n * @property {string} [scrollTarget]\n * @property {string} [show]\n * @property {string} [showTarget]\n * @property {boolean} [focusScroll]\n */\n\n/**\n * @typedef {((this:Node, evt:Event) => boolean) & {source: string}} ConditionalFunction\n */\n\n/**\n * @typedef {Object} HtmxTriggerSpecification\n * @property {string} trigger\n * @property {number} [pollInterval]\n * @property {ConditionalFunction} [eventFilter]\n * @property {boolean} [changed]\n * @property {boolean} [once]\n * @property {boolean} [consume]\n * @property {number} [delay]\n * @property {string} [from]\n * @property {string} [target]\n * @property {number} [throttle]\n * @property {string} [queue]\n * @property {string} [root]\n * @property {string} [threshold]\n */\n\n/**\n * @typedef {{elt: Element, message: string, validity: ValidityState}} HtmxElementValidationError\n */\n\n/**\n * @typedef {Record<string, string>} HtmxHeaderSpecification\n * @property {'true'} HX-Request\n * @property {string|null} HX-Trigger\n * @property {string|null} HX-Trigger-Name\n * @property {string|null} HX-Target\n * @property {string} HX-Current-URL\n * @property {string} [HX-Prompt]\n * @property {'true'} [HX-Boosted]\n * @property {string} [Content-Type]\n * @property {'true'} [HX-History-Restore-Request]\n */\n\n/** @typedef HtmxAjaxHelperContext\n * @property {Element|string} [source]\n * @property {Event} [event]\n * @property {HtmxAjaxHandler} [handler]\n * @property {Element|string} [target]\n * @property {HtmxSwapStyle} [swap]\n * @property {Object|FormData} [values]\n * @property {Record<string,string>} [headers]\n * @property {string} [select]\n */\n\n/**\n * @typedef {Object} HtmxRequestConfig\n * @property {boolean} boosted\n * @property {boolean} useUrlParams\n * @property {FormData} formData\n * @property {Object} parameters formData proxy\n * @property {FormData} unfilteredFormData\n * @property {Object} unfilteredParameters unfilteredFormData proxy\n * @property {HtmxHeaderSpecification} headers\n * @property {Element} target\n * @property {HttpVerb} verb\n * @property {HtmxElementValidationError[]} errors\n * @property {boolean} withCredentials\n * @property {number} timeout\n * @property {string} path\n * @property {Event} triggeringEvent\n */\n\n/**\n * @typedef {Object} HtmxResponseInfo\n * @property {XMLHttpRequest} xhr\n * @property {Element} target\n * @property {HtmxRequestConfig} requestConfig\n * @property {HtmxAjaxEtc} etc\n * @property {boolean} boosted\n * @property {string} select\n * @property {{requestPath: string, finalRequestPath: string, responsePath: string|null, anchor: string}} pathInfo\n * @property {boolean} [failed]\n * @property {boolean} [successful]\n */\n\n/**\n * @typedef {Object} HtmxAjaxEtc\n * @property {boolean} [returnPromise]\n * @property {HtmxAjaxHandler} [handler]\n * @property {string} [select]\n * @property {Element} [targetOverride]\n * @property {HtmxSwapStyle} [swapOverride]\n * @property {Record<string,string>} [headers]\n * @property {Object|FormData} [values]\n * @property {boolean} [credentials]\n * @property {number} [timeout]\n */\n\n/**\n * @typedef {Object} HtmxResponseHandlingConfig\n * @property {string} [code]\n * @property {boolean} swap\n * @property {boolean} [error]\n * @property {boolean} [ignoreTitle]\n * @property {string} [select]\n * @property {string} [target]\n * @property {string} [swapOverride]\n * @property {string} [event]\n */\n\n/**\n * @typedef {HtmxResponseInfo & {shouldSwap: boolean, serverResponse: any, isError: boolean, ignoreTitle: boolean, selectOverride:string}} HtmxBeforeSwapDetails\n */\n\n/**\n * @callback HtmxAjaxHandler\n * @param {Element} elt\n * @param {HtmxResponseInfo} responseInfo\n */\n\n/**\n * @typedef {(() => void)} HtmxSettleTask\n */\n\n/**\n * @typedef {Object} HtmxSettleInfo\n * @property {HtmxSettleTask[]} tasks\n * @property {Element[]} elts\n * @property {string} [title]\n */\n\n/**\n * @typedef {Object} HtmxExtension\n * @see https://htmx.org/extensions/#defining\n * @property {(api: any) => void} init\n * @property {(name: string, event: Event|CustomEvent) => boolean} onEvent\n * @property {(text: string, xhr: XMLHttpRequest, elt: Element) => string} transformResponse\n * @property {(swapStyle: HtmxSwapStyle) => boolean} isInlineSwap\n * @property {(swapStyle: HtmxSwapStyle, target: Element, fragment: Node, settleInfo: HtmxSettleInfo) => boolean} handleSwap\n * @property {(xhr: XMLHttpRequest, parameters: FormData, elt: Element) => *|string|null} encodeParameters\n */\nexport default htmx\n", "import {initAll} from 'govuk-frontend';\nimport \"govuk-frontend/dist/govuk/all.mjs\";\nimport \"opg-sirius-header/sirius-header.js\";\nimport htmx from \"htmx.org/dist/htmx.esm\";\n\ndocument.body.className += ' js-enabled' + ('noModule' in HTMLScriptElement.prototype ? ' govuk-frontend-supported' : '');\ninitAll();\n\nwindow.htmx = htmx\nhtmx.logAll();\nhtmx.config.responseHandling = [{code:\".*\", swap: true}]\n\nfunction disableFormInputs() {\n    document.querySelector('#report-journal-type').setAttribute(\"disabled\", \"true\")\n    document.querySelector('#report-schedule-type').setAttribute(\"disabled\", \"true\")\n    document.querySelector('#report-account-type').setAttribute(\"disabled\", \"true\")\n    document.querySelector('#report-debt-type').setAttribute(\"disabled\", \"true\")\n    document.querySelector('#date-field').setAttribute(\"disabled\", \"true\")\n    document.querySelector('#date-from-field').setAttribute(\"disabled\", \"true\")\n    document.querySelector('#date-to-field').setAttribute(\"disabled\", \"true\")\n    document.querySelector('#email-field').setAttribute(\"disabled\", \"true\")\n}\n\n// adding event listeners inside the onLoad function will ensure they are re-added to partial content when loaded back in\nhtmx.onLoad(content => {\n    initAll();\n\n    if (document.getElementById('reports-type')) {\n        htmx.findAll(\"#reports-type\").forEach((element) => {\n            element.addEventListener(\"change\", function() {\n                const elements = document.querySelectorAll('[id$=\"-field-input\"]');\n                elements.forEach(element => {\n                    htmx.addClass(element, 'hide');\n                });\n                disableFormInputs();\n                const form = document.querySelector('form');\n                const reportTypeSelect = document.getElementById('reports-type');\n                const reportTypeSelectValue = reportTypeSelect.value\n\n                form.reset();\n                reportTypeSelect.value =  reportTypeSelectValue\n\n                switch (reportTypeSelect.value) {\n                    case \"Journal\":\n                        document.querySelector('#report-journal-type').removeAttribute(\"disabled\");\n                        document.querySelector('#date-field').removeAttribute(\"disabled\");\n                        htmx.removeClass(htmx.find(\"#journal-types-field-input\"), \"hide\")\n                        htmx.removeClass(htmx.find(\"#date-field-input\"), \"hide\")\n                        break;\n                    case \"Schedule\":\n                        document.querySelector('#report-schedule-type').removeAttribute(\"disabled\");\n                        document.querySelector('#date-field').removeAttribute(\"disabled\");\n                        htmx.removeClass(htmx.find(\"#schedule-types-field-input\"), \"hide\")\n                        htmx.removeClass(htmx.find(\"#date-field-input\"), \"hide\")\n                        break;\n                    case \"AccountsReceivable\":\n                        document.querySelector('#report-account-type').removeAttribute(\"disabled\")\n                        htmx.removeClass(htmx.find(\"#account-types-field-input\"), \"hide\")\n                        break;\n                    case \"Debt\":\n                        document.querySelector('#report-debt-type').removeAttribute(\"disabled\")\n                        htmx.removeClass(htmx.find(\"#debt-types-field-input\"), \"hide\")\n                        break;\n                    default:\n                        break;\n                }\n            }, false)\n        });\n\n        document.getElementById('report-account-type').addEventListener('change', function () {\n            const form = document.querySelector('form');\n            const reportTypeSelect = document.getElementById('reports-type');\n            const reportTypeSelectValue = reportTypeSelect.value\n            const reportAccountTypeSelectValue = this.value\n            disableFormInputs();\n            document.querySelector('#report-account-type').removeAttribute(\"disabled\");\n\n            form.reset();\n            reportTypeSelect.value =  reportTypeSelectValue\n            this.value = reportAccountTypeSelectValue\n\n            switch (this.value) {\n                case \"AgedDebt\":\n                case \"UnappliedReceipts\":\n                case \"CustomerAgeingBuckets\":\n                    document.querySelector('#date-field').removeAttribute(\"disabled\");\n                    htmx.addClass(htmx.find(\"#date-to-field-input\"), \"hide\")\n                    htmx.addClass(htmx.find(\"#email-field-input\"), \"hide\")\n                    htmx.addClass(htmx.find(\"#date-from-field-input\"), \"hide\")\n                    htmx.removeClass(htmx.find(\"#date-field-input\"), \"hide\")\n                    break;\n                case \"ARPaidInvoiceReport\":\n                case \"PaidInvoiceTransactionLines\":\n                case \"TotalReceiptsReport\":\n                case \"BadDebtWriteOffReport\":\n                    document.querySelector('#date-to-field').removeAttribute(\"disabled\");\n                    document.querySelector('#email-field').removeAttribute(\"disabled\");\n                    document.querySelector('#date-from-field').removeAttribute(\"disabled\");\n                    htmx.addClass(htmx.find(\"#date-field-input\"), \"hide\")\n                    htmx.removeClass(htmx.find(\"#date-to-field-input\"), \"hide\")\n                    htmx.removeClass(htmx.find(\"#email-field-input\"), \"hide\")\n                    htmx.removeClass(htmx.find(\"#date-from-field-input\"), \"hide\")\n                    break;\n                case \"FeeAccrual\":\n                    htmx.addClass(htmx.find(\"#date-field-input\"), \"hide\")\n                    htmx.addClass(htmx.find(\"#date-to-field-input\"), \"hide\")\n                    htmx.addClass(htmx.find(\"#email-field-input\"), \"hide\")\n                    htmx.addClass(htmx.find(\"#date-from-field-input\"), \"hide\")\n                    break;\n                default:\n                    break;\n            }\n        })\n    }\n\n    // validation errors are loaded in as a partial, with oob-swaps for the field error messages,\n    // but classes need to be applied to each form group that appears in the summary\n    const errorSummary = htmx.find(\"#error-summary\");\n    if (errorSummary) {\n        const errors = [];\n        errorSummary.querySelectorAll(\".govuk-link\").forEach((element) => {\n            errors.push(element.getAttribute(\"href\"));\n        });\n        htmx.findAll(\".govuk-form-group\").forEach((element) => {\n            if (errors.includes(`#${element.id}`)) {\n                element.classList.add(\"govuk-form-group--error\");\n            } else {\n                element.classList.remove(\"govuk-form-group--error\");\n            }\n        })\n    }\n});"],
  "mappings": "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",
  "names": ["normaliseString", "value", "property", "trimmedValue", "trim", "output", "outputType", "type", "includes", "length", "isFinite", "Number", "mergeConfigs", "configObjects", "formattedConfigObject", "configObject", "key", "Object", "keys", "option", "override", "isObject", "extractConfigByNamespace", "Component", "dataset", "namespace", "property", "schema", "properties", "type", "newObject", "value", "entries", "current", "keyParts", "split", "index", "name", "length", "normaliseString", "getFragmentFromUrl", "url", "includes", "pop", "getBreakpoint", "window", "getComputedStyle", "document", "documentElement", "getPropertyValue", "undefined", "setFocus", "$element", "options", "_options$onBeforeFocu", "isFocusable", "getAttribute", "setAttribute", "onFocus", "addEventListener", "onBlur", "once", "_options$onBlur", "call", "removeAttribute", "onBeforeFocus", "focus", "isSupported", "$scope", "body", "classList", "contains", "validateConfig", "config", "validationErrors", "conditions", "errors", "Array", "isArray", "required", "errorMessage", "every", "push", "normaliseDataset", "Component", "dataset", "out", "field", "property", "Object", "entries", "schema", "properties", "normaliseString", "type", "extractConfigByNamespace", "GOVUKFrontendError", "Error", "constructor", "args", "name", "SupportError", "$scope", "document", "body", "supportMessage", "HTMLScriptElement", "prototype", "ConfigError", "ElementError", "messageOrOptions", "message", "componentName", "identifier", "element", "expectedType", "GOVUKFrontendComponent", "constructor", "checkSupport", "isSupported", "SupportError", "I18n", "constructor", "translations", "config", "_config$locale", "locale", "document", "documentElement", "lang", "t", "lookupKey", "options", "Error", "translation", "count", "translationPluralForm", "getPluralSuffix", "match", "replacePlaceholders", "translationString", "formatter", "Intl", "NumberFormat", "supportedLocalesOf", "length", "undefined", "replace", "placeholderWithBraces", "placeholderKey", "Object", "prototype", "hasOwnProperty", "call", "placeholderValue", "format", "hasIntlPluralRulesSupport", "Boolean", "window", "PluralRules", "Number", "isFinite", "preferredForm", "select", "selectPluralFormUsingFallbackRules", "console", "warn", "Math", "abs", "floor", "ruleset", "getPluralRulesForLocale", "pluralRules", "localeShort", "split", "pluralRule", "pluralRulesMap", "languages", "includes", "arabic", "chinese", "french", "german", "irish", "russian", "scottish", "spanish", "welsh", "n", "lastTwo", "last", "Accordion", "GOVUKFrontendComponent", "constructor", "$module", "config", "i18n", "controlsClass", "showAllClass", "showAllTextClass", "sectionClass", "sectionExpandedClass", "sectionButtonClass", "sectionHeaderClass", "sectionHeadingClass", "sectionHeadingDividerClass", "sectionHeadingTextClass", "sectionHeadingTextFocusClass", "sectionShowHideToggleClass", "sectionShowHideToggleFocusClass", "sectionShowHideTextClass", "upChevronIconClass", "downChevronIconClass", "sectionSummaryClass", "sectionSummaryFocusClass", "sectionContentClass", "$sections", "$showAllButton", "$showAllIcon", "$showAllText", "HTMLElement", "ElementError", "componentName", "element", "identifier", "mergeConfigs", "defaults", "normaliseDataset", "dataset", "I18n", "querySelectorAll", "length", "initControls", "initSectionHeaders", "updateShowAllButton", "areAllSectionsOpen", "document", "createElement", "setAttribute", "classList", "add", "appendChild", "$accordionControls", "insertBefore", "firstChild", "addEventListener", "onShowOrHideAllToggle", "event", "onBeforeMatch", "forEach", "$section", "i", "$header", "querySelector", "constructHeaderMarkup", "setExpanded", "isExpanded", "onSectionToggle", "setInitialState", "index", "$span", "$heading", "$summary", "$button", "id", "attr", "Array", "from", "attributes", "name", "value", "$headingText", "$headingTextFocus", "childNodes", "$child", "$showHideToggle", "$showHideToggleFocus", "$showHideText", "$showHideIcon", "getButtonPunctuationEl", "$summarySpan", "$summarySpanFocus", "remove", "removeChild", "$fragment", "target", "Element", "closest", "nowExpanded", "storeState", "expanded", "$content", "newButtonText", "t", "textContent", "ariaLabelParts", "push", "trim", "ariaLabelMessage", "join", "removeAttribute", "contains", "every", "toString", "toggle", "getIdentifier", "getAttribute", "rememberExpanded", "window", "sessionStorage", "setItem", "state", "getItem", "$punctuationEl", "moduleName", "Object", "freeze", "hideAllSections", "hideSection", "hideSectionAriaLabel", "showAllSections", "showSection", "showSectionAriaLabel", "schema", "properties", "type", "DEBOUNCE_TIMEOUT_IN_SECONDS", "Button", "GOVUKFrontendComponent", "constructor", "$module", "config", "debounceFormSubmitTimer", "HTMLElement", "ElementError", "componentName", "element", "identifier", "mergeConfigs", "defaults", "normaliseDataset", "dataset", "addEventListener", "event", "handleKeyDown", "debounce", "$target", "target", "key", "getAttribute", "preventDefault", "click", "preventDoubleClick", "window", "setTimeout", "moduleName", "Object", "freeze", "schema", "properties", "type", "closestAttributeValue", "$element", "attributeName", "$closestElementWithAttribute", "closest", "getAttribute", "CharacterCount", "GOVUKFrontendComponent", "constructor", "$module", "config", "_ref", "_this$config$maxwords", "$textarea", "$visibleCountMessage", "$screenReaderCountMessage", "lastInputTimestamp", "lastInputValue", "valueChecker", "i18n", "maxLength", "HTMLElement", "ElementError", "componentName", "element", "identifier", "querySelector", "HTMLTextAreaElement", "HTMLInputElement", "expectedType", "datasetConfig", "normaliseDataset", "dataset", "configOverrides", "maxlength", "undefined", "maxwords", "mergeConfigs", "defaults", "errors", "validateConfig", "schema", "ConfigError", "I18n", "locale", "closestAttributeValue", "Infinity", "textareaDescriptionId", "id", "$textareaDescription", "document", "getElementById", "textContent", "match", "t", "count", "insertAdjacentElement", "createElement", "className", "setAttribute", "classList", "add", "removeAttribute", "bindChangeEvents", "window", "addEventListener", "updateCountMessage", "handleKeyUp", "handleFocus", "handleBlur", "updateVisibleCountMessage", "Date", "now", "setInterval", "updateIfValueChanged", "clearInterval", "value", "updateScreenReaderCountMessage", "isError", "toggle", "isOverThreshold", "getCountMessage", "text", "_text$match", "length", "remainingNumber", "countType", "formatCountMessage", "translationKeySuffix", "Math", "abs", "threshold", "currentLength", "moduleName", "Object", "freeze", "charactersUnderLimit", "one", "other", "charactersAtLimit", "charactersOverLimit", "wordsUnderLimit", "wordsAtLimit", "wordsOverLimit", "textareaDescription", "properties", "type", "anyOf", "required", "errorMessage", "Checkboxes", "GOVUKFrontendComponent", "constructor", "$module", "$inputs", "HTMLElement", "ElementError", "componentName", "element", "identifier", "querySelectorAll", "length", "forEach", "$input", "targetId", "getAttribute", "document", "getElementById", "setAttribute", "removeAttribute", "window", "addEventListener", "syncAllConditionalReveals", "event", "handleClick", "syncConditionalRevealWithInputState", "$target", "classList", "contains", "inputIsChecked", "checked", "toString", "toggle", "unCheckAllInputsExcept", "name", "$inputWithSameName", "form", "unCheckExclusiveInputs", "$exclusiveInput", "$clickedInput", "target", "HTMLInputElement", "type", "moduleName", "ErrorSummary", "GOVUKFrontendComponent", "constructor", "$module", "config", "HTMLElement", "ElementError", "componentName", "element", "identifier", "mergeConfigs", "defaults", "normaliseDataset", "dataset", "disableAutoFocus", "setFocus", "addEventListener", "event", "handleClick", "$target", "target", "focusTarget", "preventDefault", "HTMLAnchorElement", "inputId", "getFragmentFromUrl", "href", "$input", "document", "getElementById", "$legendOrLabel", "getAssociatedLegendOrLabel", "scrollIntoView", "focus", "preventScroll", "_document$querySelect", "$fieldset", "closest", "$legends", "getElementsByTagName", "length", "$candidateLegend", "HTMLInputElement", "type", "legendTop", "getBoundingClientRect", "top", "inputRect", "height", "window", "innerHeight", "querySelector", "getAttribute", "moduleName", "Object", "freeze", "schema", "properties", "ExitThisPage", "GOVUKFrontendComponent", "constructor", "$module", "config", "i18n", "$button", "$skiplinkButton", "$updateSpan", "$indicatorContainer", "$overlay", "keypressCounter", "lastKeyWasModified", "timeoutTime", "keypressTimeoutId", "timeoutMessageId", "HTMLElement", "ElementError", "componentName", "element", "identifier", "querySelector", "HTMLAnchorElement", "expectedType", "mergeConfigs", "defaults", "normaliseDataset", "dataset", "I18n", "document", "buildIndicator", "initUpdateSpan", "initButtonClickHandler", "body", "addEventListener", "handleKeypress", "bind", "govukFrontendExitThisPageKeypress", "window", "resetPage", "createElement", "setAttribute", "className", "appendChild", "handleClick", "i", "$indicator", "updateIndicator", "classList", "toggle", "querySelectorAll", "forEach", "index", "exitPage", "textContent", "add", "t", "location", "href", "event", "preventDefault", "key", "clearTimeout", "setKeypressTimer", "resetKeypressTimer", "shiftKey", "setTimeout", "remove", "moduleName", "Object", "freeze", "activated", "timedOut", "pressTwoMoreTimes", "pressOneMoreTime", "schema", "properties", "type", "Header", "GOVUKFrontendComponent", "constructor", "$module", "$menuButton", "$menu", "menuIsOpen", "mql", "ElementError", "componentName", "element", "identifier", "querySelector", "menuId", "getAttribute", "document", "getElementById", "setupResponsiveChecks", "addEventListener", "handleMenuButtonClick", "breakpoint", "getBreakpoint", "value", "property", "window", "matchMedia", "checkMode", "addListener", "matches", "removeAttribute", "setAttribute", "toString", "moduleName", "NotificationBanner", "GOVUKFrontendComponent", "constructor", "$module", "config", "HTMLElement", "ElementError", "componentName", "element", "identifier", "mergeConfigs", "defaults", "normaliseDataset", "dataset", "getAttribute", "disableAutoFocus", "setFocus", "moduleName", "Object", "freeze", "schema", "properties", "type", "PasswordInput", "GOVUKFrontendComponent", "constructor", "$module", "config", "i18n", "$input", "$showHideButton", "$screenReaderStatusMessage", "HTMLElement", "ElementError", "componentName", "element", "identifier", "querySelector", "HTMLInputElement", "expectedType", "type", "HTMLButtonElement", "mergeConfigs", "defaults", "normaliseDataset", "dataset", "I18n", "locale", "closestAttributeValue", "removeAttribute", "document", "createElement", "className", "setAttribute", "insertAdjacentElement", "addEventListener", "toggle", "bind", "form", "hide", "window", "event", "persisted", "preventDefault", "show", "setType", "isHidden", "prefixButton", "prefixStatus", "innerText", "t", "moduleName", "Object", "freeze", "showPassword", "hidePassword", "showPasswordAriaLabel", "hidePasswordAriaLabel", "passwordShownAnnouncement", "passwordHiddenAnnouncement", "schema", "properties", "Radios", "GOVUKFrontendComponent", "constructor", "$module", "$inputs", "HTMLElement", "ElementError", "componentName", "element", "identifier", "querySelectorAll", "length", "forEach", "$input", "targetId", "getAttribute", "document", "getElementById", "setAttribute", "removeAttribute", "window", "addEventListener", "syncAllConditionalReveals", "event", "handleClick", "syncConditionalRevealWithInputState", "$target", "classList", "contains", "inputIsChecked", "checked", "toString", "toggle", "$clickedInput", "target", "HTMLInputElement", "type", "$allInputs", "$clickedInputForm", "form", "$clickedInputName", "name", "hasSameFormOwner", "moduleName", "SkipLink", "GOVUKFrontendComponent", "constructor", "$module", "_this$$module$getAttr", "HTMLAnchorElement", "ElementError", "componentName", "element", "expectedType", "identifier", "hash", "href", "getAttribute", "url", "window", "URL", "origin", "location", "pathname", "linkedElementId", "getFragmentFromUrl", "$linkedElement", "document", "getElementById", "addEventListener", "setFocus", "onBeforeFocus", "classList", "add", "onBlur", "remove", "moduleName", "Tabs", "GOVUKFrontendComponent", "constructor", "$module", "$tabs", "$tabList", "$tabListItems", "jsHiddenClass", "changingHash", "boundTabClick", "boundTabKeydown", "boundOnHashChange", "mql", "ElementError", "componentName", "element", "identifier", "querySelectorAll", "length", "onTabClick", "bind", "onTabKeydown", "onHashChange", "querySelector", "setupResponsiveChecks", "breakpoint", "getBreakpoint", "value", "property", "window", "matchMedia", "addEventListener", "checkMode", "addListener", "_this$mql", "matches", "setup", "teardown", "_this$getTab", "setAttribute", "forEach", "$item", "$tab", "setAttributes", "hideTab", "$activeTab", "getTab", "location", "hash", "showTab", "removeAttribute", "removeEventListener", "unsetAttributes", "$tabWithHash", "$previousTab", "getCurrentTab", "focus", "unhighlightTab", "hidePanel", "highlightTab", "showPanel", "panelId", "getFragmentFromUrl", "href", "$panel", "getPanel", "id", "classList", "add", "remove", "event", "$currentTab", "$nextTab", "currentTarget", "HTMLAnchorElement", "preventDefault", "createHistoryEntry", "key", "activatePreviousTab", "activateNextTab", "parentElement", "$nextTabListItem", "nextElementSibling", "$previousTabListItem", "previousElementSibling", "moduleName", "initAll", "config", "_config$scope", "isSupported", "console", "log", "SupportError", "components", "Accordion", "accordion", "Button", "button", "CharacterCount", "characterCount", "Checkboxes", "ErrorSummary", "errorSummary", "ExitThisPage", "exitThisPage", "Header", "NotificationBanner", "notificationBanner", "PasswordInput", "passwordInput", "Radios", "SkipLink", "Tabs", "$scope", "scope", "document", "forEach", "Component", "createAll", "$elements", "querySelectorAll", "moduleName", "Array", "from", "map", "$element", "error", "filter", "Boolean", "SiriusHeader", "prefix", "userRoles", "isFinanceUser", "r", "navLinks", "navElements", "navElement", "url", "title", "hide", "openNewTab", "htmx", "elt", "type", "verb", "tag", "global", "str", "interval", "name", "qualifiedName", "parent", "condition", "initialElement", "ancestor", "attributeName", "attributeValue", "disinherit", "inherit", "closestAttr", "e", "selector", "matchesFunction", "match", "resp", "fragment", "script", "newScript", "attr", "response", "responseWithNoHead", "startTag", "doc", "titleElement", "func", "o", "dataProp", "data", "arr", "returnArr", "i", "el", "rect", "elemTop", "elemBottom", "rootNode", "trigger", "obj1", "obj2", "key", "jString", "error", "test", "path", "url", "callback", "evt", "event", "eltOrSelector", "delay", "value", "clazz", "node", "child", "prefix", "suffix", "trimmedSelector", "start", "results", "context", "arg1", "arg2", "arg3", "eventArgs", "attrName", "attrTarget", "result", "attribute", "targetStr", "attributesToSettle", "mergeTo", "mergeFrom", "swapStyle", "target", "extensions", "extension", "oobValue", "oobElement", "settleInfo", "targets", "oobElementClone", "beforeSwapDetails", "preservedElt", "id", "oldElt", "parentNode", "newNode", "normalizedId", "normalizedTag", "parentElt", "oldNode", "newAttributes", "autofocus", "autoFocusedElt", "insertBefore", "string", "hash", "char", "internalData", "handlerInfo", "element", "info", "newElt", "eltBeforeNewContent", "firstChild", "ext", "newElements", "j", "content", "swapSpec", "swapOptions", "activeElt", "selectionInfo", "oobSelectValues", "oobSelectValue", "template", "newFragment", "newActiveElt", "focusOptions", "doSettle", "task", "anchorTarget", "xhr", "header", "triggerBody", "triggers", "eventName", "detail", "eventNames", "tokens", "position", "startPosition", "startChar", "symbol", "token", "last", "paramName", "bracketCount", "conditionalSource", "conditionFunction", "explicitTrigger", "cache", "triggerSpecs", "initialLength", "every", "eventFilter", "triggerSpec", "from_arg", "handler", "spec", "nodeData", "rawAttribute", "source", "explicitCancel", "elementData", "eltsToListenOn", "eltToListenOn", "eltToListenOnData", "eventListener", "eventData", "load", "explicitAction", "observerOptions", "entries", "attributes", "elements", "iter", "boostedSelector", "extensionSelectors", "selectors", "form", "code", "listener", "afterOnPosition", "nextChar", "toDo", "msg", "eventResult", "kebabName", "kebabedEvent", "rootElt", "innerHTML", "title", "scroll", "historyCache", "newHistoryItem", "className", "clone", "disableHistoryCache", "tasks", "request", "details", "historyElement", "cached", "indicators", "ic", "disabledElts", "disabledElement", "disabled", "processed", "formData", "v", "values", "errors", "validate", "input", "receiver", "donor", "priorityFormData", "button", "includes", "descendant", "returnStr", "realValue", "s", "prompt", "headers", "inputValues", "paramsValue", "newValues", "swapInfoOverride", "swapInfo", "split", "splitSpec", "scrollVal", "selectorVal", "showVal", "focusScrollVal", "filteredParameters", "encodedParameters", "first", "evalAsDefault", "evaluateValue", "varsValues", "toEval", "defaultVal", "expressionVars", "headerValue", "regexp", "requestConfig", "sameHost", "obj", "array", "index", "prop", "etc", "confirmed", "resolve", "reject", "promise", "_resolve", "_reject", "responseHandler", "select", "eltData", "submitter", "buttonPath", "buttonVerb", "confirmQuestion", "skipConfirmation", "syncElt", "syncStrategy", "queueStrategy", "abortable", "syncStrings", "endRequestLock", "promptQuestion", "promptResponse", "rawFormData", "allFormData", "filteredFormData", "requestAttrValues", "eltIsBoosted", "useUrlParams", "splitPath", "pathNoAnchor", "anchor", "finalPath", "responseInfo", "hierarchy", "disableElts", "secondaryTriggerElt", "parentEltInHierarchy", "params", "pathFromHeaders", "typeFromHeaders", "requestPath", "responsePath", "pushUrl", "replaceUrl", "elementIsBoosted", "saveType", "responseHandlingConfig", "status", "regExp", "responseHandlingElement", "titleElt", "responseInfoSelect", "redirectPath", "redirectSwapSpec", "shouldRefresh", "historyUpdate", "responseHandling", "shouldSwap", "isError", "ignoreTitle", "selectOverride", "swapOverride", "serverResponse", "settleResolve", "settleReject", "selectOOB", "doSwap", "finalElt", "shouldTransition", "settlePromise", "innerDoSwap", "api", "text", "parameters", "extensionsToReturn", "extensionsToIgnore", "extensionsForElement", "extensionName", "fn", "nonceAttribute", "metaConfig", "body", "restoredElts", "originalPopstate", "htmx_esm_default", "initAll", "htmx_esm_default", "disableFormInputs", "content", "element", "form", "reportTypeSelect", "reportTypeSelectValue", "reportAccountTypeSelectValue", "errorSummary", "errors"]
}
